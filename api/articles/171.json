{"title":"uni-app中获取设备屏幕宽高已经获取某个元素的高度","slug":"171","date":"2021-11-20T13:19:39.000Z","updated":"2021-11-20T13:29:30.000Z","comments":true,"path":"api/articles/171.json","excerpt":null,"covers":null,"content":"<h2 id=\"uni-app中获取设备屏幕宽高\"><a href=\"#uni-app中获取设备屏幕宽高\" class=\"headerlink\" title=\"uni-app中获取设备屏幕宽高\"></a>uni-app中获取设备屏幕宽高</h2><p><a href=\"https://uniapp.dcloud.io/api/system/info?id=getsysteminfo\">官方文档uni.getSystemInfo</a></p>\n<p>uni.getSystemInfo是异步获取</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uni.getSystemInfo(&#123;</span><br><span class=\"line\">    <span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">res</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.model);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.pixelRatio);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.windowWidth);   <span class=\"comment\">//设备宽度</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.windowHeight);  <span class=\"comment\">//设备高度</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.language);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.version);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.platform);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://uniapp.dcloud.io/api/system/info?id=getsysteminfosync\">uni.getSystemInfoSync()</a> 是同步获取</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">try &#123;</span><br><span class=\"line\">    const res = uni.getSystemInfoSync();</span><br><span class=\"line\">    console.log(res.model);</span><br><span class=\"line\">    console.log(res.pixelRatio);</span><br><span class=\"line\">    console.log(res.windowWidth);        //设备宽度</span><br><span class=\"line\">    console.log(res.windowHeight);       //设备高度</span><br><span class=\"line\">    console.log(res.language);</span><br><span class=\"line\">    console.log(res.version);</span><br><span class=\"line\">    console.log(res.platform);</span><br><span class=\"line\">&#125; catch (e) &#123;</span><br><span class=\"line\">    // error</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"uni-app获取元素高度\"><a href=\"#uni-app获取元素高度\" class=\"headerlink\" title=\"uni-app获取元素高度\"></a>uni-app获取元素高度</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uni.getSystemInfo(&#123;</span><br><span class=\"line\">　　<span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">res</span>) </span>&#123; <span class=\"comment\">// res - 各种参数</span></span><br><span class=\"line\">　　   <span class=\"built_in\">console</span>.log(res.windowWidth); <span class=\"comment\">// 屏幕的宽度 </span></span><br><span class=\"line\"></span><br><span class=\"line\">　　    <span class=\"keyword\">let</span> info = uni.createSelectorQuery().select(<span class=\"string\">&quot;.类名&quot;</span>);</span><br><span class=\"line\">　　　  　info.boundingClientRect(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>) </span>&#123; <span class=\"comment\">//data - 各种参数</span></span><br><span class=\"line\">　　　  　<span class=\"built_in\">console</span>.log(data.width)  <span class=\"comment\">// 获取元素宽度</span></span><br><span class=\"line\">　　    &#125;).exec()</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n","more":"<h2 id=\"uni-app中获取设备屏幕宽高\"><a href=\"#uni-app中获取设备屏幕宽高\" class=\"headerlink\" title=\"uni-app中获取设备屏幕宽高\"></a>uni-app中获取设备屏幕宽高</h2><p><a href=\"https://uniapp.dcloud.io/api/system/info?id=getsysteminfo\">官方文档uni.getSystemInfo</a></p>\n<p>uni.getSystemInfo是异步获取</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uni.getSystemInfo(&#123;</span><br><span class=\"line\">    <span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">res</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.model);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.pixelRatio);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.windowWidth);   <span class=\"comment\">//设备宽度</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.windowHeight);  <span class=\"comment\">//设备高度</span></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.language);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.version);</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res.platform);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://uniapp.dcloud.io/api/system/info?id=getsysteminfosync\">uni.getSystemInfoSync()</a> 是同步获取</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">try &#123;</span><br><span class=\"line\">    const res = uni.getSystemInfoSync();</span><br><span class=\"line\">    console.log(res.model);</span><br><span class=\"line\">    console.log(res.pixelRatio);</span><br><span class=\"line\">    console.log(res.windowWidth);        //设备宽度</span><br><span class=\"line\">    console.log(res.windowHeight);       //设备高度</span><br><span class=\"line\">    console.log(res.language);</span><br><span class=\"line\">    console.log(res.version);</span><br><span class=\"line\">    console.log(res.platform);</span><br><span class=\"line\">&#125; catch (e) &#123;</span><br><span class=\"line\">    // error</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"uni-app获取元素高度\"><a href=\"#uni-app获取元素高度\" class=\"headerlink\" title=\"uni-app获取元素高度\"></a>uni-app获取元素高度</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">uni.getSystemInfo(&#123;</span><br><span class=\"line\">　　<span class=\"attr\">success</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">res</span>) </span>&#123; <span class=\"comment\">// res - 各种参数</span></span><br><span class=\"line\">　　   <span class=\"built_in\">console</span>.log(res.windowWidth); <span class=\"comment\">// 屏幕的宽度 </span></span><br><span class=\"line\"></span><br><span class=\"line\">　　    <span class=\"keyword\">let</span> info = uni.createSelectorQuery().select(<span class=\"string\">&quot;.类名&quot;</span>);</span><br><span class=\"line\">　　　  　info.boundingClientRect(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>) </span>&#123; <span class=\"comment\">//data - 各种参数</span></span><br><span class=\"line\">　　　  　<span class=\"built_in\">console</span>.log(data.width)  <span class=\"comment\">// 获取元素宽度</span></span><br><span class=\"line\">　　    &#125;).exec()</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n","categories":[{"name":"uni-app开发","path":"api/categories/uni-app开发.json"}],"tags":[{"name":"微信小程序","path":"api/tags/微信小程序.json"},{"name":"uni-app开发","path":"api/tags/uni-app开发.json"}]}