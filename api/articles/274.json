{"title":"uniapp base64数据展示图片","slug":"274","date":"2024-03-11T08:46:21.000Z","updated":"2024-03-11T08:59:25.850Z","comments":true,"path":"api/articles/274.json","excerpt":null,"covers":null,"content":"<p>1.‘data:image/png;base64,’ + 获取到的base64数据</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.imgUrl = <span class=\"string\">&#x27;data:image/png;base64,&#x27;</span> + res.data.data.img</span><br></pre></td></tr></table></figure>\n<p>2.打印出的转换数据（this.imgUrl）放在浏览器上可以显示，目前此步渲染不到image标签上，这是因为base64字符串太长，在传输过程中加入回车导致</p>\n<p>3.解决办法：.replace(/[\\r\\n]/g, “”)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">:src</span>=<span class=\"string\">&#x27;imgUrl.replace(/[\\r\\n]/g, &quot;&quot;)&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","more":"<p>1.‘data:image/png;base64,’ + 获取到的base64数据</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.imgUrl = <span class=\"string\">&#x27;data:image/png;base64,&#x27;</span> + res.data.data.img</span><br></pre></td></tr></table></figure>\n<p>2.打印出的转换数据（this.imgUrl）放在浏览器上可以显示，目前此步渲染不到image标签上，这是因为base64字符串太长，在传输过程中加入回车导致</p>\n<p>3.解决办法：.replace(/[\\r\\n]/g, “”)</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">:src</span>=<span class=\"string\">&#x27;imgUrl.replace(/[\\r\\n]/g, &quot;&quot;)&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","categories":[{"name":"uniapp","path":"api/categories/uniapp.json"}],"tags":[{"name":"uniapp","path":"api/tags/uniapp.json"}]}