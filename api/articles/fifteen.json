{"title":"JavaScript ---事件的委派","slug":"fifteen","date":"2020-04-24T04:42:09.000Z","updated":"2022-07-29T04:22:04.754Z","comments":true,"path":"api/articles/fifteen.json","excerpt":" [Figure] ","covers":["https://qny.aqingya.cn/img/f2aedd087b1941baa9f31ee14591f6c7.jpg"],"content":"<p><img src=\"https://qny.aqingya.cn/img/f2aedd087b1941baa9f31ee14591f6c7.jpg\" alt=\"\"></p>\n<span id=\"more\"></span>\n<p><br><br><br></p>\n<ul>\n<li>指将事件统一绑定给元素的共同的祖先元素，这样当后代元素上的时间触发时，会一直冒泡到祖先元素。从而通过祖先元素的响应事件来处理事件。</li>\n<li>事件委派是利用了冒泡，通过委派可以减少事件的绑定次数，提高程序的性能。</li>\n</ul>\n<p>target：<br>target 事件属性可返回事件的目标节点（触发该事件的节点），如生成事件的元素、文档或窗口。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang=<span class=\"string\">&quot;en&quot;</span>&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span><br><span class=\"line\">    &lt;meta name=<span class=\"string\">&quot;viewport&quot;</span> content=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        window.onload = function() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> lis = document.getElementsByTagName(<span class=\"string\">&quot;li&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> u1 = document.getElementById(<span class=\"string\">&quot;u1&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> btn = document.getElementById(<span class=\"string\">&quot;btn&quot;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// for (var i = 0; i &lt; lis.length; i++) &#123;</span></span><br><span class=\"line\">            <span class=\"comment\">//     lis[i].onclick = function() &#123;</span></span><br><span class=\"line\">            <span class=\"comment\">//         alert(&quot;我是超链接&quot;);</span></span><br><span class=\"line\">            <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">            <span class=\"comment\">// &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">            u1.onclick = function(event) &#123;</span><br><span class=\"line\">                <span class=\"comment\">//解决event浏览器兼容性问题</span></span><br><span class=\"line\">                event = event || window.event;</span><br><span class=\"line\">                <span class=\"comment\">//如果触发的事件是我们期望的元素，否则不执行。</span></span><br><span class=\"line\">                <span class=\"comment\">//创建一个正则表达式，判断一下含有link的class才能被触发。</span></span><br><span class=\"line\">                <span class=\"keyword\">var</span> patt1 = /[link]/ig;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (patt1.test(event.target.className)) &#123;</span><br><span class=\"line\">                    alert(<span class=\"string\">&quot;我是超链接&quot;</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">            btn.onclick = function() &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> li = document.createElement(<span class=\"string\">&quot;li&quot;</span>);</span><br><span class=\"line\">                li.innerHTML = <span class=\"string\">&quot;&lt;a href=&#x27;javascript: ;&#x27;class=&#x27;link&#x27;&gt;新的超链接&lt;/a&gt;&quot;</span>;</span><br><span class=\"line\">                u1.appendChild(li);</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;button id=<span class=\"string\">&quot;btn&quot;</span>&gt;点击&lt;/button&gt;</span><br><span class=\"line\">    &lt;ul id=<span class=\"string\">&quot;u1&quot;</span>&gt;</span><br><span class=\"line\">        &lt;li&gt;&lt;a href=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;s link s&quot;</span>&gt;超链接&lt;/a&gt;&lt;/li&gt;</span><br><span class=\"line\">        &lt;li&gt;&lt;a href=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;link&quot;</span>&gt;超链接&lt;/a&gt;&lt;/li&gt;</span><br><span class=\"line\">        &lt;li&gt;&lt;a href=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;link&quot;</span>&gt;超链接&lt;/a&gt;&lt;/li&gt;</span><br><span class=\"line\">        &lt;li&gt;&lt;a href=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;link&quot;</span>&gt;超链接&lt;/a&gt;&lt;/li&gt;</span><br><span class=\"line\">    &lt;/ul&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p><br><br><br><br>愿你的坚持终有收获。<br><br><br><br></p>\n","more":"<p><br><br><br></p>\n<ul>\n<li>指将事件统一绑定给元素的共同的祖先元素，这样当后代元素上的时间触发时，会一直冒泡到祖先元素。从而通过祖先元素的响应事件来处理事件。</li>\n<li>事件委派是利用了冒泡，通过委派可以减少事件的绑定次数，提高程序的性能。</li>\n</ul>\n<p>target：<br>target 事件属性可返回事件的目标节点（触发该事件的节点），如生成事件的元素、文档或窗口。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang=<span class=\"string\">&quot;en&quot;</span>&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span><br><span class=\"line\">    &lt;meta name=<span class=\"string\">&quot;viewport&quot;</span> content=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        window.onload = function() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> lis = document.getElementsByTagName(<span class=\"string\">&quot;li&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> u1 = document.getElementById(<span class=\"string\">&quot;u1&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> btn = document.getElementById(<span class=\"string\">&quot;btn&quot;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// for (var i = 0; i &lt; lis.length; i++) &#123;</span></span><br><span class=\"line\">            <span class=\"comment\">//     lis[i].onclick = function() &#123;</span></span><br><span class=\"line\">            <span class=\"comment\">//         alert(&quot;我是超链接&quot;);</span></span><br><span class=\"line\">            <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">            <span class=\"comment\">// &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">            u1.onclick = function(event) &#123;</span><br><span class=\"line\">                <span class=\"comment\">//解决event浏览器兼容性问题</span></span><br><span class=\"line\">                event = event || window.event;</span><br><span class=\"line\">                <span class=\"comment\">//如果触发的事件是我们期望的元素，否则不执行。</span></span><br><span class=\"line\">                <span class=\"comment\">//创建一个正则表达式，判断一下含有link的class才能被触发。</span></span><br><span class=\"line\">                <span class=\"keyword\">var</span> patt1 = /[link]/ig;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (patt1.test(event.target.className)) &#123;</span><br><span class=\"line\">                    alert(<span class=\"string\">&quot;我是超链接&quot;</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">            btn.onclick = function() &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> li = document.createElement(<span class=\"string\">&quot;li&quot;</span>);</span><br><span class=\"line\">                li.innerHTML = <span class=\"string\">&quot;&lt;a href=&#x27;javascript: ;&#x27;class=&#x27;link&#x27;&gt;新的超链接&lt;/a&gt;&quot;</span>;</span><br><span class=\"line\">                u1.appendChild(li);</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;button id=<span class=\"string\">&quot;btn&quot;</span>&gt;点击&lt;/button&gt;</span><br><span class=\"line\">    &lt;ul id=<span class=\"string\">&quot;u1&quot;</span>&gt;</span><br><span class=\"line\">        &lt;li&gt;&lt;a href=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;s link s&quot;</span>&gt;超链接&lt;/a&gt;&lt;/li&gt;</span><br><span class=\"line\">        &lt;li&gt;&lt;a href=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;link&quot;</span>&gt;超链接&lt;/a&gt;&lt;/li&gt;</span><br><span class=\"line\">        &lt;li&gt;&lt;a href=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;link&quot;</span>&gt;超链接&lt;/a&gt;&lt;/li&gt;</span><br><span class=\"line\">        &lt;li&gt;&lt;a href=<span class=\"string\">&quot;javascript:;&quot;</span> <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">&quot;link&quot;</span>&gt;超链接&lt;/a&gt;&lt;/li&gt;</span><br><span class=\"line\">    &lt;/ul&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p><br><br><br><br>愿你的坚持终有收获。<br><br><br><br></p>","categories":[{"name":"JavaScript","path":"api/categories/JavaScript.json"}],"tags":[{"name":"JavaScript","path":"api/tags/JavaScript.json"}]}