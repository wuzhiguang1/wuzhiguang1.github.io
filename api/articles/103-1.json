{"title":"微信小程序中组件不支持id选择器等","slug":"103-1","date":"2020-08-30T06:27:30.000Z","updated":"2022-07-29T04:22:04.795Z","comments":true,"path":"api/articles/103-1.json","excerpt":" [Figure] ","covers":["https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.8/photo/IMG_0117.JPG","https://qny.aqingya.cn/img/20200830125526.png"],"content":"<p><img src=\"https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.8/photo/IMG_0117.JPG\"></p>\n<span id=\"more\"></span>\n\n<p>报错：Some selectors are not allowed in component wxss, including tag name selectors, ID selectors, and attribute selector</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200830125526.png\"></p>\n<p>官网给出的解释是：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html\">https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html</a> </p>\n<h2 id=\"组件样式\"><a href=\"#组件样式\" class=\"headerlink\" title=\"组件样式\"></a>组件样式</h2><p><strong>组件对应 <code>wxss</code> 文件的样式，只对组件wxml内的节点生效。编写组件样式时，需要注意以下几点：</strong></p>\n<ul>\n<li><strong>组件和引用组件的页面不能使用id选择器（<code>#a</code>）、属性选择器（<code>[a]</code>）和标签名选择器，请改用class选择器。</strong></li>\n<li><strong>组件和引用组件的页面中使用后代选择器（<code>.a .b</code>）在一些极端情况下会有非预期的表现，如遇，请避免使用。</strong></li>\n<li><strong>子元素选择器（<code>.a&gt;.b</code>）只能用于 <code>view</code> 组件与其子节点之间，用于其他组件可能导致非预期的情况。</strong></li>\n<li><strong>继承样式，如 <code>font</code> 、 <code>color</code> ，会从组件外继承到组件内。</strong></li>\n<li><strong>除继承样式外， <code>app.wxss</code> 中的样式、组件所在页面的的样式对自定义组件无效（除非更改组件样式隔离选项）。</strong></li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#a</span> &#123; &#125; <span class=\"comment\">/* 在组件中不能使用 */</span></span><br><span class=\"line\"><span class=\"selector-attr\">[a]</span> &#123; &#125; <span class=\"comment\">/* 在组件中不能使用 */</span></span><br><span class=\"line\"><span class=\"selector-tag\">button</span> &#123; &#125; <span class=\"comment\">/* 在组件中不能使用 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.a</span> &gt; <span class=\"selector-class\">.b</span> &#123; &#125; <span class=\"comment\">/* 除非 .a 是 view 组件节点，否则不一定会生效 */</span></span><br></pre></td></tr></table></figure>\n\n<p><br><br></p>\n","more":"<p>报错：Some selectors are not allowed in component wxss, including tag name selectors, ID selectors, and attribute selector</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200830125526.png\"></p>\n<p>官网给出的解释是：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html\">https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html</a> </p>\n<h2 id=\"组件样式\"><a href=\"#组件样式\" class=\"headerlink\" title=\"组件样式\"></a>组件样式</h2><p><strong>组件对应 <code>wxss</code> 文件的样式，只对组件wxml内的节点生效。编写组件样式时，需要注意以下几点：</strong></p>\n<ul>\n<li><strong>组件和引用组件的页面不能使用id选择器（<code>#a</code>）、属性选择器（<code>[a]</code>）和标签名选择器，请改用class选择器。</strong></li>\n<li><strong>组件和引用组件的页面中使用后代选择器（<code>.a .b</code>）在一些极端情况下会有非预期的表现，如遇，请避免使用。</strong></li>\n<li><strong>子元素选择器（<code>.a&gt;.b</code>）只能用于 <code>view</code> 组件与其子节点之间，用于其他组件可能导致非预期的情况。</strong></li>\n<li><strong>继承样式，如 <code>font</code> 、 <code>color</code> ，会从组件外继承到组件内。</strong></li>\n<li><strong>除继承样式外， <code>app.wxss</code> 中的样式、组件所在页面的的样式对自定义组件无效（除非更改组件样式隔离选项）。</strong></li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-id\">#a</span> &#123; &#125; <span class=\"comment\">/* 在组件中不能使用 */</span></span><br><span class=\"line\"><span class=\"selector-attr\">[a]</span> &#123; &#125; <span class=\"comment\">/* 在组件中不能使用 */</span></span><br><span class=\"line\"><span class=\"selector-tag\">button</span> &#123; &#125; <span class=\"comment\">/* 在组件中不能使用 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.a</span> &gt; <span class=\"selector-class\">.b</span> &#123; &#125; <span class=\"comment\">/* 除非 .a 是 view 组件节点，否则不一定会生效 */</span></span><br></pre></td></tr></table></figure>\n\n<p><br><br></p>","categories":[{"name":"微信小程序","path":"api/categories/微信小程序.json"}],"tags":[{"name":"微信小程序","path":"api/tags/微信小程序.json"}]}