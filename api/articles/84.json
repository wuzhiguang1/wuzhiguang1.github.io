{"title":"详解vue生命周期","slug":"84","date":"2020-08-12T01:58:03.000Z","updated":"2022-07-29T04:22:04.755Z","comments":true,"path":"api/articles/84.json","excerpt":" [Figure] ","covers":["https://qny.aqingya.cn/img/6a82b44338264afa9149b23210cb9495.jpeg","https://qny.aqingya.cn/img/564745745235235.png","https://qny.aqingya.cn/img/aksjdhfkjshd1.jpg","https://qny.aqingya.cn/img/20200812105315.png","https://qny.aqingya.cn/img/20200812100721.png","https://qny.aqingya.cn/img/20200812100833.png","https://qny.aqingya.cn/img/20200812101020.png","https://qny.aqingya.cn/img/20200812101258.png","https://qny.aqingya.cn/img/20200812101357.png","https://qny.aqingya.cn/img/20200812101411.png","https://qny.aqingya.cn/img/20200812101446.png","https://qny.aqingya.cn/img/20200812101543.png","https://qny.aqingya.cn/img/20200812101622.png","https://qny.aqingya.cn/img/20200812101652.png","https://qny.aqingya.cn/img/20200812101722.png","https://qny.aqingya.cn/img/20200812101744.png"],"content":"<p><img src=\"https://qny.aqingya.cn/img/6a82b44338264afa9149b23210cb9495.jpeg\"></p>\n<span id=\"more\"></span>\n\n<h2 id=\"vue生命周期介绍\"><a href=\"#vue生命周期介绍\" class=\"headerlink\" title=\"vue生命周期介绍\"></a>vue生命周期介绍</h2><p>首先，每个Vue实例在被<strong>创建</strong>之前都要经过一系列的初始化过程,这个过程就是vue的生命周期。首先看一张图吧~这是官方文档上的图片相信大家一定都会很熟悉：</p>\n<p><img src=\"https://qny.aqingya.cn/img/564745745235235.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/aksjdhfkjshd1.jpg\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812105315.png\"></p>\n<p>可以看到在vue一整个的生命周期中会有很多<strong>钩子函数</strong>提供给我们在vue生命周期不同的时刻进行操作, 那么先列出所有的钩子函数，然后我们再一一详解:</p>\n<ul>\n<li><strong>beforeCreate</strong></li>\n<li><strong>created</strong></li>\n<li><strong>beforeMount</strong></li>\n<li><strong>mounted</strong></li>\n<li><strong>beforeUpdate</strong></li>\n<li><strong>updated</strong></li>\n<li><strong>beforeDestroy</strong></li>\n<li><strong>destroyed</strong></li>\n</ul>\n<p>先来一波代码，各位复制在浏览器中运行，打开console查看就行了：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>vue生命周期学习<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vue/2.4.2/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Vue的生命周期&#x27;</span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">beforeCreate</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;------beforeCreate创建前状态------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span> , <span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el); <span class=\"comment\">//undefined</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); <span class=\"comment\">//undefined </span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message) </span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">created</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;------created创建完毕状态------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el); <span class=\"comment\">//undefined</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); <span class=\"comment\">//已被初始化 </span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); <span class=\"comment\">//已被初始化</span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">beforeMount</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;------beforeMount挂载前状态------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + (<span class=\"built_in\">this</span>.$el)); <span class=\"comment\">//已被初始化</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); <span class=\"comment\">//已被初始化  </span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); <span class=\"comment\">//已被初始化  </span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">mounted</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;------mounted 挂载结束状态------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el); <span class=\"comment\">//已被初始化</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);    </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); <span class=\"comment\">//已被初始化</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); <span class=\"comment\">//已被初始化 </span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">beforeUpdate</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;beforeUpdate 更新前状态===============》&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);   </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); </span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">updated</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;updated 更新完成状态===============》&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); </span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">beforeDestroy</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;beforeDestroy 销毁前状态===============》&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);    </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); </span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">destroyed</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;destroyed 销毁完成状态===============》&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);  </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message)</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">  &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>运行后打开console可以看到打印出来内容如下:</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812100721.png\"></p>\n<p>可以看到一个vue实例在创建过程中调用的几个生命周期钩子。</p>\n<br>\n\n<h2 id=\"1-在beforeCreate和created钩子函数之间的生命周期\"><a href=\"#1-在beforeCreate和created钩子函数之间的生命周期\" class=\"headerlink\" title=\"1. 在beforeCreate和created钩子函数之间的生命周期\"></a><strong>1. 在beforeCreate和created钩子函数之间的生命周期</strong></h2><p>在这个生命周期之间，进行<strong>初始化事件，进行数据的观测</strong>，可以看到在<strong>created</strong>的时候数据已经和<strong>data属性进行绑定</strong>（放在data中的属性当值发生改变的同时，视图也会改变）。<br>注意看下：此时还是没有el选项</p>\n<br>\n\n<h2 id=\"2-created钩子函数和beforeMount间的生命周期\"><a href=\"#2-created钩子函数和beforeMount间的生命周期\" class=\"headerlink\" title=\"2. created钩子函数和beforeMount间的生命周期\"></a><strong>2. created钩子函数和beforeMount间的生命周期</strong></h2><p><img src=\"https://qny.aqingya.cn/img/20200812100833.png\"></p>\n<p>在这一阶段发生的事情还是比较多的。</p>\n<p>首先会判断对象是否有<strong>el选项</strong>。<strong>如果有的话就继续向下编译，如果没有</strong>el选项<strong>，则停止编译，也就意味着停止了生命周期，直到在该vue实例上调用vm.$mount(el)。</strong>此时注释掉代码中:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">el: &#x27;#app&#x27;,</span><br></pre></td></tr></table></figure>\n\n<p>然后运行可以看到到created的时候就停止了：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101020.png\"></p>\n<p>如果我们在后面继续调用vm.$mount(el),可以发现代码继续向下执行了</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vm.$mount(el) <span class=\"comment\">//这个el参数就是挂在的dom接点</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"https://qny.aqingya.cn/img/20200812101258.png\"></p>\n<p>然后，我们往下看，<strong>template</strong>参数选项的有无对生命周期的影响。<br>（1）.如果vue实例对象中有template参数选项，则将其作为模板编译成render函数。<br>（2）.如果没有template选项，则将外部HTML作为模板编译。<br>（3）.可以看到template中的模板优先级要高于outer HTML的优先级。<br>修改代码如下, 在HTML结构中增加了一串html，在vue对象中增加了<strong>template选项</strong>：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>vue生命周期学习<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vue/2.4.2/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--html中修改的--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;message + &#x27;这是在outer HTML中的&#x27;&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">template</span>: <span class=\"string\">&quot;&lt;h1&gt;&#123;&#123;message +&#x27;这是在template中的&#x27;&#125;&#125;&lt;/h1&gt;&quot;</span>, <span class=\"comment\">//在vue配置项中修改的</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Vue的生命周期&#x27;</span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>执行后的结果可以看到在页面中显示的是：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101357.png\"></p>\n<p>那么将vue对象中template的选项注释掉后打印如下信息：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101411.png\"></p>\n<p>这下就可以想想什么<strong>el的判断</strong>要在template之前了~是因为vue需要通过el找到对应的outer template。</p>\n<p>在vue对象中还有一个<strong>render函数</strong>，它是以createElement作为参数，然后做渲染操作，而且我们可以直接嵌入JSX.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Vue(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">render</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">createElement</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> createElement(<span class=\"string\">&#x27;h1&#x27;</span>, <span class=\"string\">&#x27;this is createElement&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n\n\n<p>可以看到页面中渲染的是：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101446.png\"></p>\n<p>所以综合排名优先级：<br>render函数选项 &gt; template选项 &gt; outer HTML.</p>\n<br>\n\n<h2 id=\"3-beforeMount和mounted-钩子函数间的生命周期\"><a href=\"#3-beforeMount和mounted-钩子函数间的生命周期\" class=\"headerlink\" title=\"3. beforeMount和mounted 钩子函数间的生命周期\"></a><strong>3. beforeMount和mounted 钩子函数间的生命周期</strong></h2><p><img src=\"https://qny.aqingya.cn/img/20200812101543.png\"></p>\n<p>可以看到此时是给vue实例对象添加**$el成员<strong>，并且替换掉挂在的DOM元素。因为在之前console中打印的结果可以看到</strong>beforeMount**之前el上还是undefined。</p>\n<br>\n\n<h2 id=\"4-mounted\"><a href=\"#4-mounted\" class=\"headerlink\" title=\"4. mounted\"></a><strong>4. mounted</strong></h2><p>注意看下面截图：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101622.png\"></p>\n<p>在mounted之前h1中还是通过****进行占位的，因为此时还有挂在到页面上，还是JavaScript中的虚拟DOM形式存在的。在mounted之后可以看到h1中的内容发生了变化。</p>\n<br>\n\n<h2 id=\"5-beforeUpdate钩子函数和updated钩子函数间的生命周期\"><a href=\"#5-beforeUpdate钩子函数和updated钩子函数间的生命周期\" class=\"headerlink\" title=\"5. beforeUpdate钩子函数和updated钩子函数间的生命周期\"></a><strong>5. beforeUpdate钩子函数和updated钩子函数间的生命周期</strong></h2><p><img src=\"https://qny.aqingya.cn/img/20200812101652.png\"></p>\n<p>当vue发现data中的数据发生了改变，会<strong>触发对应组件的重新渲染</strong>，先后调用<strong>beforeUpdate</strong>和<strong>updated</strong>钩子函数。我们在console中输入：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vm.message = <span class=\"string\">&#x27;触发组件更新&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>发现触发了组件的更新：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101722.png\"></p>\n<br>\n\n<h2 id=\"6-beforeDestroy和destroyed钩子函数间的生命周期\"><a href=\"#6-beforeDestroy和destroyed钩子函数间的生命周期\" class=\"headerlink\" title=\"6.beforeDestroy和destroyed钩子函数间的生命周期\"></a><strong>6.beforeDestroy和destroyed钩子函数间的生命周期</strong></h2><p><img src=\"https://qny.aqingya.cn/img/20200812101744.png\"></p>\n<p><strong>beforeDestroy</strong>钩子函数在实例销毁之前调用。在这一步，实例仍然完全可用。<br><strong>destroyed</strong>钩子函数在Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。</p>\n<br>\n\n<br>\n\n<h2 id=\"总结：\"><a href=\"#总结：\" class=\"headerlink\" title=\"总结：\"></a>总结：</h2><h3 id=\"beforeCreate-创建前\"><a href=\"#beforeCreate-创建前\" class=\"headerlink\" title=\"beforeCreate( 创建前 )\"></a>beforeCreate( 创建前 )</h3><p>在实例初始化之后，数据观测和事件配置之前被调用，此时组件的选项对象还未创建，el 和 data 并未初始化，因此无法访问methods， data， computed等上的方法和数据。</p>\n<h3 id=\"created-创建后-）\"><a href=\"#created-创建后-）\" class=\"headerlink\" title=\"created ( 创建后 ）\"></a>created ( 创建后 ）</h3><p>实例已经创建完成之后被调用，在这一步，实例已完成以下配置：数据观测、属性和方法的运算，watch/event事件回调，完成了data 数据的初始化，el没有。 然而，挂在阶段还没有开始, $el属性目前不可见，这是一个常用的生命周期，因为你可以调用methods中的方法，改变data中的数据，并且修改可以通过vue的响应式绑定体现在页面上，，获取computed中的计算属性等等，通常我们可以在这里对实例进行预处理，也有一些童鞋喜欢在这里发ajax请求，值得注意的是，这个周期中是没有什么方法来对实例化过程进行拦截的，因此假如有某些数据必须获取才允许进入页面的话，并不适合在这个方法发请求，建议在组件路由钩子beforeRouteEnter中完成</p>\n<h3 id=\"beforeMount\"><a href=\"#beforeMount\" class=\"headerlink\" title=\"beforeMount\"></a>beforeMount</h3><p>挂在开始之前被调用，相关的render函数首次被调用（虚拟DOM），实例已完成以下的配置： 编译模板，把data里面的数据和模板生成html，完成了el和data 初始化，注意此时还没有挂在html到页面上。</p>\n<h3 id=\"mounted\"><a href=\"#mounted\" class=\"headerlink\" title=\"mounted\"></a>mounted</h3><p>挂在完成，也就是模板中的HTML渲染到HTML页面中，此时一般可以做一些ajax操作，mounted只会执行一次。</p>\n<h3 id=\"beforeUpdate\"><a href=\"#beforeUpdate\" class=\"headerlink\" title=\"beforeUpdate\"></a>beforeUpdate</h3><p>在数据更新之前被调用，发生在虚拟DOM重新渲染和打补丁之前，可以在该钩子中进一步地更改状态，不会触发附加地重渲染过程</p>\n<h3 id=\"updated（更新后）\"><a href=\"#updated（更新后）\" class=\"headerlink\" title=\"updated（更新后）\"></a>updated（更新后）</h3><p>在由于数据更改导致地虚拟DOM重新渲染和打补丁只会调用，调用时，组件DOM已经更新，所以可以执行依赖于DOM的操作，然后在大多是情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环，该钩子在服务器端渲染期间不被调用</p>\n<h3 id=\"beforeDestroy（销毁前）\"><a href=\"#beforeDestroy（销毁前）\" class=\"headerlink\" title=\"beforeDestroy（销毁前）\"></a>beforeDestroy（销毁前）</h3><p>在实例销毁之前调用，实例仍然完全可用，</p>\n<ol>\n<li>这一步还可以用this来获取实例，</li>\n<li>一般在这一步做一些重置的操作，比如清除掉组件中的定时器  和 监听的dom事件</li>\n</ol>\n<h3 id=\"destroyed（销毁后）\"><a href=\"#destroyed（销毁后）\" class=\"headerlink\" title=\"destroyed（销毁后）\"></a>destroyed（销毁后）</h3><p>在实例销毁之后调用，调用后，所以的事件监听器会被移出，所有的子实例也会被销毁，该钩子在服务器端渲染期间不被调用</p>\n<br>\n\n<br>\n\n<p><a href=\"https://segmentfault.com/a/1190000011381906\">https://segmentfault.com/a/1190000011381906</a></p>\n<p><br><br></p>\n","more":"<h2 id=\"vue生命周期介绍\"><a href=\"#vue生命周期介绍\" class=\"headerlink\" title=\"vue生命周期介绍\"></a>vue生命周期介绍</h2><p>首先，每个Vue实例在被<strong>创建</strong>之前都要经过一系列的初始化过程,这个过程就是vue的生命周期。首先看一张图吧~这是官方文档上的图片相信大家一定都会很熟悉：</p>\n<p><img src=\"https://qny.aqingya.cn/img/564745745235235.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/aksjdhfkjshd1.jpg\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812105315.png\"></p>\n<p>可以看到在vue一整个的生命周期中会有很多<strong>钩子函数</strong>提供给我们在vue生命周期不同的时刻进行操作, 那么先列出所有的钩子函数，然后我们再一一详解:</p>\n<ul>\n<li><strong>beforeCreate</strong></li>\n<li><strong>created</strong></li>\n<li><strong>beforeMount</strong></li>\n<li><strong>mounted</strong></li>\n<li><strong>beforeUpdate</strong></li>\n<li><strong>updated</strong></li>\n<li><strong>beforeDestroy</strong></li>\n<li><strong>destroyed</strong></li>\n</ul>\n<p>先来一波代码，各位复制在浏览器中运行，打开console查看就行了：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>vue生命周期学习<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vue/2.4.2/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Vue的生命周期&#x27;</span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">beforeCreate</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;------beforeCreate创建前状态------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span> , <span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el); <span class=\"comment\">//undefined</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); <span class=\"comment\">//undefined </span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message) </span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">created</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;------created创建完毕状态------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el); <span class=\"comment\">//undefined</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); <span class=\"comment\">//已被初始化 </span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); <span class=\"comment\">//已被初始化</span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">beforeMount</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;------beforeMount挂载前状态------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + (<span class=\"built_in\">this</span>.$el)); <span class=\"comment\">//已被初始化</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); <span class=\"comment\">//已被初始化  </span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); <span class=\"comment\">//已被初始化  </span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">mounted</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;------mounted 挂载结束状态------&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el); <span class=\"comment\">//已被初始化</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);    </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); <span class=\"comment\">//已被初始化</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); <span class=\"comment\">//已被初始化 </span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">beforeUpdate</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;beforeUpdate 更新前状态===============》&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);   </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); </span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">updated</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;updated 更新完成状态===============》&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); </span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">beforeDestroy</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;beforeDestroy 销毁前状态===============》&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);    </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message); </span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">destroyed</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.group(<span class=\"string\">&#x27;destroyed 销毁完成状态===============》&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;el     : &quot;</span> + <span class=\"built_in\">this</span>.$el);</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$el);  </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;data   : &quot;</span> + <span class=\"built_in\">this</span>.$data); </span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;%c%s&quot;</span>, <span class=\"string\">&quot;color:red&quot;</span>,<span class=\"string\">&quot;message: &quot;</span> + <span class=\"built_in\">this</span>.message)</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">  &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>运行后打开console可以看到打印出来内容如下:</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812100721.png\"></p>\n<p>可以看到一个vue实例在创建过程中调用的几个生命周期钩子。</p>\n<br>\n\n<h2 id=\"1-在beforeCreate和created钩子函数之间的生命周期\"><a href=\"#1-在beforeCreate和created钩子函数之间的生命周期\" class=\"headerlink\" title=\"1. 在beforeCreate和created钩子函数之间的生命周期\"></a><strong>1. 在beforeCreate和created钩子函数之间的生命周期</strong></h2><p>在这个生命周期之间，进行<strong>初始化事件，进行数据的观测</strong>，可以看到在<strong>created</strong>的时候数据已经和<strong>data属性进行绑定</strong>（放在data中的属性当值发生改变的同时，视图也会改变）。<br>注意看下：此时还是没有el选项</p>\n<br>\n\n<h2 id=\"2-created钩子函数和beforeMount间的生命周期\"><a href=\"#2-created钩子函数和beforeMount间的生命周期\" class=\"headerlink\" title=\"2. created钩子函数和beforeMount间的生命周期\"></a><strong>2. created钩子函数和beforeMount间的生命周期</strong></h2><p><img src=\"https://qny.aqingya.cn/img/20200812100833.png\"></p>\n<p>在这一阶段发生的事情还是比较多的。</p>\n<p>首先会判断对象是否有<strong>el选项</strong>。<strong>如果有的话就继续向下编译，如果没有</strong>el选项<strong>，则停止编译，也就意味着停止了生命周期，直到在该vue实例上调用vm.$mount(el)。</strong>此时注释掉代码中:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">el: &#x27;#app&#x27;,</span><br></pre></td></tr></table></figure>\n\n<p>然后运行可以看到到created的时候就停止了：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101020.png\"></p>\n<p>如果我们在后面继续调用vm.$mount(el),可以发现代码继续向下执行了</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vm.$mount(el) <span class=\"comment\">//这个el参数就是挂在的dom接点</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"https://qny.aqingya.cn/img/20200812101258.png\"></p>\n<p>然后，我们往下看，<strong>template</strong>参数选项的有无对生命周期的影响。<br>（1）.如果vue实例对象中有template参数选项，则将其作为模板编译成render函数。<br>（2）.如果没有template选项，则将外部HTML作为模板编译。<br>（3）.可以看到template中的模板优先级要高于outer HTML的优先级。<br>修改代码如下, 在HTML结构中增加了一串html，在vue对象中增加了<strong>template选项</strong>：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>vue生命周期学习<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vue/2.4.2/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--html中修改的--&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;message + &#x27;这是在outer HTML中的&#x27;&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">template</span>: <span class=\"string\">&quot;&lt;h1&gt;&#123;&#123;message +&#x27;这是在template中的&#x27;&#125;&#125;&lt;/h1&gt;&quot;</span>, <span class=\"comment\">//在vue配置项中修改的</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Vue的生命周期&#x27;</span></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>执行后的结果可以看到在页面中显示的是：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101357.png\"></p>\n<p>那么将vue对象中template的选项注释掉后打印如下信息：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101411.png\"></p>\n<p>这下就可以想想什么<strong>el的判断</strong>要在template之前了~是因为vue需要通过el找到对应的outer template。</p>\n<p>在vue对象中还有一个<strong>render函数</strong>，它是以createElement作为参数，然后做渲染操作，而且我们可以直接嵌入JSX.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Vue(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">render</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">createElement</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> createElement(<span class=\"string\">&#x27;h1&#x27;</span>, <span class=\"string\">&#x27;this is createElement&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n\n\n<p>可以看到页面中渲染的是：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101446.png\"></p>\n<p>所以综合排名优先级：<br>render函数选项 &gt; template选项 &gt; outer HTML.</p>\n<br>\n\n<h2 id=\"3-beforeMount和mounted-钩子函数间的生命周期\"><a href=\"#3-beforeMount和mounted-钩子函数间的生命周期\" class=\"headerlink\" title=\"3. beforeMount和mounted 钩子函数间的生命周期\"></a><strong>3. beforeMount和mounted 钩子函数间的生命周期</strong></h2><p><img src=\"https://qny.aqingya.cn/img/20200812101543.png\"></p>\n<p>可以看到此时是给vue实例对象添加**$el成员<strong>，并且替换掉挂在的DOM元素。因为在之前console中打印的结果可以看到</strong>beforeMount**之前el上还是undefined。</p>\n<br>\n\n<h2 id=\"4-mounted\"><a href=\"#4-mounted\" class=\"headerlink\" title=\"4. mounted\"></a><strong>4. mounted</strong></h2><p>注意看下面截图：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101622.png\"></p>\n<p>在mounted之前h1中还是通过****进行占位的，因为此时还有挂在到页面上，还是JavaScript中的虚拟DOM形式存在的。在mounted之后可以看到h1中的内容发生了变化。</p>\n<br>\n\n<h2 id=\"5-beforeUpdate钩子函数和updated钩子函数间的生命周期\"><a href=\"#5-beforeUpdate钩子函数和updated钩子函数间的生命周期\" class=\"headerlink\" title=\"5. beforeUpdate钩子函数和updated钩子函数间的生命周期\"></a><strong>5. beforeUpdate钩子函数和updated钩子函数间的生命周期</strong></h2><p><img src=\"https://qny.aqingya.cn/img/20200812101652.png\"></p>\n<p>当vue发现data中的数据发生了改变，会<strong>触发对应组件的重新渲染</strong>，先后调用<strong>beforeUpdate</strong>和<strong>updated</strong>钩子函数。我们在console中输入：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vm.message = <span class=\"string\">&#x27;触发组件更新&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>发现触发了组件的更新：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200812101722.png\"></p>\n<br>\n\n<h2 id=\"6-beforeDestroy和destroyed钩子函数间的生命周期\"><a href=\"#6-beforeDestroy和destroyed钩子函数间的生命周期\" class=\"headerlink\" title=\"6.beforeDestroy和destroyed钩子函数间的生命周期\"></a><strong>6.beforeDestroy和destroyed钩子函数间的生命周期</strong></h2><p><img src=\"https://qny.aqingya.cn/img/20200812101744.png\"></p>\n<p><strong>beforeDestroy</strong>钩子函数在实例销毁之前调用。在这一步，实例仍然完全可用。<br><strong>destroyed</strong>钩子函数在Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。</p>\n<br>\n\n<br>\n\n<h2 id=\"总结：\"><a href=\"#总结：\" class=\"headerlink\" title=\"总结：\"></a>总结：</h2><h3 id=\"beforeCreate-创建前\"><a href=\"#beforeCreate-创建前\" class=\"headerlink\" title=\"beforeCreate( 创建前 )\"></a>beforeCreate( 创建前 )</h3><p>在实例初始化之后，数据观测和事件配置之前被调用，此时组件的选项对象还未创建，el 和 data 并未初始化，因此无法访问methods， data， computed等上的方法和数据。</p>\n<h3 id=\"created-创建后-）\"><a href=\"#created-创建后-）\" class=\"headerlink\" title=\"created ( 创建后 ）\"></a>created ( 创建后 ）</h3><p>实例已经创建完成之后被调用，在这一步，实例已完成以下配置：数据观测、属性和方法的运算，watch/event事件回调，完成了data 数据的初始化，el没有。 然而，挂在阶段还没有开始, $el属性目前不可见，这是一个常用的生命周期，因为你可以调用methods中的方法，改变data中的数据，并且修改可以通过vue的响应式绑定体现在页面上，，获取computed中的计算属性等等，通常我们可以在这里对实例进行预处理，也有一些童鞋喜欢在这里发ajax请求，值得注意的是，这个周期中是没有什么方法来对实例化过程进行拦截的，因此假如有某些数据必须获取才允许进入页面的话，并不适合在这个方法发请求，建议在组件路由钩子beforeRouteEnter中完成</p>\n<h3 id=\"beforeMount\"><a href=\"#beforeMount\" class=\"headerlink\" title=\"beforeMount\"></a>beforeMount</h3><p>挂在开始之前被调用，相关的render函数首次被调用（虚拟DOM），实例已完成以下的配置： 编译模板，把data里面的数据和模板生成html，完成了el和data 初始化，注意此时还没有挂在html到页面上。</p>\n<h3 id=\"mounted\"><a href=\"#mounted\" class=\"headerlink\" title=\"mounted\"></a>mounted</h3><p>挂在完成，也就是模板中的HTML渲染到HTML页面中，此时一般可以做一些ajax操作，mounted只会执行一次。</p>\n<h3 id=\"beforeUpdate\"><a href=\"#beforeUpdate\" class=\"headerlink\" title=\"beforeUpdate\"></a>beforeUpdate</h3><p>在数据更新之前被调用，发生在虚拟DOM重新渲染和打补丁之前，可以在该钩子中进一步地更改状态，不会触发附加地重渲染过程</p>\n<h3 id=\"updated（更新后）\"><a href=\"#updated（更新后）\" class=\"headerlink\" title=\"updated（更新后）\"></a>updated（更新后）</h3><p>在由于数据更改导致地虚拟DOM重新渲染和打补丁只会调用，调用时，组件DOM已经更新，所以可以执行依赖于DOM的操作，然后在大多是情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环，该钩子在服务器端渲染期间不被调用</p>\n<h3 id=\"beforeDestroy（销毁前）\"><a href=\"#beforeDestroy（销毁前）\" class=\"headerlink\" title=\"beforeDestroy（销毁前）\"></a>beforeDestroy（销毁前）</h3><p>在实例销毁之前调用，实例仍然完全可用，</p>\n<ol>\n<li>这一步还可以用this来获取实例，</li>\n<li>一般在这一步做一些重置的操作，比如清除掉组件中的定时器  和 监听的dom事件</li>\n</ol>\n<h3 id=\"destroyed（销毁后）\"><a href=\"#destroyed（销毁后）\" class=\"headerlink\" title=\"destroyed（销毁后）\"></a>destroyed（销毁后）</h3><p>在实例销毁之后调用，调用后，所以的事件监听器会被移出，所有的子实例也会被销毁，该钩子在服务器端渲染期间不被调用</p>\n<br>\n\n<br>\n\n<p><a href=\"https://segmentfault.com/a/1190000011381906\">https://segmentfault.com/a/1190000011381906</a></p>\n<p><br><br></p>","categories":[{"name":"Vue","path":"api/categories/Vue.json"}],"tags":[{"name":"Vue","path":"api/tags/Vue.json"},{"name":"vue生命周期","path":"api/tags/vue生命周期.json"}]}