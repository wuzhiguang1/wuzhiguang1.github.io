{"title":"微信小程序学习笔记（详细汇总）","slug":"134","date":"2020-12-01T02:19:27.000Z","updated":"2020-12-01T02:45:04.000Z","comments":true,"path":"api/articles/134.json","excerpt":" [Figure] ","covers":["https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.9/photo/IMG_0157.JPG","https://img-blog.csdnimg.cn/2020091622283790.png#pic_center","https://img-blog.csdnimg.cn/20200919144218839.png#pic_center","https://img-blog.csdnimg.cn/20200920112234319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Jlc3RfYXJyYW5nZW1lbnQ=,size_16,color_FFFFFF,t_70#pic_center"],"content":"<p><img src=\"https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.9/photo/IMG_0157.JPG\" alt=\"\"></p>\n<span id=\"more\"></span>\n<h1 id=\"一、微信小程序简介\"><a href=\"#一、微信小程序简介\" class=\"headerlink\" title=\"一、微信小程序简介\"></a>一、微信小程序简介</h1><p>1、<a href=\"https://baike.baidu.com/item/微信小程序\">微信小程序</a>，小程序的一种，英文名Wechat Mini Program,是一种不需要下载安装即可使用的应用，它实现了应用触手可及”的梦想，用户扫一扫或搜一下即可打开应用。</p>\n<p>2、微信小程序，之前叫<strong>应用号</strong>，2017年正式上线</p>\n<p>3、学习微信小程序之前，强烈建议先学习vue.js，学了之后再学超级快</p>\n<p>4、微信小程序优点：</p>\n<ul>\n<li>微信有海量用户,且粘性很高，在微信里开发产品更容易触达用户</li>\n<li>推广app或公众号的成本太高</li>\n<li>开发适配成本低</li>\n<li>容易小规模试错,然后快速迭代</li>\n<li>跨平台</li>\n</ul>\n<hr>\n<h1 id=\"二、微信小程序环境准备\"><a href=\"#二、微信小程序环境准备\" class=\"headerlink\" title=\"二、微信小程序环境准备\"></a>二、微信小程序环境准备</h1><h2 id=\"2-1-申请帐号\"><a href=\"#2-1-申请帐号\" class=\"headerlink\" title=\"2.1 申请帐号\"></a>2.1 申请帐号</h2><ol>\n<li>进入<a href=\"https://mp.weixin.qq.com/wxopen/waregister?action=step1\">小程序注册页</a>根据指引填写信息和提交相应的资料，就可以拥有自己的小程序帐号</li>\n<li>你也可以管理你的小程序的权限，查看数据报表，发布小程序等操作。通过登录<a href=\"https://mp.weixin.qq.com/wxamp/home/guide?lang=zh_CN&amp;token=435417771\">小程序后台</a>，可以在菜单 “开发”-“开发设置” 看到小程序的 AppID 了 （记得保密）</li>\n</ol>\n<h2 id=\"2-2-安装开发工具\"><a href=\"#2-2-安装开发工具\" class=\"headerlink\" title=\"2.2 安装开发工具\"></a>2.2 安装开发工具</h2><p>前往 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html\">小程序开发工具下载页面</a> ，根据自己的操作系统下载对应的安装包进行安装</p>\n<h2 id=\"2-3-编译预览\"><a href=\"#2-3-编译预览\" class=\"headerlink\" title=\"2.3 编译预览\"></a>2.3 编译预览</h2><p>这里推荐用vs code编辑，小程序开发工具预览</p>\n<p>vscode 小程序开发插件<br>（一）minapp。支持微信小程序标签、属性的智能补全，并且提示中包含文档内容（同时支持原生小程序、mpvue 和 wepy 框架，并提供 snippets）。<br>（二）wechat-snippet。这个插件主要的功能就是代码辅助，代码片段自动完成，可以作为上个插件的补充。<br>（三）wxml。这款插件用于将wxml代码进行高亮显示，并且提供代码格式化的功能，可将代码格式化为较易阅读的样式。<br>（四）vscode weapp api 。js中的api提示</p>\n<hr>\n<h1 id=\"三、小程序代码构成\"><a href=\"#三、小程序代码构成\" class=\"headerlink\" title=\"三、小程序代码构成\"></a>三、小程序代码构成</h1><p>通过开发者工具快速创建了一个 QuickStart 项目，里面有以下不同类型文件：</p>\n<ul>\n<li>.json 后缀的 JSON 配置文件</li>\n<li>.wxml 后缀的 WXML 模板文件</li>\n<li>.wxss 后缀的 WXSS 样式文件</li>\n<li>.js 后缀的 JS 脚本逻辑文件</li>\n</ul>\n<h1 id=\"四、JSON配置\"><a href=\"#四、JSON配置\" class=\"headerlink\" title=\"四、JSON配置\"></a>四、JSON配置</h1><p>配置相关的为.json文件，需要注意的是 JSON 文件中无法使用注释，试图添加注释将会引发报错</p>\n<h2 id=\"4-1-小程序配置-app-json\"><a href=\"#4-1-小程序配置-app-json\" class=\"headerlink\" title=\"4.1 小程序配置 app.json\"></a>4.1 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/config.html\">小程序配置 app.json</a></h2><p>app.json 是当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等。QuickStart 项目里边的 app.json 配置内容如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;pages&quot;</span>:[<span class=\"comment\">//页面路由，在这里添加路由可以自动生成对应文件</span></span><br><span class=\"line\">    <span class=\"string\">&quot;pages/index/index&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;pages/logs/logs&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;pages/demo01/demo01&quot;</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">&quot;window&quot;</span>:&#123;<span class=\"comment\">//定义小程序所有页面的顶部背景颜色，文字颜色定义等</span></span><br><span class=\"line\">  \t<span class=\"comment\">//下拉 loading 的样式，仅支持 dark / light</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;backgroundTextStyle&quot;</span>:<span class=\"string\">&quot;light&quot;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//导航栏的样式</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;navigationBarBackgroundColor&quot;</span>: <span class=\"string\">&quot;#fff&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;navigationBarTitleText&quot;</span>: <span class=\"string\">&quot;WeChat&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;navigationBarTextStyle&quot;</span>:<span class=\"string\">&quot;black&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">&quot;style&quot;</span>: <span class=\"string\">&quot;v2&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;sitemapLocation&quot;</span>: <span class=\"string\">&quot;sitemap.json&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"4-2工具配置-project-config-json\"><a href=\"#4-2工具配置-project-config-json\" class=\"headerlink\" title=\"4.2工具配置 project.config.json\"></a>4.2<a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html\">工具配置 project.config.json</a></h2><p>个性化配置，例如界面颜色、编译配置等等，避免了当你换另外一台电脑重新安装工具的时候再重新配置。</p>\n<h2 id=\"4-3-页面配置-page-json\"><a href=\"#4-3-页面配置-page-json\" class=\"headerlink\" title=\"4.3 页面配置 page.json\"></a>4.3 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html\">页面配置 page.json</a></h2><p>表示 pages/logs 目录下的 logs.json 这类和小程序页面相关的配置，可对每个页面进行单独配置</p>\n<h2 id=\"4-4-sitemap-配置-了解即可\"><a href=\"#4-4-sitemap-配置-了解即可\" class=\"headerlink\" title=\"4.4 sitemap 配置-了解即可\"></a>4.4 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html\">sitemap 配置-了解即可</a></h2><p>⼩程序根⽬录下的 sitemap.json ⽂件⽤于配置⼩程序及其⻚⾯是否允许被微信索引</p>\n<h1 id=\"五、模板WXML\"><a href=\"#五、模板WXML\" class=\"headerlink\" title=\"五、模板WXML\"></a>五、<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/code.html#WXML-模板\">模板WXML</a></h1><ol>\n<li>标签名字有点不一样</li>\n</ol>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>HTML标签</th>\n<th>div, p, span等</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>小程序WXML</td>\n<td>view, button, text等</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ol>\n<li>多了一些 wx:if 这样的属性（界面及状态的控制）以及 <strong>双大括号</strong> 这样的表达式 ，数据绑定。</li>\n<li>MVVM 的开发模式（例如 React, Vue），提倡把渲染和逻辑分离<br>WXML是框架设计的⼀套标签语⾔，结合基础组件、事件系统，可以构建出⻚⾯的结构</li>\n</ol>\n<h2 id=\"5-1-数据绑定\"><a href=\"#5-1-数据绑定\" class=\"headerlink\" title=\"5.1 数据绑定\"></a>5.1 数据绑定</h2><p>（一）普通写法<br>index.wxml</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span> &#123;&#123; message &#125;&#125; <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>index.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Hello MINA!&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br></pre></td></tr></table></figure>\n<p>（二）组件属性<br>index.wxml</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;item-&#123;&#123;id&#125;&#125;&quot;</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>index.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"number\">0</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br></pre></td></tr></table></figure>\n<p>（三）bool类型<br>不要直接写 checked=“false”，其计算结果是⼀个字符串</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">checkbox</span> <span class=\"attr\">checked</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">checkbox</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<h2 id=\"5-2-运算\"><a href=\"#5-2-运算\" class=\"headerlink\" title=\"5.2 运算\"></a>5.2 运算</h2><p>（一）三元运算</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;flag ? true : false&#125;&#125;&quot;</span>&gt;</span> Hidden <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>（二）if 逻辑判断</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;length &gt; 5&#125;&#125;&quot;</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>注意：花括号和引号之间如果有空格，将最终被解析成为字符串，切记不要留有空格</p>\n<h2 id=\"5-3-列表渲染\"><a href=\"#5-3-列表渲染\" class=\"headerlink\" title=\"5.3 列表渲染\"></a>5.3 列表渲染</h2><p>（一）wx:for</p>\n<ul>\n<li>项的变量名默认为 item wx:for-item 可以指定数组当前元素的变量名</li>\n<li>下标变量名默认为 index wx:for-index 可以指定数组当前下标的变量名</li>\n<li>wx:key ⽤来提⾼数组渲染的性能</li>\n<li>wx:key 绑定的值 有如下选择：</li>\n<li><ol>\n<li>string 类型，表⽰循环项中的唯⼀属性 如</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">list:[&#123;<span class=\"attr\">id</span>:<span class=\"number\">0</span>,<span class=\"attr\">name</span>:<span class=\"string\">&quot;炒饭&quot;</span>&#125;,&#123;<span class=\"attr\">id</span>:<span class=\"number\">1</span>,<span class=\"attr\">name</span>:<span class=\"string\">&quot;炒面&quot;</span>&#125;]</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"attr\">wx</span>:key=<span class=\"string\">&quot;id&quot;</span></span><br><span class=\"line\"><span class=\"number\">123</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><ol>\n<li>保留字 <em>this ，它的意思是 item 本⾝ ，</em>this 代表的必须是 唯⼀的字符串和数组。</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">list:[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>]</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"attr\">wx</span>:key=<span class=\"string\">&quot;*this&quot;</span></span><br><span class=\"line\"><span class=\"number\">123</span></span><br></pre></td></tr></table></figure>\n<p>代码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;array&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span></span><br><span class=\"line\">  &#123;&#123;index&#125;&#125;: &#123;&#123;item.message&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    array: [&#123;</span><br><span class=\"line\">      id:0,</span><br><span class=\"line\">      message: &#x27;foo&#x27;,</span><br><span class=\"line\">    &#125;, &#123;</span><br><span class=\"line\">      id:1,</span><br><span class=\"line\">      message: &#x27;bar&#x27;</span><br><span class=\"line\">    &#125;]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">1234567891011</span><br></pre></td></tr></table></figure>\n<p>（二）block<br>渲染⼀个包含多节点的结构块 block最终不会变成真正的dom元素</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;[1, 2, 3]&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;*this&quot;</span> &gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span> &#123;&#123;index&#125;&#125;: <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span> &#123;&#123;item&#125;&#125; <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\">1234</span><br></pre></td></tr></table></figure>\n<h2 id=\"5-4-条件渲染\"><a href=\"#5-4-条件渲染\" class=\"headerlink\" title=\"5.4 条件渲染\"></a>5.4 条件渲染</h2><p>（一）wx:if<br>在框架中，使⽤ wx:if=”“ 来判断是否需要渲染该代码块：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:else</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123</span><br></pre></td></tr></table></figure>\n<p>（二）hidden（类似 wx:if）</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;condition&#125;&#125;&quot;</span>&gt;</span> True <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>频繁切换 ⽤ hidden<br>不常使⽤ ⽤ wx:if</p>\n<h2 id=\"5-5-事件绑定\"><a href=\"#5-5-事件绑定\" class=\"headerlink\" title=\"5.5 事件绑定\"></a>5.5 事件绑定</h2><p>⼩程序中绑定事件，通过bind关键字来实现。如 bindtap bindinput bindchange 等<br>代码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 1.需要给input标签绑定 input事件</span></span><br><span class=\"line\"><span class=\"comment\">绑定关键字 bindinput</span></span><br><span class=\"line\"><span class=\"comment\">2.如何获取输入框的值</span></span><br><span class=\"line\"><span class=\"comment\">通过事件源对象获取e.detail.value</span></span><br><span class=\"line\"><span class=\"comment\">3.把输入框的值赋值到data中</span></span><br><span class=\"line\"><span class=\"comment\">错误：this.data.num = e.detail.value</span></span><br><span class=\"line\"><span class=\"comment\">正确：</span></span><br><span class=\"line\"><span class=\"comment\">this.setData(&#123;</span></span><br><span class=\"line\"><span class=\"comment\">  num: e.detail.value</span></span><br><span class=\"line\"><span class=\"comment\">&#125;)</span></span><br><span class=\"line\"><span class=\"comment\">4.需要加入一个点击事件</span></span><br><span class=\"line\"><span class=\"comment\">      bindtab</span></span><br><span class=\"line\"><span class=\"comment\">      无法在小程序中的事件直接传参</span></span><br><span class=\"line\"><span class=\"comment\">      通过自定义属性的方式传递参数</span></span><br><span class=\"line\"><span class=\"comment\">      事件源中获取自定义属性 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">bindinput</span>=<span class=\"string\">&quot;handleInput&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtab</span>=<span class=\"string\">&quot;handleTab&quot;</span> <span class=\"attr\">data-operation</span>=<span class=\"string\">&quot;&#123;&#123;1&#125;&#125;&quot;</span>&gt;</span>+<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtab</span>=<span class=\"string\">&quot;handleTab&quot;</span> <span class=\"attr\">data-operation</span>=<span class=\"string\">&quot;&#123;&#123;-1&#125;&#125;&quot;</span>&gt;</span>-<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1234567891011121314151617181920</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    num: &#x27;0&#x27;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  handleInput(e) &#123;</span><br><span class=\"line\">    // 绑定的事件</span><br><span class=\"line\">    console.log(e)</span><br><span class=\"line\">    console.log(e.detail.value);</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      num: e.detail.value</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  // 加减按钮事件</span><br><span class=\"line\">  handleTab(e) &#123;</span><br><span class=\"line\">    console.log(e);</span><br><span class=\"line\">    // 获取自定义属性operation</span><br><span class=\"line\">    const operation = e.currentTarget.dataset.operation</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      num: this.data.num + operation</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">12345678910111213141516171819202122</span><br></pre></td></tr></table></figure>\n<h1 id=\"六、样式-WXSS\"><a href=\"#六、样式-WXSS\" class=\"headerlink\" title=\"六、样式 WXSS\"></a>六、样式 WXSS</h1><p>WXSS( WeiXin Style Sheets )是⼀套样式语⾔，⽤于描述 WXML 的组件样式。<br>与 CSS 相⽐，WXSS 扩展的特性有：</p>\n<ul>\n<li>响应式⻓度单位 rpx</li>\n<li>样式导⼊</li>\n</ul>\n<h2 id=\"6-1-尺寸单位\"><a href=\"#6-1-尺寸单位\" class=\"headerlink\" title=\"6.1 尺寸单位\"></a>6.1 尺寸单位</h2><p>（1）rpx （responsive pixel）: 可以根据屏幕宽度进⾏⾃适应。规定屏幕宽为 750rpx 。如在iPhone6 上，屏幕宽度为 375px ，共有750个物理像素，则 750rpx = 375px = 750物理像<br>素 ， 1rpx = 0.5px = 1物理像素</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>设备</th>\n<th>rpx换算px (屏幕宽度/750)</th>\n<th>px换算rpx (750/屏幕宽度)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>iPhone5</td>\n<td>1rpx = 0.42px</td>\n<td>1px = 2.34rpx</td>\n</tr>\n<tr>\n<td>iPhone6</td>\n<td>1rpx = 0.5px</td>\n<td>1px = 2rpx</td>\n</tr>\n<tr>\n<td>iPhone6 Plus</td>\n<td>1rpx = 0.552px</td>\n<td>1px = 1.81rpx</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>（2）建议： 开发微信⼩程序时设计师可以⽤ iPhone6 作为视觉稿的标准<br>（3）使⽤步骤：</p>\n<ol>\n<li>确定设计稿宽度 pageWidth</li>\n<li>计算⽐例 750rpx = pageWidth px ,因此 1px=750rpx/pageWidth 。</li>\n<li>在less⽂件中，只要把设计稿中的 px =&gt; 750/pageWidth rpx 即可。</li>\n<li>代码写法</li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* width: 200rpx; */</span></span><br><span class=\"line\"><span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">700</span>rpx*<span class=\"number\">100</span>/<span class=\"number\">375</span>);</span><br><span class=\"line\"><span class=\"number\">12</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"6-2-样式导⼊\"><a href=\"#6-2-样式导⼊\" class=\"headerlink\" title=\"6.2 样式导⼊\"></a>6.2 样式导⼊</h2><ul>\n<li>wxss中直接就⽀持，样式导⼊功能。</li>\n<li>也可以和 less中的导⼊混⽤。</li>\n<li>使⽤ @import 语句可以导⼊外联样式表，只⽀持相对路径。</li>\n</ul>\n<p>示例代码：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** common.wxss **/</span></span><br><span class=\"line\"><span class=\"selector-class\">.small-p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>:<span class=\"number\">5px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>:red;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br><span class=\"line\"><span class=\"comment\">/** app.wxss **/</span></span><br><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&quot;common.wxss&quot;</span>;</span><br><span class=\"line\"><span class=\"selector-class\">.middle-p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>:<span class=\"number\">15px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>:blue;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">123456</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"6-3-选择器\"><a href=\"#6-3-选择器\" class=\"headerlink\" title=\"6.3 选择器\"></a>6.3 选择器</h2><p>特别需要注意的是 ⼩程序 不⽀持通配符 * 因此以下代码⽆效！</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>:border-box;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br></pre></td></tr></table></figure>\n<p>⽬前⽀持的选择器有：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>选择器</th>\n<th>样例</th>\n<th>样例描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>.class</td>\n<td>.intro</td>\n<td>选择所有拥有 class=”intro”的组件</td>\n</tr>\n<tr>\n<td>#id</td>\n<td>#firstname</td>\n<td>选择拥有 id=”firstname”的组件</td>\n</tr>\n<tr>\n<td>element</td>\n<td>view</td>\n<td>选择所有 view 组件</td>\n</tr>\n<tr>\n<td>element,element</td>\n<td>view,checkbox</td>\n<td>选择所有⽂档的 view 组件和所有的 checkbox 组件</td>\n</tr>\n<tr>\n<td>nth-child(n)</td>\n<td>view:nth-child(n)</td>\n<td>选择某个索引的标签</td>\n</tr>\n<tr>\n<td>::after</td>\n<td>view::after</td>\n<td>在 view 组件后边插⼊内容</td>\n</tr>\n<tr>\n<td>::before</td>\n<td>view::before</td>\n<td>在 view 组件前边插⼊内容</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"6-4-⼩程序中使⽤less\"><a href=\"#6-4-⼩程序中使⽤less\" class=\"headerlink\" title=\"6.4 ⼩程序中使⽤less\"></a>6.4 ⼩程序中使⽤less</h2><p>（1）原⽣⼩程序不⽀持 less ，其他基于⼩程序的框架⼤体都⽀持，如 wepy ， mpvue ， taro 等。<br>（2）但是仅仅因为⼀个less功能，⽽去引⼊⼀个框架，肯定是不可取的。因此可以⽤以下⽅式来实现</p>\n<ol>\n<li>编辑器是 vscode</li>\n<li>安装插件 easy less</li>\n<li>在vs code的设置中加⼊如下配置：</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">&quot;less.compile&quot;</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&quot;outExt&quot;</span>:       <span class=\"string\">&quot;.wxss&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">123</span><br></pre></td></tr></table></figure>\n<ol>\n<li>在要编写样式的地⽅，新建 less ⽂件，如 index.less ,然后正常编辑即可。 会自动转换为 wxss代码的文件</li>\n</ol>\n<h1 id=\"七、-常见组件\"><a href=\"#七、-常见组件\" class=\"headerlink\" title=\"七、 常见组件\"></a>七、 常见组件</h1><p>重点讲解⼩程序中常⽤的布局组件<br>view,text,rich-text,button,image,navigator,icon,swiper,radio,checkbox 等</p>\n<h2 id=\"7-1-view\"><a href=\"#7-1-view\" class=\"headerlink\" title=\"7.1 view\"></a>7.1 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/view.html\">view</a></h2><p>代替 原来的 div 标签</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hover-class</span>=<span class=\"string\">&quot;h-class&quot;</span>&gt;</span></span><br><span class=\"line\">  点击我试试</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-2-text\"><a href=\"#7-2-text\" class=\"headerlink\" title=\"7.2 text\"></a>7.2 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/text.html\">text</a></h2><ol>\n<li>⽂本标签</li>\n<li>只能嵌套text</li>\n<li>⻓按⽂字可以复制（只有该标签有这个功能）</li>\n<li>可以对空格 回⻋ 进⾏编码</li>\n</ol>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>类型</th>\n<th>默认值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>selectable</td>\n<td>Boolean</td>\n<td>false</td>\n<td>⽂本是否可选</td>\n</tr>\n<tr>\n<td>decode</td>\n<td>Boolean</td>\n<td>false</td>\n<td>是否解码</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>代码:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span> <span class=\"attr\">selectable</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span> <span class=\"attr\">decode</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">\t普<span class=\"symbol\">&amp;nbsp;</span>通<span class=\"symbol\">&amp;lt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\">123</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-3-image\"><a href=\"#7-3-image\" class=\"headerlink\" title=\"7.3 image\"></a>7.3 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/image.html\">image</a></h2><ol>\n<li>图⽚标签，image组件默认宽度320px、⾼度240px</li>\n<li>⽀持懒加载</li>\n</ol>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>类型</th>\n<th>默认值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>src</td>\n<td>String</td>\n<td></td>\n<td>图⽚资源地址</td>\n</tr>\n<tr>\n<td>mode</td>\n<td>String</td>\n<td>“scaleToFill”</td>\n<td>图⽚裁剪、缩放的模式</td>\n</tr>\n<tr>\n<td>lazy-load</td>\n<td>Boolean</td>\n<td>false</td>\n<td>图⽚懒加载</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>mode 有效值：<br>mode 有 13 种模式，其中 4 种是缩放模式，9 种是裁剪模式。</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>模式</th>\n<th>值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>缩放</td>\n<td>scaleToFill</td>\n<td>不保持纵横⽐缩放图⽚，使图⽚的宽⾼完全拉伸⾄填满 image 元素</td>\n</tr>\n<tr>\n<td>缩放</td>\n<td>aspectFit</td>\n<td>保持纵横⽐缩放图⽚，使图⽚的⻓边能完全显⽰出来。</td>\n</tr>\n<tr>\n<td>缩放</td>\n<td>aspectFill</td>\n<td>保持纵横⽐缩放图⽚，只保证图⽚的短边能完全显⽰出来</td>\n</tr>\n<tr>\n<td>缩放</td>\n<td>widthFix</td>\n<td>宽度不变，⾼度⾃动变化，保持原图宽⾼⽐不变</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>top</td>\n<td>不缩放图⽚，只显⽰图⽚的顶部区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>bottom</td>\n<td>不缩放图⽚，只显⽰图⽚的底部区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>center</td>\n<td>不缩放图⽚，只显⽰图⽚的中间区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>left</td>\n<td>不缩放图⽚，只显⽰图⽚的左边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>right</td>\n<td>不缩放图⽚，只显⽰图⽚的右边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>top left</td>\n<td>不缩放图⽚，只显⽰图⽚的左上边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>top right</td>\n<td>不缩放图⽚，只显⽰图⽚的右上边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>bottom left</td>\n<td>不缩放图⽚，只显⽰图⽚的左下边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>bottom right</td>\n<td>不缩放图⽚，只显⽰图⽚的右下边区域</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"7-4-Swiper轮播图\"><a href=\"#7-4-Swiper轮播图\" class=\"headerlink\" title=\"7.4 Swiper轮播图\"></a>7.4 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html\">Swiper轮播图</a></h2><p>swiper标签：滑块视图容器<br>swiper-item标签：滑块，默认宽度和⾼度都是100%</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>类型</th>\n<th>默认值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>indicator-dots</td>\n<td>Boolean</td>\n<td>false</td>\n<td>是否显⽰⾯板指⽰点</td>\n</tr>\n<tr>\n<td>indicator-color</td>\n<td>Color</td>\n<td>rgba(0, 0, 0, .3)</td>\n<td>指⽰点颜⾊</td>\n</tr>\n<tr>\n<td>indicator-active-color</td>\n<td>Color</td>\n<td>#000000</td>\n<td>当前选中的指⽰点颜⾊</td>\n</tr>\n<tr>\n<td>autoplay</td>\n<td>Boolean</td>\n<td>false</td>\n<td>是否⾃动切换</td>\n</tr>\n<tr>\n<td>interval</td>\n<td>Number</td>\n<td>5000</td>\n<td>⾃动切换时间间隔</td>\n</tr>\n<tr>\n<td>circular</td>\n<td>Boolean</td>\n<td>false</td>\n<td>s是否循环轮播</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>示例代码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">swiper</span> <span class=\"attr\">autoplay</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">interval</span>=<span class=\"string\">&quot;2000&quot;</span> <span class=\"attr\">circular</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">indicator-dots</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">indicator-color</span>=<span class=\"string\">&quot;#0094ff&quot;</span> <span class=\"attr\">indicator-active-color</span>=<span class=\"string\">&quot;##ff0094&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;//gw.alicdn.com/imgextra/i3/121/O1CN01d4N6Pw1ClSXpSiESc_!!121-0-lubanu.jpg&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;//gw.alicdn.com/imgextra/i1/198/O1CN01snMZj51DKj2eIkiDC_!!198-0-lubanu.jpg&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://img.alicdn.com/tps/i4/https://img.alicdn.com/tps/i4//TB1cZkvTeH2gK0jSZJnSuuT1FXa.jpg&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">swiper</span>&gt;</span></span><br><span class=\"line\">1234567891011</span><br><span class=\"line\">swiper &#123;</span><br><span class=\"line\">  width: 100%;</span><br><span class=\"line\">  height: calc(100vw*352/1125);</span><br><span class=\"line\">  /* height: 31.28vw; */</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">image &#123;</span><br><span class=\"line\">  width: 100%;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">12345678</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-5-navigator导航栏\"><a href=\"#7-5-navigator导航栏\" class=\"headerlink\" title=\"7.5 navigator导航栏\"></a>7.5 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html\">navigator导航栏</a></h2><ul>\n<li>导航组件，类似超链接标签</li>\n<li>块级元素，默认会换行，可直接加宽度和高度</li>\n</ul>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>类型</th>\n<th>默认值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>target</td>\n<td>String</td>\n<td>self</td>\n<td>在哪个⽬标上发⽣跳转，默认当前⼩程序，可选值self/miniProgram</td>\n</tr>\n<tr>\n<td>url</td>\n<td>String</td>\n<td></td>\n<td>当前⼩程序内的跳转链接</td>\n</tr>\n<tr>\n<td>open-type</td>\n<td>String</td>\n<td>navigate</td>\n<td>跳转⽅式</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>open-type属性有效值：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>navigate</td>\n<td>保留当前⻚⾯，跳转到应⽤内的某个⻚⾯，但是不能跳到tabbar ⻚⾯</td>\n</tr>\n<tr>\n<td>redirect</td>\n<td>关闭当前⻚⾯，跳转到应⽤内的某个⻚⾯，但是不允许跳转到 tabbar ⻚⾯</td>\n</tr>\n<tr>\n<td>switchTab</td>\n<td>跳转到 tabBar ⻚⾯，并关闭其他所有⾮ tabBar ⻚⾯</td>\n</tr>\n<tr>\n<td>reLaunch</td>\n<td>关闭所有⻚⾯，打开到应⽤内的某个⻚⾯</td>\n</tr>\n<tr>\n<td>navigateBack</td>\n<td>关闭当前⻚⾯，返回上⼀⻚⾯或多级⻚⾯。可通过 getCurrentPages() 获取当前的⻚⾯栈，决定需要返回⼏层</td>\n</tr>\n<tr>\n<td>exit</td>\n<td>退出⼩程序，target=’miniProgram’时⽣效</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>pages/search/search.wxml<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/logs/logs&quot;</span>&gt;</span>日志页面<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/index/index&quot;</span>&gt;</span>跳转tabbar页面<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">open-type</span>=<span class=\"string\">&quot;redirect&quot;</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/logs/logs&quot;</span>&gt;</span>日志页面 redirect<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">open-type</span>=<span class=\"string\">&quot;switchTab&quot;</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/index/index&quot;</span>&gt;</span>switchTab 跳转到tabbar页面<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">open-type</span>=<span class=\"string\">&quot;reLaunch&quot;</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/img/img&quot;</span>&gt;</span>reLaunch 可以随便跳<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\">123456</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-6-rich-text\"><a href=\"#7-6-rich-text\" class=\"headerlink\" title=\"7.6 rich-text\"></a>7.6 rich-text</h2><p>富文本标签：可以将字符串解析成对应标签，类似 vue中 <code>v-html</code> 功能</p>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 显示斜体hello world --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">rich-text</span> <span class=\"attr\">nodes</span>=<span class=\"string\">&quot;&lt;i&gt; hello world &lt;/i&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">rich-text</span>&gt;</span></span><br><span class=\"line\">12</span><br></pre></td></tr></table></figure>\n<p><strong>nodes属性</strong><br>nodes 属性⽀持 字符串 和 标签节点数组</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n<th>类型</th>\n<th>必填</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>标签名</td>\n<td>string</td>\n<td>是</td>\n<td>⽀持部分受信任的 HTML 节点</td>\n</tr>\n<tr>\n<td>attrs</td>\n<td>属性</td>\n<td>object</td>\n<td>否</td>\n<td>⽀持部分受信任的属性，遵循 Pascal 命名法</td>\n</tr>\n<tr>\n<td>children</td>\n<td>⼦节点列表</td>\n<td>array</td>\n<td>否</td>\n<td>结构和 nodes ⼀致</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>⽂本节点：type = text</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n<th>类型</th>\n<th>必填</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>text</td>\n<td>⽂本</td>\n<td>string</td>\n<td>是</td>\n<td>⽀持entities</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ul>\n<li>nodes 不推荐使⽤ String 类型，性能会有所下降。</li>\n<li>rich-text 组件内屏蔽所有节点的事件。</li>\n<li>attrs 属性不⽀持 id ，⽀持 class 。</li>\n<li>name 属性⼤⼩写不敏感。</li>\n<li>如果使⽤了不受信任的 HTML 节点，该节点及其所有⼦节点将会被移除。</li>\n<li>img 标签仅⽀持⽹络图⽚</li>\n</ul>\n<h2 id=\"7-7-button\"><a href=\"#7-7-button\" class=\"headerlink\" title=\"7.7 button\"></a>7.7 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/button.html\">button</a></h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>值</th>\n<th>必填</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>size</td>\n<td>string</td>\n<td>默认值default，mini小尺寸</td>\n<td>否</td>\n<td>按钮的⼤⼩</td>\n</tr>\n<tr>\n<td>type</td>\n<td>string</td>\n<td>default白色，primary绿色 ，warn红色</td>\n<td>否</td>\n<td>按钮的样式类型</td>\n</tr>\n<tr>\n<td>plain</td>\n<td>boolean</td>\n<td>false</td>\n<td>否</td>\n<td>按钮是否镂空，背景⾊透明</td>\n</tr>\n<tr>\n<td>disabled</td>\n<td>boolean</td>\n<td>false</td>\n<td>否</td>\n<td>是否禁⽤</td>\n</tr>\n<tr>\n<td>loading</td>\n<td>boolean</td>\n<td>false</td>\n<td>否</td>\n<td>名称前是否带 loading 图标</td>\n</tr>\n<tr>\n<td>form-type</td>\n<td>string</td>\n<td>submit提交表单，reset重置表单</td>\n<td>否</td>\n<td>⽤于 <code>组件，点击分别会触发</code> 组件的submit/reset 事件</td>\n</tr>\n<tr>\n<td>open-type</td>\n<td>string</td>\n<td></td>\n<td>否</td>\n<td>微信开放能⼒</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>open-type 的合法值</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>contact</td>\n<td>打开客服会话，如果⽤⼾在会话中点击消息卡⽚后返回⼩程序，可以从bindcontact 回调中获得具体信息，<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/customer-message/receive.html\">具体说明</a></td>\n</tr>\n<tr>\n<td>share</td>\n<td>触发⽤⼾转发，不能转发到朋友圈，<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/share.html\">具体说明</a></td>\n</tr>\n<tr>\n<td>getPhoneNumber</td>\n<td>获取⽤⼾⼿机号，可以从bindgetphonenumber回调中获取到⽤⼾信息，但加密过，需要在后台服务器进行解析，<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/getPhoneNumber.html\">具体说明</a></td>\n</tr>\n<tr>\n<td>getUserInfo</td>\n<td>获取⽤⼾信息，可以从bindgetuserinfo回调中获取到⽤⼾信息，直接获取，不存在加密字段</td>\n</tr>\n<tr>\n<td>launchApp</td>\n<td>打开APP，可以通过app-parameter属性设定向APP传的参数<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/launchApp.html\">具体说明</a></td>\n</tr>\n<tr>\n<td>openSetting</td>\n<td>打开授权设置⻚</td>\n</tr>\n<tr>\n<td>feedback</td>\n<td>打开“意⻅反馈”⻚⾯，⽤⼾可提交反馈内容并上传⽇志，开发者可以登录⼩程序管理后台后进⼊左侧菜单“客服反馈”⻚⾯获取到反馈，只能通过真机调试打开</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>open-type 的 contact的实现流程</p>\n<ol>\n<li>将⼩程序 的 appid 由测试号改为 ⾃⼰的 appid</li>\n<li>登录微信⼩程序官⽹，添加<br>客服 - 微信</li>\n<li>为了⽅便演⽰，⽼师⾃⼰准备了两个账号（一）普通⽤⼾ A（二）客服-微信 B</li>\n</ol>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- search.wxml --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;warn&quot;</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;mini&quot;</span> <span class=\"attr\">loading</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">plain</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span></span><br><span class=\"line\">  default</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">open-type</span>=<span class=\"string\">&quot;getPhoneNumber&quot;</span> <span class=\"attr\">bindgetphonenumber</span>=<span class=\"string\">&quot;getPhoneNumber&quot;</span>&gt;</span>获取用户手机号<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">12345</span><br><span class=\"line\">// pages/search/search.js</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  getPhoneNumber(e) &#123;</span><br><span class=\"line\">    console.log(e);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">123456</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-8-icon\"><a href=\"#7-8-icon\" class=\"headerlink\" title=\"7.8 icon\"></a>7.8 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/icon.html\">icon</a></h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>type</td>\n<td>string</td>\n<td></td>\n<td>是</td>\n<td>icon的类型，有效值：success, success_no_circle,info, warn, waiting, cancel, download, search,clear</td>\n</tr>\n<tr>\n<td>size</td>\n<td>number/string</td>\n<td>23</td>\n<td>否</td>\n<td>icon的⼤⼩</td>\n</tr>\n<tr>\n<td>color</td>\n<td>string</td>\n<td></td>\n<td>否</td>\n<td>icon的颜⾊，同css的color</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- search.wxml --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;group&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;iconSize&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">icon</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;success&quot;</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;&#123;&#123;item&#125;&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;group&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;iconType&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">icon</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;&#123;&#123;item&#125;&#125;&quot;</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;40&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;group&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;iconColor&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">icon</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;success&quot;</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;40&quot;</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;&#123;&#123;item&#125;&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123456789101112131415161718</span><br><span class=\"line\">// pages/search/search.js</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">   iconSize: [20, 30, 40, 50, 60, 70],</span><br><span class=\"line\">   iconType: [</span><br><span class=\"line\">     &#x27;success&#x27;, &#x27;success_no_circle&#x27;, &#x27;info&#x27;, &#x27;warn&#x27;, &#x27;waiting&#x27;, &#x27;cancel&#x27;, </span><br><span class=\"line\">&#x27;download&#x27;, &#x27;search&#x27;, &#x27;clear&#x27;</span><br><span class=\"line\">   ],</span><br><span class=\"line\">   iconColor: [</span><br><span class=\"line\">     &#x27;red&#x27;, &#x27;orange&#x27;, &#x27;yellow&#x27;, &#x27;green&#x27;, &#x27;rgb(0,255,255)&#x27;, &#x27;blue&#x27;, &#x27;purple&#x27;</span><br><span class=\"line\">   ],</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">12345678910111213</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-9-radio\"><a href=\"#7-9-radio\" class=\"headerlink\" title=\"7.9 radio\"></a>7.9 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/radio.html\">radio</a></h2><ul>\n<li>可以通过 color属性来修改颜色</li>\n<li>需要搭配 radio-group ⼀起使⽤</li>\n</ul>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">radio-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;handleChange&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;red&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;male&quot;</span>&gt;</span>男<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;red&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;female&quot;</span>&gt;</span>女<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">radio-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>单选框选中的是&#123;&#123;gender&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">12345</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data() &#123;</span><br><span class=\"line\">    gender: &#x27;&#x27;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  handleChange(e) &#123;</span><br><span class=\"line\">    console.log(e);</span><br><span class=\"line\">    let gender = e.detail.value</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      // gender:gender</span><br><span class=\"line\">      gender</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">12345678910111213</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-10-checkbox\"><a href=\"#7-10-checkbox\" class=\"headerlink\" title=\"7.10 checkbox\"></a>7.10 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html\">checkbox</a></h2><ul>\n<li>可以通过 color属性来修改颜色</li>\n<li>需要搭配 checkbox-group ⼀起使⽤</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">checkbox-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;handleItemChange&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">checkbox</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&#123;&#123;item.value&#125;&#125;&quot;</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;list&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">checkbox</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">checkbox-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>选中的水果有&#123;&#123;checkedList&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1234</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    list:[</span><br><span class=\"line\">      &#123;id:0,name:&quot;苹果&quot;,value:&quot;apple&quot;&#125;,</span><br><span class=\"line\">      &#123;id:1,name:&quot;葡萄&quot;,value:&quot;grape&quot;&#125;,</span><br><span class=\"line\">      &#123;id:2,name:&quot;香蕉&quot;,value:&quot;banana&quot;&#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    checkedList: &#x27;&#x27;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  handleItemChange(e) &#123;</span><br><span class=\"line\">    console.log(e);</span><br><span class=\"line\">    const checkedList = e.detail.value</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      checkedList</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">1234567891011121314151617</span><br></pre></td></tr></table></figure>\n<h1 id=\"八、自定义组件\"><a href=\"#八、自定义组件\" class=\"headerlink\" title=\"八、自定义组件\"></a>八、自定义组件</h1><p>类似vue或者react中的自定义组件</p>\n<h2 id=\"8-1-创建自定义组件\"><a href=\"#8-1-创建自定义组件\" class=\"headerlink\" title=\"8.1 创建自定义组件\"></a>8.1 创建自定义组件</h2><p>创建文件夹components文件夹之后，在创建一个组件的文件夹，然后右击tabs文件夹创建components组件就会生成如下代码结构：<br><img src=\"https://img-blog.csdnimg.cn/2020091622283790.png#pic_center\" alt=\"在这里插入图片描述\"><br>例如要引用到某个页面中，代码如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;usingComponents&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;tabs&quot;</span>: <span class=\"string\">&quot;../../components/tabs/Tabs&quot;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br><span class=\"line\">&lt;tabs&gt;&lt;/tabs&gt;</span><br><span class=\"line\"><span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"8-2-组件构造器（Tabs-js）\"><a href=\"#8-2-组件构造器（Tabs-js）\" class=\"headerlink\" title=\"8.2 组件构造器（Tabs.js）\"></a>8.2 组件构造器（Tabs.js）</h2><p>Component 构造器可⽤于定义组件，调⽤ Component 构造器时可以指定组件的属性、数据、⽅法等。</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>定义段</th>\n<th>类型</th>\n<th>是否必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>properties</td>\n<td>Object、Map</td>\n<td>否</td>\n<td>组件的对外属性，是属性名到属性设置的映射表，参⻅下⽂</td>\n</tr>\n<tr>\n<td>data</td>\n<td>Object</td>\n<td>否</td>\n<td>组件的内部数据，和 properties ⼀同⽤于组件的模板渲染</td>\n</tr>\n<tr>\n<td>observers</td>\n<td>Object</td>\n<td>否</td>\n<td>组件数据字段监听器，⽤于监听 properties 和 data 的变化，参⻅ <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/observer.html\">数据监听器</a></td>\n</tr>\n<tr>\n<td>methods</td>\n<td>Object</td>\n<td>否</td>\n<td>组件的⽅法，包括事件响应函数和任意的⾃定义⽅法，关于事件响应函数的使⽤，参⻅ <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html\">组件事件</a></td>\n</tr>\n<tr>\n<td>created</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件实例刚刚被创建时执⾏，注意此时不能调⽤ setData ，参⻅ <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html\">组件⽣命周期</a></td>\n</tr>\n<tr>\n<td>attached</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件实例进⼊⻚⾯节点树时执⾏，参⻅ 组件⽣命周期</td>\n</tr>\n<tr>\n<td>ready</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件布局完成后执⾏，参⻅ 组件⽣命周期</td>\n</tr>\n<tr>\n<td>moved</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件实例被移动到节点树另⼀个位置时执⾏，参⻅ 组件⽣命周期</td>\n</tr>\n<tr>\n<td>detached</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件实例被从⻚⾯节点树移除时执⾏，参⻅ 组件⽣命周期</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"8-3-组件、自定义组件传参\"><a href=\"#8-3-组件、自定义组件传参\" class=\"headerlink\" title=\"8.3 组件、自定义组件传参\"></a>8.3 组件、自定义组件传参</h2><p>子组件</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--components/Tabs/Tabs.wxml--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>components/Tabs/Tabs.wxml<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tabs&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tabs_title&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;title_item &#123;&#123;item.isActive ? &#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;tabs&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;handleItemTab&quot;</span> <span class=\"attr\">data-index</span>=<span class=\"string\">&quot;&#123;&#123;index&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">      &#123;&#123;item.name&#125;&#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tabs_content&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">slot</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123456789101112131415</span><br><span class=\"line\">// components/Tabs/Tabs.js</span><br><span class=\"line\">Component(&#123;</span><br><span class=\"line\">  properties: &#123;</span><br><span class=\"line\">    tabs: &#123;</span><br><span class=\"line\">      type: Array,</span><br><span class=\"line\">      value: []</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">//   1页面.js文件中存放事件回调函数的时候存放在data同层级下!</span><br><span class=\"line\">//   2组件.js文件中存放事件回调函数的时候必须要存在在methods中!</span><br><span class=\"line\">  methods:&#123;</span><br><span class=\"line\">    handleItemTab(e) &#123;</span><br><span class=\"line\">      // 1绑定点击事件 需要在methods中绑定</span><br><span class=\"line\">      // 2获取被点击的索引，通过事件传参</span><br><span class=\"line\">      // 3获取原数组</span><br><span class=\"line\">      // 4对数组循环</span><br><span class=\"line\">      //      1给每一个循环性选中属性改为false</span><br><span class=\"line\">      //      2给当前的索引的项添加激活选中效果就可以了</span><br><span class=\"line\">      // console.log(e);</span><br><span class=\"line\">      const &#123;index&#125; = e.currentTarget.dataset //es6 语法解构赋值，严谨写法，先复制一份数据，保持原有数据不变</span><br><span class=\"line\">      // 5触发父组件的自定义事件，同时将子组件数据传递给父组件</span><br><span class=\"line\">      this.triggerEvent(&#x27;itemChange&#x27;,&#123;index&#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">1234567891011121314151617181920212223242526</span><br><span class=\"line\">/* components/Tabs/Tabs.wxss */</span><br><span class=\"line\">.tabs &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.tabs_title&#123;</span><br><span class=\"line\">  display: flex;</span><br><span class=\"line\">  padding: 10rpx 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.title_item&#123;</span><br><span class=\"line\">  flex: 1;</span><br><span class=\"line\">  /* justify-content: center; */</span><br><span class=\"line\">  /* display: flex; */</span><br><span class=\"line\">  /* align-items: center; */</span><br><span class=\"line\">  text-align: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.active&#123;</span><br><span class=\"line\">  color: red;</span><br><span class=\"line\">  border-bottom: 5rpx solid currentColor;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.tabs_content&#123;</span><br><span class=\"line\">  margin-top: 100rpx;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">12345678910111213141516171819202122</span><br></pre></td></tr></table></figure>\n<p>父组件</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 这里子向父传递数据，通过事件方式，在子组件的标签加bind+事件名称=&quot;&quot;,别忘了加bind --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">tabs</span> <span class=\"attr\">tabs</span>=<span class=\"string\">&quot;&#123;&#123;tabs&#125;&#125;&quot;</span> <span class=\"attr\">binditemChange</span>=<span class=\"string\">&quot;handleItemChange1&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;tabs[0].isActive&#125;&#125;&quot;</span>&gt;</span>首页<span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;tabs[1].isActive&#125;&#125;&quot;</span>&gt;</span>原创<span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;tabs[2].isActive&#125;&#125;&quot;</span>&gt;</span>分类<span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:else</span>&gt;</span>关于<span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">tabs</span>&gt;</span></span><br><span class=\"line\">1234567</span><br><span class=\"line\">// pages/mine/mine.js</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    tabs: [</span><br><span class=\"line\">      &#123;id:0, name:&quot;首页&quot;, isActive:true&#125;,</span><br><span class=\"line\">      &#123;id:1, name:&quot;原创&quot;, isActive:false&#125;,</span><br><span class=\"line\">      &#123;id:2, name:&quot;分类&quot;, isActive:false&#125;,</span><br><span class=\"line\">      &#123;id:3, name:&quot;关于&quot;, isActive:false&#125;,</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  handleItemChange1(e) &#123;</span><br><span class=\"line\">    // console.log(e);</span><br><span class=\"line\">    const &#123;index&#125; = e.detail</span><br><span class=\"line\">    let &#123;tabs&#125; =this.data</span><br><span class=\"line\">    // [].forEach遍历数组遍历数组的时候修改了v，也会导致源数组被修改</span><br><span class=\"line\">    tabs.forEach((v,i) =&gt; i===index?v.isActive=true:v.isActive=false);</span><br><span class=\"line\"></span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      tabs</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">12345678910111213141516171819202122</span><br></pre></td></tr></table></figure>\n<p>实现的需求：</p>\n<p><img src=\"https://img-blog.csdnimg.cn/20200919144218839.png#pic_center\" alt=\"在这里插入图片描述\"></p>\n<h1 id=\"九、小程序生命周期\"><a href=\"#九、小程序生命周期\" class=\"headerlink\" title=\"九、小程序生命周期\"></a>九、小程序生命周期</h1><h2 id=\"9-1-应用生命周期\"><a href=\"#9-1-应用生命周期\" class=\"headerlink\" title=\"9.1 应用生命周期\"></a>9.1 应用生命周期</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//app.js</span></span><br><span class=\"line\">App(&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 1 应用第一次启动的就会触发的事件</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onLaunch</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 在应用第一次启动的时候获取用户的个人信息</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;onLaunch&quot;</span>)</span><br><span class=\"line\">    <span class=\"comment\">// js的方式来跳转</span></span><br><span class=\"line\">    <span class=\"comment\">// wx.navigateTo(&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//   url: &#x27;/11/22/33&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;)</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 2 应用被用户看到</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onShow</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//对应用的数据或者页面效果重置</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log (<span class=\"string\">&quot;onShow&quot;</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 3 应用被隐藏了</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onHide</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//暂停或者清除定时器</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;Hide&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 4 应用的代码发生了报错的时候就会触发</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onError</span>(<span class=\"params\">err</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//在应用发生代码报错的时候，收集用户的错误信息，通过异步请求将错误的信息发送后台去</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;onError&quot;</span>)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log (err)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 5 页面找不到就会触发</span></span><br><span class=\"line\">    <span class=\"comment\">// 应用第一 次启动的时候，如果找不到第一个入口页面 才会触发</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onPageNotFound</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//如果页面不存在了通过js的方式来重新跳转页面重新跳到第二个首页</span></span><br><span class=\"line\">    <span class=\"comment\">//不能跳到tabbar页面导航组件类似</span></span><br><span class=\"line\">    wx.navigateTo(&#123; </span><br><span class=\"line\">      <span class=\"attr\">url</span>: <span class=\"string\">&#x27;/pages/logs/logs&#x27;</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onPageNotFound&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"number\">1234567891011121314151617181920212223242526272829303132333435363738</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"9-2-页面生命周期\"><a href=\"#9-2-页面生命周期\" class=\"headerlink\" title=\"9.2 页面生命周期\"></a>9.2 页面生命周期</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// pages/search/search.js</span></span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">   <span class=\"attr\">iconSize</span>: [<span class=\"number\">20</span>, <span class=\"number\">30</span>, <span class=\"number\">40</span>, <span class=\"number\">50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面加载</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onLoad</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">options</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// onLoad发送异步请求来初始化页面数据</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;onLoad&quot;</span>); </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面初次渲染完成</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onReady</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onReady&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面显示</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onShow</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onShow&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面隐藏</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onHide</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onHide&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面卸载，也可以通过点击超链接来演示</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onUnload</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onUnload&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onPullDownRefresh</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;onPullDownRefresh&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 页面的数据或者效果重新刷新</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面上拉触底事件的处理函数，需要让页面出现上下滚动才行</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onReachBottom</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 上拉加载下一页数据</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onReachBottom&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 用户点击右上角分享</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onShareAppMessage</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onShareAppMessage&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 页面滚动就可以触发</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onPageScroll</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onPageScroll&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 页面的尺寸发生改变的时候触发</span></span><br><span class=\"line\"><span class=\"comment\">  * 小程序发生了横屏竖屏切换的时候触发，需要在search.json界面添加如下代码</span></span><br><span class=\"line\"><span class=\"comment\">  * &#123;</span></span><br><span class=\"line\"><span class=\"comment\">  &quot;pageOrientation&quot;: &quot;auto&quot;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onResize</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onResize&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/** </span></span><br><span class=\"line\"><span class=\"comment\">   * 1 必须要求当前页面也是tabbar页面</span></span><br><span class=\"line\"><span class=\"comment\">   * 2 点击的自己的tab item的时候才触发 </span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onTabItemTap</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onTabItemTap&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"number\">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"9-3-页面生命周期图解\"><a href=\"#9-3-页面生命周期图解\" class=\"headerlink\" title=\"9.3 页面生命周期图解\"></a>9.3 页面生命周期图解</h2><p><img src=\"https://img-blog.csdnimg.cn/20200920112234319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Jlc3RfYXJyYW5nZW1lbnQ=,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"></p>\n<p><br></p>\n<p><br></p>\n<p><a href=\"https://blog.csdn.net/best_arrangement/article/details/108356127\">https://blog.csdn.net/best_arrangement/article/details/108356127</a></p>\n","more":"<h1 id=\"一、微信小程序简介\"><a href=\"#一、微信小程序简介\" class=\"headerlink\" title=\"一、微信小程序简介\"></a>一、微信小程序简介</h1><p>1、<a href=\"https://baike.baidu.com/item/微信小程序\">微信小程序</a>，小程序的一种，英文名Wechat Mini Program,是一种不需要下载安装即可使用的应用，它实现了应用触手可及”的梦想，用户扫一扫或搜一下即可打开应用。</p>\n<p>2、微信小程序，之前叫<strong>应用号</strong>，2017年正式上线</p>\n<p>3、学习微信小程序之前，强烈建议先学习vue.js，学了之后再学超级快</p>\n<p>4、微信小程序优点：</p>\n<ul>\n<li>微信有海量用户,且粘性很高，在微信里开发产品更容易触达用户</li>\n<li>推广app或公众号的成本太高</li>\n<li>开发适配成本低</li>\n<li>容易小规模试错,然后快速迭代</li>\n<li>跨平台</li>\n</ul>\n<hr>\n<h1 id=\"二、微信小程序环境准备\"><a href=\"#二、微信小程序环境准备\" class=\"headerlink\" title=\"二、微信小程序环境准备\"></a>二、微信小程序环境准备</h1><h2 id=\"2-1-申请帐号\"><a href=\"#2-1-申请帐号\" class=\"headerlink\" title=\"2.1 申请帐号\"></a>2.1 申请帐号</h2><ol>\n<li>进入<a href=\"https://mp.weixin.qq.com/wxopen/waregister?action=step1\">小程序注册页</a>根据指引填写信息和提交相应的资料，就可以拥有自己的小程序帐号</li>\n<li>你也可以管理你的小程序的权限，查看数据报表，发布小程序等操作。通过登录<a href=\"https://mp.weixin.qq.com/wxamp/home/guide?lang=zh_CN&amp;token=435417771\">小程序后台</a>，可以在菜单 “开发”-“开发设置” 看到小程序的 AppID 了 （记得保密）</li>\n</ol>\n<h2 id=\"2-2-安装开发工具\"><a href=\"#2-2-安装开发工具\" class=\"headerlink\" title=\"2.2 安装开发工具\"></a>2.2 安装开发工具</h2><p>前往 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html\">小程序开发工具下载页面</a> ，根据自己的操作系统下载对应的安装包进行安装</p>\n<h2 id=\"2-3-编译预览\"><a href=\"#2-3-编译预览\" class=\"headerlink\" title=\"2.3 编译预览\"></a>2.3 编译预览</h2><p>这里推荐用vs code编辑，小程序开发工具预览</p>\n<p>vscode 小程序开发插件<br>（一）minapp。支持微信小程序标签、属性的智能补全，并且提示中包含文档内容（同时支持原生小程序、mpvue 和 wepy 框架，并提供 snippets）。<br>（二）wechat-snippet。这个插件主要的功能就是代码辅助，代码片段自动完成，可以作为上个插件的补充。<br>（三）wxml。这款插件用于将wxml代码进行高亮显示，并且提供代码格式化的功能，可将代码格式化为较易阅读的样式。<br>（四）vscode weapp api 。js中的api提示</p>\n<hr>\n<h1 id=\"三、小程序代码构成\"><a href=\"#三、小程序代码构成\" class=\"headerlink\" title=\"三、小程序代码构成\"></a>三、小程序代码构成</h1><p>通过开发者工具快速创建了一个 QuickStart 项目，里面有以下不同类型文件：</p>\n<ul>\n<li>.json 后缀的 JSON 配置文件</li>\n<li>.wxml 后缀的 WXML 模板文件</li>\n<li>.wxss 后缀的 WXSS 样式文件</li>\n<li>.js 后缀的 JS 脚本逻辑文件</li>\n</ul>\n<h1 id=\"四、JSON配置\"><a href=\"#四、JSON配置\" class=\"headerlink\" title=\"四、JSON配置\"></a>四、JSON配置</h1><p>配置相关的为.json文件，需要注意的是 JSON 文件中无法使用注释，试图添加注释将会引发报错</p>\n<h2 id=\"4-1-小程序配置-app-json\"><a href=\"#4-1-小程序配置-app-json\" class=\"headerlink\" title=\"4.1 小程序配置 app.json\"></a>4.1 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/config.html\">小程序配置 app.json</a></h2><p>app.json 是当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等。QuickStart 项目里边的 app.json 配置内容如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;pages&quot;</span>:[<span class=\"comment\">//页面路由，在这里添加路由可以自动生成对应文件</span></span><br><span class=\"line\">    <span class=\"string\">&quot;pages/index/index&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;pages/logs/logs&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;pages/demo01/demo01&quot;</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">&quot;window&quot;</span>:&#123;<span class=\"comment\">//定义小程序所有页面的顶部背景颜色，文字颜色定义等</span></span><br><span class=\"line\">  \t<span class=\"comment\">//下拉 loading 的样式，仅支持 dark / light</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;backgroundTextStyle&quot;</span>:<span class=\"string\">&quot;light&quot;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//导航栏的样式</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;navigationBarBackgroundColor&quot;</span>: <span class=\"string\">&quot;#fff&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;navigationBarTitleText&quot;</span>: <span class=\"string\">&quot;WeChat&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">&quot;navigationBarTextStyle&quot;</span>:<span class=\"string\">&quot;black&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">&quot;style&quot;</span>: <span class=\"string\">&quot;v2&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;sitemapLocation&quot;</span>: <span class=\"string\">&quot;sitemap.json&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"4-2工具配置-project-config-json\"><a href=\"#4-2工具配置-project-config-json\" class=\"headerlink\" title=\"4.2工具配置 project.config.json\"></a>4.2<a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html\">工具配置 project.config.json</a></h2><p>个性化配置，例如界面颜色、编译配置等等，避免了当你换另外一台电脑重新安装工具的时候再重新配置。</p>\n<h2 id=\"4-3-页面配置-page-json\"><a href=\"#4-3-页面配置-page-json\" class=\"headerlink\" title=\"4.3 页面配置 page.json\"></a>4.3 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html\">页面配置 page.json</a></h2><p>表示 pages/logs 目录下的 logs.json 这类和小程序页面相关的配置，可对每个页面进行单独配置</p>\n<h2 id=\"4-4-sitemap-配置-了解即可\"><a href=\"#4-4-sitemap-配置-了解即可\" class=\"headerlink\" title=\"4.4 sitemap 配置-了解即可\"></a>4.4 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html\">sitemap 配置-了解即可</a></h2><p>⼩程序根⽬录下的 sitemap.json ⽂件⽤于配置⼩程序及其⻚⾯是否允许被微信索引</p>\n<h1 id=\"五、模板WXML\"><a href=\"#五、模板WXML\" class=\"headerlink\" title=\"五、模板WXML\"></a>五、<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/code.html#WXML-模板\">模板WXML</a></h1><ol>\n<li>标签名字有点不一样</li>\n</ol>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>HTML标签</th>\n<th>div, p, span等</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>小程序WXML</td>\n<td>view, button, text等</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ol>\n<li>多了一些 wx:if 这样的属性（界面及状态的控制）以及 <strong>双大括号</strong> 这样的表达式 ，数据绑定。</li>\n<li>MVVM 的开发模式（例如 React, Vue），提倡把渲染和逻辑分离<br>WXML是框架设计的⼀套标签语⾔，结合基础组件、事件系统，可以构建出⻚⾯的结构</li>\n</ol>\n<h2 id=\"5-1-数据绑定\"><a href=\"#5-1-数据绑定\" class=\"headerlink\" title=\"5.1 数据绑定\"></a>5.1 数据绑定</h2><p>（一）普通写法<br>index.wxml</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span> &#123;&#123; message &#125;&#125; <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>index.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Hello MINA!&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br></pre></td></tr></table></figure>\n<p>（二）组件属性<br>index.wxml</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;item-&#123;&#123;id&#125;&#125;&quot;</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>index.js</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"number\">0</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br></pre></td></tr></table></figure>\n<p>（三）bool类型<br>不要直接写 checked=“false”，其计算结果是⼀个字符串</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">checkbox</span> <span class=\"attr\">checked</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">checkbox</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<h2 id=\"5-2-运算\"><a href=\"#5-2-运算\" class=\"headerlink\" title=\"5.2 运算\"></a>5.2 运算</h2><p>（一）三元运算</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;flag ? true : false&#125;&#125;&quot;</span>&gt;</span> Hidden <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>（二）if 逻辑判断</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;length &gt; 5&#125;&#125;&quot;</span>&gt;</span> <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>注意：花括号和引号之间如果有空格，将最终被解析成为字符串，切记不要留有空格</p>\n<h2 id=\"5-3-列表渲染\"><a href=\"#5-3-列表渲染\" class=\"headerlink\" title=\"5.3 列表渲染\"></a>5.3 列表渲染</h2><p>（一）wx:for</p>\n<ul>\n<li>项的变量名默认为 item wx:for-item 可以指定数组当前元素的变量名</li>\n<li>下标变量名默认为 index wx:for-index 可以指定数组当前下标的变量名</li>\n<li>wx:key ⽤来提⾼数组渲染的性能</li>\n<li>wx:key 绑定的值 有如下选择：</li>\n<li><ol>\n<li>string 类型，表⽰循环项中的唯⼀属性 如</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">list:[&#123;<span class=\"attr\">id</span>:<span class=\"number\">0</span>,<span class=\"attr\">name</span>:<span class=\"string\">&quot;炒饭&quot;</span>&#125;,&#123;<span class=\"attr\">id</span>:<span class=\"number\">1</span>,<span class=\"attr\">name</span>:<span class=\"string\">&quot;炒面&quot;</span>&#125;]</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"attr\">wx</span>:key=<span class=\"string\">&quot;id&quot;</span></span><br><span class=\"line\"><span class=\"number\">123</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><ol>\n<li>保留字 <em>this ，它的意思是 item 本⾝ ，</em>this 代表的必须是 唯⼀的字符串和数组。</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">list:[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>]</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"attr\">wx</span>:key=<span class=\"string\">&quot;*this&quot;</span></span><br><span class=\"line\"><span class=\"number\">123</span></span><br></pre></td></tr></table></figure>\n<p>代码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;array&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span></span><br><span class=\"line\">  &#123;&#123;index&#125;&#125;: &#123;&#123;item.message&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    array: [&#123;</span><br><span class=\"line\">      id:0,</span><br><span class=\"line\">      message: &#x27;foo&#x27;,</span><br><span class=\"line\">    &#125;, &#123;</span><br><span class=\"line\">      id:1,</span><br><span class=\"line\">      message: &#x27;bar&#x27;</span><br><span class=\"line\">    &#125;]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">1234567891011</span><br></pre></td></tr></table></figure>\n<p>（二）block<br>渲染⼀个包含多节点的结构块 block最终不会变成真正的dom元素</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;[1, 2, 3]&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;*this&quot;</span> &gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span> &#123;&#123;index&#125;&#125;: <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span> &#123;&#123;item&#125;&#125; <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\">1234</span><br></pre></td></tr></table></figure>\n<h2 id=\"5-4-条件渲染\"><a href=\"#5-4-条件渲染\" class=\"headerlink\" title=\"5.4 条件渲染\"></a>5.4 条件渲染</h2><p>（一）wx:if<br>在框架中，使⽤ wx:if=”“ 来判断是否需要渲染该代码块：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:else</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123</span><br></pre></td></tr></table></figure>\n<p>（二）hidden（类似 wx:if）</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;condition&#125;&#125;&quot;</span>&gt;</span> True <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<p>频繁切换 ⽤ hidden<br>不常使⽤ ⽤ wx:if</p>\n<h2 id=\"5-5-事件绑定\"><a href=\"#5-5-事件绑定\" class=\"headerlink\" title=\"5.5 事件绑定\"></a>5.5 事件绑定</h2><p>⼩程序中绑定事件，通过bind关键字来实现。如 bindtap bindinput bindchange 等<br>代码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 1.需要给input标签绑定 input事件</span></span><br><span class=\"line\"><span class=\"comment\">绑定关键字 bindinput</span></span><br><span class=\"line\"><span class=\"comment\">2.如何获取输入框的值</span></span><br><span class=\"line\"><span class=\"comment\">通过事件源对象获取e.detail.value</span></span><br><span class=\"line\"><span class=\"comment\">3.把输入框的值赋值到data中</span></span><br><span class=\"line\"><span class=\"comment\">错误：this.data.num = e.detail.value</span></span><br><span class=\"line\"><span class=\"comment\">正确：</span></span><br><span class=\"line\"><span class=\"comment\">this.setData(&#123;</span></span><br><span class=\"line\"><span class=\"comment\">  num: e.detail.value</span></span><br><span class=\"line\"><span class=\"comment\">&#125;)</span></span><br><span class=\"line\"><span class=\"comment\">4.需要加入一个点击事件</span></span><br><span class=\"line\"><span class=\"comment\">      bindtab</span></span><br><span class=\"line\"><span class=\"comment\">      无法在小程序中的事件直接传参</span></span><br><span class=\"line\"><span class=\"comment\">      通过自定义属性的方式传递参数</span></span><br><span class=\"line\"><span class=\"comment\">      事件源中获取自定义属性 --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">bindinput</span>=<span class=\"string\">&quot;handleInput&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtab</span>=<span class=\"string\">&quot;handleTab&quot;</span> <span class=\"attr\">data-operation</span>=<span class=\"string\">&quot;&#123;&#123;1&#125;&#125;&quot;</span>&gt;</span>+<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtab</span>=<span class=\"string\">&quot;handleTab&quot;</span> <span class=\"attr\">data-operation</span>=<span class=\"string\">&quot;&#123;&#123;-1&#125;&#125;&quot;</span>&gt;</span>-<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1234567891011121314151617181920</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    num: &#x27;0&#x27;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  handleInput(e) &#123;</span><br><span class=\"line\">    // 绑定的事件</span><br><span class=\"line\">    console.log(e)</span><br><span class=\"line\">    console.log(e.detail.value);</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      num: e.detail.value</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  // 加减按钮事件</span><br><span class=\"line\">  handleTab(e) &#123;</span><br><span class=\"line\">    console.log(e);</span><br><span class=\"line\">    // 获取自定义属性operation</span><br><span class=\"line\">    const operation = e.currentTarget.dataset.operation</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      num: this.data.num + operation</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">12345678910111213141516171819202122</span><br></pre></td></tr></table></figure>\n<h1 id=\"六、样式-WXSS\"><a href=\"#六、样式-WXSS\" class=\"headerlink\" title=\"六、样式 WXSS\"></a>六、样式 WXSS</h1><p>WXSS( WeiXin Style Sheets )是⼀套样式语⾔，⽤于描述 WXML 的组件样式。<br>与 CSS 相⽐，WXSS 扩展的特性有：</p>\n<ul>\n<li>响应式⻓度单位 rpx</li>\n<li>样式导⼊</li>\n</ul>\n<h2 id=\"6-1-尺寸单位\"><a href=\"#6-1-尺寸单位\" class=\"headerlink\" title=\"6.1 尺寸单位\"></a>6.1 尺寸单位</h2><p>（1）rpx （responsive pixel）: 可以根据屏幕宽度进⾏⾃适应。规定屏幕宽为 750rpx 。如在iPhone6 上，屏幕宽度为 375px ，共有750个物理像素，则 750rpx = 375px = 750物理像<br>素 ， 1rpx = 0.5px = 1物理像素</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>设备</th>\n<th>rpx换算px (屏幕宽度/750)</th>\n<th>px换算rpx (750/屏幕宽度)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>iPhone5</td>\n<td>1rpx = 0.42px</td>\n<td>1px = 2.34rpx</td>\n</tr>\n<tr>\n<td>iPhone6</td>\n<td>1rpx = 0.5px</td>\n<td>1px = 2rpx</td>\n</tr>\n<tr>\n<td>iPhone6 Plus</td>\n<td>1rpx = 0.552px</td>\n<td>1px = 1.81rpx</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>（2）建议： 开发微信⼩程序时设计师可以⽤ iPhone6 作为视觉稿的标准<br>（3）使⽤步骤：</p>\n<ol>\n<li>确定设计稿宽度 pageWidth</li>\n<li>计算⽐例 750rpx = pageWidth px ,因此 1px=750rpx/pageWidth 。</li>\n<li>在less⽂件中，只要把设计稿中的 px =&gt; 750/pageWidth rpx 即可。</li>\n<li>代码写法</li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* width: 200rpx; */</span></span><br><span class=\"line\"><span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">700</span>rpx*<span class=\"number\">100</span>/<span class=\"number\">375</span>);</span><br><span class=\"line\"><span class=\"number\">12</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"6-2-样式导⼊\"><a href=\"#6-2-样式导⼊\" class=\"headerlink\" title=\"6.2 样式导⼊\"></a>6.2 样式导⼊</h2><ul>\n<li>wxss中直接就⽀持，样式导⼊功能。</li>\n<li>也可以和 less中的导⼊混⽤。</li>\n<li>使⽤ @import 语句可以导⼊外联样式表，只⽀持相对路径。</li>\n</ul>\n<p>示例代码：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/** common.wxss **/</span></span><br><span class=\"line\"><span class=\"selector-class\">.small-p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>:<span class=\"number\">5px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>:red;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br><span class=\"line\"><span class=\"comment\">/** app.wxss **/</span></span><br><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&quot;common.wxss&quot;</span>;</span><br><span class=\"line\"><span class=\"selector-class\">.middle-p</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>:<span class=\"number\">15px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>:blue;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">123456</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"6-3-选择器\"><a href=\"#6-3-选择器\" class=\"headerlink\" title=\"6.3 选择器\"></a>6.3 选择器</h2><p>特别需要注意的是 ⼩程序 不⽀持通配符 * 因此以下代码⽆效！</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*&#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>:<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>:border-box;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br></pre></td></tr></table></figure>\n<p>⽬前⽀持的选择器有：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>选择器</th>\n<th>样例</th>\n<th>样例描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>.class</td>\n<td>.intro</td>\n<td>选择所有拥有 class=”intro”的组件</td>\n</tr>\n<tr>\n<td>#id</td>\n<td>#firstname</td>\n<td>选择拥有 id=”firstname”的组件</td>\n</tr>\n<tr>\n<td>element</td>\n<td>view</td>\n<td>选择所有 view 组件</td>\n</tr>\n<tr>\n<td>element,element</td>\n<td>view,checkbox</td>\n<td>选择所有⽂档的 view 组件和所有的 checkbox 组件</td>\n</tr>\n<tr>\n<td>nth-child(n)</td>\n<td>view:nth-child(n)</td>\n<td>选择某个索引的标签</td>\n</tr>\n<tr>\n<td>::after</td>\n<td>view::after</td>\n<td>在 view 组件后边插⼊内容</td>\n</tr>\n<tr>\n<td>::before</td>\n<td>view::before</td>\n<td>在 view 组件前边插⼊内容</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"6-4-⼩程序中使⽤less\"><a href=\"#6-4-⼩程序中使⽤less\" class=\"headerlink\" title=\"6.4 ⼩程序中使⽤less\"></a>6.4 ⼩程序中使⽤less</h2><p>（1）原⽣⼩程序不⽀持 less ，其他基于⼩程序的框架⼤体都⽀持，如 wepy ， mpvue ， taro 等。<br>（2）但是仅仅因为⼀个less功能，⽽去引⼊⼀个框架，肯定是不可取的。因此可以⽤以下⽅式来实现</p>\n<ol>\n<li>编辑器是 vscode</li>\n<li>安装插件 easy less</li>\n<li>在vs code的设置中加⼊如下配置：</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"string\">&quot;less.compile&quot;</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&quot;outExt&quot;</span>:       <span class=\"string\">&quot;.wxss&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">123</span><br></pre></td></tr></table></figure>\n<ol>\n<li>在要编写样式的地⽅，新建 less ⽂件，如 index.less ,然后正常编辑即可。 会自动转换为 wxss代码的文件</li>\n</ol>\n<h1 id=\"七、-常见组件\"><a href=\"#七、-常见组件\" class=\"headerlink\" title=\"七、 常见组件\"></a>七、 常见组件</h1><p>重点讲解⼩程序中常⽤的布局组件<br>view,text,rich-text,button,image,navigator,icon,swiper,radio,checkbox 等</p>\n<h2 id=\"7-1-view\"><a href=\"#7-1-view\" class=\"headerlink\" title=\"7.1 view\"></a>7.1 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/view.html\">view</a></h2><p>代替 原来的 div 标签</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hover-class</span>=<span class=\"string\">&quot;h-class&quot;</span>&gt;</span></span><br><span class=\"line\">  点击我试试</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-2-text\"><a href=\"#7-2-text\" class=\"headerlink\" title=\"7.2 text\"></a>7.2 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/text.html\">text</a></h2><ol>\n<li>⽂本标签</li>\n<li>只能嵌套text</li>\n<li>⻓按⽂字可以复制（只有该标签有这个功能）</li>\n<li>可以对空格 回⻋ 进⾏编码</li>\n</ol>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>类型</th>\n<th>默认值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>selectable</td>\n<td>Boolean</td>\n<td>false</td>\n<td>⽂本是否可选</td>\n</tr>\n<tr>\n<td>decode</td>\n<td>Boolean</td>\n<td>false</td>\n<td>是否解码</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>代码:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span> <span class=\"attr\">selectable</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span> <span class=\"attr\">decode</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">\t普<span class=\"symbol\">&amp;nbsp;</span>通<span class=\"symbol\">&amp;lt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\">123</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-3-image\"><a href=\"#7-3-image\" class=\"headerlink\" title=\"7.3 image\"></a>7.3 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/image.html\">image</a></h2><ol>\n<li>图⽚标签，image组件默认宽度320px、⾼度240px</li>\n<li>⽀持懒加载</li>\n</ol>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>类型</th>\n<th>默认值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>src</td>\n<td>String</td>\n<td></td>\n<td>图⽚资源地址</td>\n</tr>\n<tr>\n<td>mode</td>\n<td>String</td>\n<td>“scaleToFill”</td>\n<td>图⽚裁剪、缩放的模式</td>\n</tr>\n<tr>\n<td>lazy-load</td>\n<td>Boolean</td>\n<td>false</td>\n<td>图⽚懒加载</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>mode 有效值：<br>mode 有 13 种模式，其中 4 种是缩放模式，9 种是裁剪模式。</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>模式</th>\n<th>值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>缩放</td>\n<td>scaleToFill</td>\n<td>不保持纵横⽐缩放图⽚，使图⽚的宽⾼完全拉伸⾄填满 image 元素</td>\n</tr>\n<tr>\n<td>缩放</td>\n<td>aspectFit</td>\n<td>保持纵横⽐缩放图⽚，使图⽚的⻓边能完全显⽰出来。</td>\n</tr>\n<tr>\n<td>缩放</td>\n<td>aspectFill</td>\n<td>保持纵横⽐缩放图⽚，只保证图⽚的短边能完全显⽰出来</td>\n</tr>\n<tr>\n<td>缩放</td>\n<td>widthFix</td>\n<td>宽度不变，⾼度⾃动变化，保持原图宽⾼⽐不变</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>top</td>\n<td>不缩放图⽚，只显⽰图⽚的顶部区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>bottom</td>\n<td>不缩放图⽚，只显⽰图⽚的底部区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>center</td>\n<td>不缩放图⽚，只显⽰图⽚的中间区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>left</td>\n<td>不缩放图⽚，只显⽰图⽚的左边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>right</td>\n<td>不缩放图⽚，只显⽰图⽚的右边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>top left</td>\n<td>不缩放图⽚，只显⽰图⽚的左上边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>top right</td>\n<td>不缩放图⽚，只显⽰图⽚的右上边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>bottom left</td>\n<td>不缩放图⽚，只显⽰图⽚的左下边区域</td>\n</tr>\n<tr>\n<td>裁剪</td>\n<td>bottom right</td>\n<td>不缩放图⽚，只显⽰图⽚的右下边区域</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"7-4-Swiper轮播图\"><a href=\"#7-4-Swiper轮播图\" class=\"headerlink\" title=\"7.4 Swiper轮播图\"></a>7.4 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html\">Swiper轮播图</a></h2><p>swiper标签：滑块视图容器<br>swiper-item标签：滑块，默认宽度和⾼度都是100%</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>类型</th>\n<th>默认值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>indicator-dots</td>\n<td>Boolean</td>\n<td>false</td>\n<td>是否显⽰⾯板指⽰点</td>\n</tr>\n<tr>\n<td>indicator-color</td>\n<td>Color</td>\n<td>rgba(0, 0, 0, .3)</td>\n<td>指⽰点颜⾊</td>\n</tr>\n<tr>\n<td>indicator-active-color</td>\n<td>Color</td>\n<td>#000000</td>\n<td>当前选中的指⽰点颜⾊</td>\n</tr>\n<tr>\n<td>autoplay</td>\n<td>Boolean</td>\n<td>false</td>\n<td>是否⾃动切换</td>\n</tr>\n<tr>\n<td>interval</td>\n<td>Number</td>\n<td>5000</td>\n<td>⾃动切换时间间隔</td>\n</tr>\n<tr>\n<td>circular</td>\n<td>Boolean</td>\n<td>false</td>\n<td>s是否循环轮播</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>示例代码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">swiper</span> <span class=\"attr\">autoplay</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">interval</span>=<span class=\"string\">&quot;2000&quot;</span> <span class=\"attr\">circular</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">indicator-dots</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">indicator-color</span>=<span class=\"string\">&quot;#0094ff&quot;</span> <span class=\"attr\">indicator-active-color</span>=<span class=\"string\">&quot;##ff0094&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;//gw.alicdn.com/imgextra/i3/121/O1CN01d4N6Pw1ClSXpSiESc_!!121-0-lubanu.jpg&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;//gw.alicdn.com/imgextra/i1/198/O1CN01snMZj51DKj2eIkiDC_!!198-0-lubanu.jpg&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://img.alicdn.com/tps/i4/https://img.alicdn.com/tps/i4//TB1cZkvTeH2gK0jSZJnSuuT1FXa.jpg&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">swiper</span>&gt;</span></span><br><span class=\"line\">1234567891011</span><br><span class=\"line\">swiper &#123;</span><br><span class=\"line\">  width: 100%;</span><br><span class=\"line\">  height: calc(100vw*352/1125);</span><br><span class=\"line\">  /* height: 31.28vw; */</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">image &#123;</span><br><span class=\"line\">  width: 100%;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">12345678</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-5-navigator导航栏\"><a href=\"#7-5-navigator导航栏\" class=\"headerlink\" title=\"7.5 navigator导航栏\"></a>7.5 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html\">navigator导航栏</a></h2><ul>\n<li>导航组件，类似超链接标签</li>\n<li>块级元素，默认会换行，可直接加宽度和高度</li>\n</ul>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>类型</th>\n<th>默认值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>target</td>\n<td>String</td>\n<td>self</td>\n<td>在哪个⽬标上发⽣跳转，默认当前⼩程序，可选值self/miniProgram</td>\n</tr>\n<tr>\n<td>url</td>\n<td>String</td>\n<td></td>\n<td>当前⼩程序内的跳转链接</td>\n</tr>\n<tr>\n<td>open-type</td>\n<td>String</td>\n<td>navigate</td>\n<td>跳转⽅式</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>open-type属性有效值：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>navigate</td>\n<td>保留当前⻚⾯，跳转到应⽤内的某个⻚⾯，但是不能跳到tabbar ⻚⾯</td>\n</tr>\n<tr>\n<td>redirect</td>\n<td>关闭当前⻚⾯，跳转到应⽤内的某个⻚⾯，但是不允许跳转到 tabbar ⻚⾯</td>\n</tr>\n<tr>\n<td>switchTab</td>\n<td>跳转到 tabBar ⻚⾯，并关闭其他所有⾮ tabBar ⻚⾯</td>\n</tr>\n<tr>\n<td>reLaunch</td>\n<td>关闭所有⻚⾯，打开到应⽤内的某个⻚⾯</td>\n</tr>\n<tr>\n<td>navigateBack</td>\n<td>关闭当前⻚⾯，返回上⼀⻚⾯或多级⻚⾯。可通过 getCurrentPages() 获取当前的⻚⾯栈，决定需要返回⼏层</td>\n</tr>\n<tr>\n<td>exit</td>\n<td>退出⼩程序，target=’miniProgram’时⽣效</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>pages/search/search.wxml<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/logs/logs&quot;</span>&gt;</span>日志页面<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/index/index&quot;</span>&gt;</span>跳转tabbar页面<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">open-type</span>=<span class=\"string\">&quot;redirect&quot;</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/logs/logs&quot;</span>&gt;</span>日志页面 redirect<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">open-type</span>=<span class=\"string\">&quot;switchTab&quot;</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/index/index&quot;</span>&gt;</span>switchTab 跳转到tabbar页面<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">navigator</span> <span class=\"attr\">open-type</span>=<span class=\"string\">&quot;reLaunch&quot;</span> <span class=\"attr\">url</span>=<span class=\"string\">&quot;/pages/img/img&quot;</span>&gt;</span>reLaunch 可以随便跳<span class=\"tag\">&lt;/<span class=\"name\">navigator</span>&gt;</span></span><br><span class=\"line\">123456</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-6-rich-text\"><a href=\"#7-6-rich-text\" class=\"headerlink\" title=\"7.6 rich-text\"></a>7.6 rich-text</h2><p>富文本标签：可以将字符串解析成对应标签，类似 vue中 <code>v-html</code> 功能</p>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 显示斜体hello world --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">rich-text</span> <span class=\"attr\">nodes</span>=<span class=\"string\">&quot;&lt;i&gt; hello world &lt;/i&gt;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">rich-text</span>&gt;</span></span><br><span class=\"line\">12</span><br></pre></td></tr></table></figure>\n<p><strong>nodes属性</strong><br>nodes 属性⽀持 字符串 和 标签节点数组</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n<th>类型</th>\n<th>必填</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>标签名</td>\n<td>string</td>\n<td>是</td>\n<td>⽀持部分受信任的 HTML 节点</td>\n</tr>\n<tr>\n<td>attrs</td>\n<td>属性</td>\n<td>object</td>\n<td>否</td>\n<td>⽀持部分受信任的属性，遵循 Pascal 命名法</td>\n</tr>\n<tr>\n<td>children</td>\n<td>⼦节点列表</td>\n<td>array</td>\n<td>否</td>\n<td>结构和 nodes ⼀致</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>⽂本节点：type = text</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>说明</th>\n<th>类型</th>\n<th>必填</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>text</td>\n<td>⽂本</td>\n<td>string</td>\n<td>是</td>\n<td>⽀持entities</td>\n</tr>\n</tbody>\n</table>\n</div>\n<ul>\n<li>nodes 不推荐使⽤ String 类型，性能会有所下降。</li>\n<li>rich-text 组件内屏蔽所有节点的事件。</li>\n<li>attrs 属性不⽀持 id ，⽀持 class 。</li>\n<li>name 属性⼤⼩写不敏感。</li>\n<li>如果使⽤了不受信任的 HTML 节点，该节点及其所有⼦节点将会被移除。</li>\n<li>img 标签仅⽀持⽹络图⽚</li>\n</ul>\n<h2 id=\"7-7-button\"><a href=\"#7-7-button\" class=\"headerlink\" title=\"7.7 button\"></a>7.7 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/button.html\">button</a></h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>值</th>\n<th>必填</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>size</td>\n<td>string</td>\n<td>默认值default，mini小尺寸</td>\n<td>否</td>\n<td>按钮的⼤⼩</td>\n</tr>\n<tr>\n<td>type</td>\n<td>string</td>\n<td>default白色，primary绿色 ，warn红色</td>\n<td>否</td>\n<td>按钮的样式类型</td>\n</tr>\n<tr>\n<td>plain</td>\n<td>boolean</td>\n<td>false</td>\n<td>否</td>\n<td>按钮是否镂空，背景⾊透明</td>\n</tr>\n<tr>\n<td>disabled</td>\n<td>boolean</td>\n<td>false</td>\n<td>否</td>\n<td>是否禁⽤</td>\n</tr>\n<tr>\n<td>loading</td>\n<td>boolean</td>\n<td>false</td>\n<td>否</td>\n<td>名称前是否带 loading 图标</td>\n</tr>\n<tr>\n<td>form-type</td>\n<td>string</td>\n<td>submit提交表单，reset重置表单</td>\n<td>否</td>\n<td>⽤于 <code>组件，点击分别会触发</code> 组件的submit/reset 事件</td>\n</tr>\n<tr>\n<td>open-type</td>\n<td>string</td>\n<td></td>\n<td>否</td>\n<td>微信开放能⼒</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>open-type 的合法值</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>值</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>contact</td>\n<td>打开客服会话，如果⽤⼾在会话中点击消息卡⽚后返回⼩程序，可以从bindcontact 回调中获得具体信息，<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/customer-message/receive.html\">具体说明</a></td>\n</tr>\n<tr>\n<td>share</td>\n<td>触发⽤⼾转发，不能转发到朋友圈，<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/share.html\">具体说明</a></td>\n</tr>\n<tr>\n<td>getPhoneNumber</td>\n<td>获取⽤⼾⼿机号，可以从bindgetphonenumber回调中获取到⽤⼾信息，但加密过，需要在后台服务器进行解析，<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/getPhoneNumber.html\">具体说明</a></td>\n</tr>\n<tr>\n<td>getUserInfo</td>\n<td>获取⽤⼾信息，可以从bindgetuserinfo回调中获取到⽤⼾信息，直接获取，不存在加密字段</td>\n</tr>\n<tr>\n<td>launchApp</td>\n<td>打开APP，可以通过app-parameter属性设定向APP传的参数<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/launchApp.html\">具体说明</a></td>\n</tr>\n<tr>\n<td>openSetting</td>\n<td>打开授权设置⻚</td>\n</tr>\n<tr>\n<td>feedback</td>\n<td>打开“意⻅反馈”⻚⾯，⽤⼾可提交反馈内容并上传⽇志，开发者可以登录⼩程序管理后台后进⼊左侧菜单“客服反馈”⻚⾯获取到反馈，只能通过真机调试打开</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>open-type 的 contact的实现流程</p>\n<ol>\n<li>将⼩程序 的 appid 由测试号改为 ⾃⼰的 appid</li>\n<li>登录微信⼩程序官⽹，添加<br>客服 - 微信</li>\n<li>为了⽅便演⽰，⽼师⾃⼰准备了两个账号（一）普通⽤⼾ A（二）客服-微信 B</li>\n</ol>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- search.wxml --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;warn&quot;</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;mini&quot;</span> <span class=\"attr\">loading</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">plain</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span></span><br><span class=\"line\">  default</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">open-type</span>=<span class=\"string\">&quot;getPhoneNumber&quot;</span> <span class=\"attr\">bindgetphonenumber</span>=<span class=\"string\">&quot;getPhoneNumber&quot;</span>&gt;</span>获取用户手机号<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">12345</span><br><span class=\"line\">// pages/search/search.js</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  getPhoneNumber(e) &#123;</span><br><span class=\"line\">    console.log(e);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">123456</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-8-icon\"><a href=\"#7-8-icon\" class=\"headerlink\" title=\"7.8 icon\"></a>7.8 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/icon.html\">icon</a></h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>类型</th>\n<th>默认值</th>\n<th>必填</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>type</td>\n<td>string</td>\n<td></td>\n<td>是</td>\n<td>icon的类型，有效值：success, success_no_circle,info, warn, waiting, cancel, download, search,clear</td>\n</tr>\n<tr>\n<td>size</td>\n<td>number/string</td>\n<td>23</td>\n<td>否</td>\n<td>icon的⼤⼩</td>\n</tr>\n<tr>\n<td>color</td>\n<td>string</td>\n<td></td>\n<td>否</td>\n<td>icon的颜⾊，同css的color</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- search.wxml --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;group&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;iconSize&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">icon</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;success&quot;</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;&#123;&#123;item&#125;&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;group&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;iconType&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">icon</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;&#123;&#123;item&#125;&#125;&quot;</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;40&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;group&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;iconColor&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">icon</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;success&quot;</span> <span class=\"attr\">size</span>=<span class=\"string\">&quot;40&quot;</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;&#123;&#123;item&#125;&#125;&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123456789101112131415161718</span><br><span class=\"line\">// pages/search/search.js</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">   iconSize: [20, 30, 40, 50, 60, 70],</span><br><span class=\"line\">   iconType: [</span><br><span class=\"line\">     &#x27;success&#x27;, &#x27;success_no_circle&#x27;, &#x27;info&#x27;, &#x27;warn&#x27;, &#x27;waiting&#x27;, &#x27;cancel&#x27;, </span><br><span class=\"line\">&#x27;download&#x27;, &#x27;search&#x27;, &#x27;clear&#x27;</span><br><span class=\"line\">   ],</span><br><span class=\"line\">   iconColor: [</span><br><span class=\"line\">     &#x27;red&#x27;, &#x27;orange&#x27;, &#x27;yellow&#x27;, &#x27;green&#x27;, &#x27;rgb(0,255,255)&#x27;, &#x27;blue&#x27;, &#x27;purple&#x27;</span><br><span class=\"line\">   ],</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">12345678910111213</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-9-radio\"><a href=\"#7-9-radio\" class=\"headerlink\" title=\"7.9 radio\"></a>7.9 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/radio.html\">radio</a></h2><ul>\n<li>可以通过 color属性来修改颜色</li>\n<li>需要搭配 radio-group ⼀起使⽤</li>\n</ul>\n<p>代码示例：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">radio-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;handleChange&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;red&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;male&quot;</span>&gt;</span>男<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">color</span>=<span class=\"string\">&quot;red&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;female&quot;</span>&gt;</span>女<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">radio-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>单选框选中的是&#123;&#123;gender&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">12345</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data() &#123;</span><br><span class=\"line\">    gender: &#x27;&#x27;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  handleChange(e) &#123;</span><br><span class=\"line\">    console.log(e);</span><br><span class=\"line\">    let gender = e.detail.value</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      // gender:gender</span><br><span class=\"line\">      gender</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">12345678910111213</span><br></pre></td></tr></table></figure>\n<h2 id=\"7-10-checkbox\"><a href=\"#7-10-checkbox\" class=\"headerlink\" title=\"7.10 checkbox\"></a>7.10 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html\">checkbox</a></h2><ul>\n<li>可以通过 color属性来修改颜色</li>\n<li>需要搭配 checkbox-group ⼀起使⽤</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">checkbox-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;handleItemChange&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">checkbox</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&#123;&#123;item.value&#125;&#125;&quot;</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;list&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">checkbox</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">checkbox-group</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>选中的水果有&#123;&#123;checkedList&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">1234</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    list:[</span><br><span class=\"line\">      &#123;id:0,name:&quot;苹果&quot;,value:&quot;apple&quot;&#125;,</span><br><span class=\"line\">      &#123;id:1,name:&quot;葡萄&quot;,value:&quot;grape&quot;&#125;,</span><br><span class=\"line\">      &#123;id:2,name:&quot;香蕉&quot;,value:&quot;banana&quot;&#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    checkedList: &#x27;&#x27;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  handleItemChange(e) &#123;</span><br><span class=\"line\">    console.log(e);</span><br><span class=\"line\">    const checkedList = e.detail.value</span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      checkedList</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">1234567891011121314151617</span><br></pre></td></tr></table></figure>\n<h1 id=\"八、自定义组件\"><a href=\"#八、自定义组件\" class=\"headerlink\" title=\"八、自定义组件\"></a>八、自定义组件</h1><p>类似vue或者react中的自定义组件</p>\n<h2 id=\"8-1-创建自定义组件\"><a href=\"#8-1-创建自定义组件\" class=\"headerlink\" title=\"8.1 创建自定义组件\"></a>8.1 创建自定义组件</h2><p>创建文件夹components文件夹之后，在创建一个组件的文件夹，然后右击tabs文件夹创建components组件就会生成如下代码结构：<br><img src=\"https://img-blog.csdnimg.cn/2020091622283790.png#pic_center\" alt=\"在这里插入图片描述\"><br>例如要引用到某个页面中，代码如下：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;usingComponents&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;tabs&quot;</span>: <span class=\"string\">&quot;../../components/tabs/Tabs&quot;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"number\">12345</span></span><br><span class=\"line\">&lt;tabs&gt;&lt;/tabs&gt;</span><br><span class=\"line\"><span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"8-2-组件构造器（Tabs-js）\"><a href=\"#8-2-组件构造器（Tabs-js）\" class=\"headerlink\" title=\"8.2 组件构造器（Tabs.js）\"></a>8.2 组件构造器（Tabs.js）</h2><p>Component 构造器可⽤于定义组件，调⽤ Component 构造器时可以指定组件的属性、数据、⽅法等。</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>定义段</th>\n<th>类型</th>\n<th>是否必填</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>properties</td>\n<td>Object、Map</td>\n<td>否</td>\n<td>组件的对外属性，是属性名到属性设置的映射表，参⻅下⽂</td>\n</tr>\n<tr>\n<td>data</td>\n<td>Object</td>\n<td>否</td>\n<td>组件的内部数据，和 properties ⼀同⽤于组件的模板渲染</td>\n</tr>\n<tr>\n<td>observers</td>\n<td>Object</td>\n<td>否</td>\n<td>组件数据字段监听器，⽤于监听 properties 和 data 的变化，参⻅ <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/observer.html\">数据监听器</a></td>\n</tr>\n<tr>\n<td>methods</td>\n<td>Object</td>\n<td>否</td>\n<td>组件的⽅法，包括事件响应函数和任意的⾃定义⽅法，关于事件响应函数的使⽤，参⻅ <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html\">组件事件</a></td>\n</tr>\n<tr>\n<td>created</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件实例刚刚被创建时执⾏，注意此时不能调⽤ setData ，参⻅ <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/lifetimes.html\">组件⽣命周期</a></td>\n</tr>\n<tr>\n<td>attached</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件实例进⼊⻚⾯节点树时执⾏，参⻅ 组件⽣命周期</td>\n</tr>\n<tr>\n<td>ready</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件布局完成后执⾏，参⻅ 组件⽣命周期</td>\n</tr>\n<tr>\n<td>moved</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件实例被移动到节点树另⼀个位置时执⾏，参⻅ 组件⽣命周期</td>\n</tr>\n<tr>\n<td>detached</td>\n<td>Function</td>\n<td>否</td>\n<td>组件⽣命周期函数，在组件实例被从⻚⾯节点树移除时执⾏，参⻅ 组件⽣命周期</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"8-3-组件、自定义组件传参\"><a href=\"#8-3-组件、自定义组件传参\" class=\"headerlink\" title=\"8.3 组件、自定义组件传参\"></a>8.3 组件、自定义组件传参</h2><p>子组件</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--components/Tabs/Tabs.wxml--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>components/Tabs/Tabs.wxml<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tabs&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tabs_title&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;title_item &#123;&#123;item.isActive ? &#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;tabs&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;handleItemTab&quot;</span> <span class=\"attr\">data-index</span>=<span class=\"string\">&quot;&#123;&#123;index&#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">      &#123;&#123;item.name&#125;&#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tabs_content&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">slot</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">123456789101112131415</span><br><span class=\"line\">// components/Tabs/Tabs.js</span><br><span class=\"line\">Component(&#123;</span><br><span class=\"line\">  properties: &#123;</span><br><span class=\"line\">    tabs: &#123;</span><br><span class=\"line\">      type: Array,</span><br><span class=\"line\">      value: []</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">//   1页面.js文件中存放事件回调函数的时候存放在data同层级下!</span><br><span class=\"line\">//   2组件.js文件中存放事件回调函数的时候必须要存在在methods中!</span><br><span class=\"line\">  methods:&#123;</span><br><span class=\"line\">    handleItemTab(e) &#123;</span><br><span class=\"line\">      // 1绑定点击事件 需要在methods中绑定</span><br><span class=\"line\">      // 2获取被点击的索引，通过事件传参</span><br><span class=\"line\">      // 3获取原数组</span><br><span class=\"line\">      // 4对数组循环</span><br><span class=\"line\">      //      1给每一个循环性选中属性改为false</span><br><span class=\"line\">      //      2给当前的索引的项添加激活选中效果就可以了</span><br><span class=\"line\">      // console.log(e);</span><br><span class=\"line\">      const &#123;index&#125; = e.currentTarget.dataset //es6 语法解构赋值，严谨写法，先复制一份数据，保持原有数据不变</span><br><span class=\"line\">      // 5触发父组件的自定义事件，同时将子组件数据传递给父组件</span><br><span class=\"line\">      this.triggerEvent(&#x27;itemChange&#x27;,&#123;index&#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">1234567891011121314151617181920212223242526</span><br><span class=\"line\">/* components/Tabs/Tabs.wxss */</span><br><span class=\"line\">.tabs &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.tabs_title&#123;</span><br><span class=\"line\">  display: flex;</span><br><span class=\"line\">  padding: 10rpx 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.title_item&#123;</span><br><span class=\"line\">  flex: 1;</span><br><span class=\"line\">  /* justify-content: center; */</span><br><span class=\"line\">  /* display: flex; */</span><br><span class=\"line\">  /* align-items: center; */</span><br><span class=\"line\">  text-align: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.active&#123;</span><br><span class=\"line\">  color: red;</span><br><span class=\"line\">  border-bottom: 5rpx solid currentColor;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.tabs_content&#123;</span><br><span class=\"line\">  margin-top: 100rpx;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">12345678910111213141516171819202122</span><br></pre></td></tr></table></figure>\n<p>父组件</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 这里子向父传递数据，通过事件方式，在子组件的标签加bind+事件名称=&quot;&quot;,别忘了加bind --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">tabs</span> <span class=\"attr\">tabs</span>=<span class=\"string\">&quot;&#123;&#123;tabs&#125;&#125;&quot;</span> <span class=\"attr\">binditemChange</span>=<span class=\"string\">&quot;handleItemChange1&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;tabs[0].isActive&#125;&#125;&quot;</span>&gt;</span>首页<span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;tabs[1].isActive&#125;&#125;&quot;</span>&gt;</span>原创<span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;tabs[2].isActive&#125;&#125;&quot;</span>&gt;</span>分类<span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:else</span>&gt;</span>关于<span class=\"tag\">&lt;/<span class=\"name\">block</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">tabs</span>&gt;</span></span><br><span class=\"line\">1234567</span><br><span class=\"line\">// pages/mine/mine.js</span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  data: &#123;</span><br><span class=\"line\">    tabs: [</span><br><span class=\"line\">      &#123;id:0, name:&quot;首页&quot;, isActive:true&#125;,</span><br><span class=\"line\">      &#123;id:1, name:&quot;原创&quot;, isActive:false&#125;,</span><br><span class=\"line\">      &#123;id:2, name:&quot;分类&quot;, isActive:false&#125;,</span><br><span class=\"line\">      &#123;id:3, name:&quot;关于&quot;, isActive:false&#125;,</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  handleItemChange1(e) &#123;</span><br><span class=\"line\">    // console.log(e);</span><br><span class=\"line\">    const &#123;index&#125; = e.detail</span><br><span class=\"line\">    let &#123;tabs&#125; =this.data</span><br><span class=\"line\">    // [].forEach遍历数组遍历数组的时候修改了v，也会导致源数组被修改</span><br><span class=\"line\">    tabs.forEach((v,i) =&gt; i===index?v.isActive=true:v.isActive=false);</span><br><span class=\"line\"></span><br><span class=\"line\">    this.setData(&#123;</span><br><span class=\"line\">      tabs</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">12345678910111213141516171819202122</span><br></pre></td></tr></table></figure>\n<p>实现的需求：</p>\n<p><img src=\"https://img-blog.csdnimg.cn/20200919144218839.png#pic_center\" alt=\"在这里插入图片描述\"></p>\n<h1 id=\"九、小程序生命周期\"><a href=\"#九、小程序生命周期\" class=\"headerlink\" title=\"九、小程序生命周期\"></a>九、小程序生命周期</h1><h2 id=\"9-1-应用生命周期\"><a href=\"#9-1-应用生命周期\" class=\"headerlink\" title=\"9.1 应用生命周期\"></a>9.1 应用生命周期</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//app.js</span></span><br><span class=\"line\">App(&#123;</span><br><span class=\"line\">  <span class=\"comment\">// 1 应用第一次启动的就会触发的事件</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onLaunch</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 在应用第一次启动的时候获取用户的个人信息</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;onLaunch&quot;</span>)</span><br><span class=\"line\">    <span class=\"comment\">// js的方式来跳转</span></span><br><span class=\"line\">    <span class=\"comment\">// wx.navigateTo(&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//   url: &#x27;/11/22/33&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// &#125;)</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 2 应用被用户看到</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onShow</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//对应用的数据或者页面效果重置</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log (<span class=\"string\">&quot;onShow&quot;</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 3 应用被隐藏了</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onHide</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//暂停或者清除定时器</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;Hide&quot;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 4 应用的代码发生了报错的时候就会触发</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onError</span>(<span class=\"params\">err</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//在应用发生代码报错的时候，收集用户的错误信息，通过异步请求将错误的信息发送后台去</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;onError&quot;</span>)</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log (err)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 5 页面找不到就会触发</span></span><br><span class=\"line\">    <span class=\"comment\">// 应用第一 次启动的时候，如果找不到第一个入口页面 才会触发</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onPageNotFound</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//如果页面不存在了通过js的方式来重新跳转页面重新跳到第二个首页</span></span><br><span class=\"line\">    <span class=\"comment\">//不能跳到tabbar页面导航组件类似</span></span><br><span class=\"line\">    wx.navigateTo(&#123; </span><br><span class=\"line\">      <span class=\"attr\">url</span>: <span class=\"string\">&#x27;/pages/logs/logs&#x27;</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onPageNotFound&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"number\">1234567891011121314151617181920212223242526272829303132333435363738</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"9-2-页面生命周期\"><a href=\"#9-2-页面生命周期\" class=\"headerlink\" title=\"9.2 页面生命周期\"></a>9.2 页面生命周期</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// pages/search/search.js</span></span><br><span class=\"line\">Page(&#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">   <span class=\"attr\">iconSize</span>: [<span class=\"number\">20</span>, <span class=\"number\">30</span>, <span class=\"number\">40</span>, <span class=\"number\">50</span>, <span class=\"number\">60</span>, <span class=\"number\">70</span>]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面加载</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onLoad</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">options</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// onLoad发送异步请求来初始化页面数据</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;onLoad&quot;</span>); </span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面初次渲染完成</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onReady</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onReady&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面显示</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onShow</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onShow&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面隐藏</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onHide</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onHide&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 生命周期函数--监听页面卸载，也可以通过点击超链接来演示</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onUnload</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onUnload&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onPullDownRefresh</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;onPullDownRefresh&quot;</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 页面的数据或者效果重新刷新</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 页面上拉触底事件的处理函数，需要让页面出现上下滚动才行</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onReachBottom</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 上拉加载下一页数据</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onReachBottom&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 用户点击右上角分享</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"attr\">onShareAppMessage</span>: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onShareAppMessage&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 页面滚动就可以触发</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onPageScroll</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onPageScroll&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 页面的尺寸发生改变的时候触发</span></span><br><span class=\"line\"><span class=\"comment\">  * 小程序发生了横屏竖屏切换的时候触发，需要在search.json界面添加如下代码</span></span><br><span class=\"line\"><span class=\"comment\">  * &#123;</span></span><br><span class=\"line\"><span class=\"comment\">  &quot;pageOrientation&quot;: &quot;auto&quot;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onResize</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onResize&#x27;</span>);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">/** </span></span><br><span class=\"line\"><span class=\"comment\">   * 1 必须要求当前页面也是tabbar页面</span></span><br><span class=\"line\"><span class=\"comment\">   * 2 点击的自己的tab item的时候才触发 </span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">onTabItemTap</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;onTabItemTap&#x27;</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"number\">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"9-3-页面生命周期图解\"><a href=\"#9-3-页面生命周期图解\" class=\"headerlink\" title=\"9.3 页面生命周期图解\"></a>9.3 页面生命周期图解</h2><p><img src=\"https://img-blog.csdnimg.cn/20200920112234319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Jlc3RfYXJyYW5nZW1lbnQ=,size_16,color_FFFFFF,t_70#pic_center\" alt=\"在这里插入图片描述\"></p>\n<p><br></p>\n<p><br></p>\n<p><a href=\"https://blog.csdn.net/best_arrangement/article/details/108356127\">https://blog.csdn.net/best_arrangement/article/details/108356127</a></p>","categories":[{"name":"微信小程序","path":"api/categories/微信小程序.json"}],"tags":[{"name":"微信小程序","path":"api/tags/微信小程序.json"}]}