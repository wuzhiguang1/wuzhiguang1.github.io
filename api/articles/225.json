{"title":"element ui表单组件如何在vue的v-for循环的校验规则以及prop的设置","slug":"225","date":"2022-09-09T01:01:37.000Z","updated":"2022-09-09T02:03:02.539Z","comments":true,"path":"api/articles/225.json","excerpt":null,"covers":null,"content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">提示：正确设置v-for中的prop属性可以解决如下报错：</span><br></pre></td></tr></table></figure>\n\n<p>Error: please transfer a valid prop path to form item!</p>\n<p>提示：以下是本人在实际项目中遇到的相关问题，下面案例可供参考</p>\n<h2 id=\"一、element-ui-在使用v-for循环时prop和rules如何设置？\"><a href=\"#一、element-ui-在使用v-for循环时prop和rules如何设置？\" class=\"headerlink\" title=\"一、element ui 在使用v-for循环时prop和rules如何设置？\"></a>一、element ui 在使用v-for循环时prop和rules如何设置？</h2><p>示例：pandas 是基于NumPy 的一种工具，该工具是为了解决数据分析任务而创建的。</p>\n<h2 id=\"二、使用步骤\"><a href=\"#二、使用步骤\" class=\"headerlink\" title=\"二、使用步骤\"></a>二、使用步骤</h2><p>1.具体代码<br>代码如下（示例）：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-form</span> <span class=\"attr\">ref</span>=<span class=\"string\">&quot;personInfoForm&quot;</span> <span class=\"attr\">v-loading</span>=<span class=\"string\">&quot;infoLoading&quot;</span> <span class=\"attr\">:model</span>=<span class=\"string\">&quot;personInfo&quot;</span> <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;formRules&quot;</span>&gt;</span>    </span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;personInfo.hasPassBy==1&quot;</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;passBY&quot;</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;font-style:bold&quot;</span>&gt;</span>途经城市<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">el-link</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;primary&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;addPassby&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-left:10px&quot;</span>&gt;</span>添加<span class=\"tag\">&lt;/<span class=\"name\">el-link</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(domain, index) in personInfo.passByCities&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;pass-box&quot;</span> <span class=\"attr\">border-radius</span>=<span class=\"string\">&#x27;30px&#x27;</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;pass-by-title&quot;</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>途经城市&#123;&#123;index+1&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">div</span> &gt;</span><span class=\"tag\">&lt;<span class=\"name\">el-link</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;primary&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;deletePassby(index)&quot;</span>&gt;</span>删除<span class=\"tag\">&lt;/<span class=\"name\">el-link</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">el-row</span> <span class=\"attr\">:gutter</span>=<span class=\"string\">&quot;30&quot;</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">el-col</span> <span class=\"attr\">:span</span>=<span class=\"string\">12</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">el-form-item</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;途径日期&quot;</span> <span class=\"attr\">:prop</span>=<span class=\"string\">&quot;`passByCities.$&#123;index&#125;.passByTime`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;[&#123; required: true, message: &#x27;请选择途径日期&#x27;, trigger: &#x27;blur&#x27; &#125;]&quot;</span>&gt;</span></span><br><span class=\"line\">                 <span class=\"tag\">&lt;<span class=\"name\">el-date-picker</span> </span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;domain.passByTime&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">style</span>=<span class=\"string\">&quot;width: 100%&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">type</span>=<span class=\"string\">&quot;date&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">value-format</span>=<span class=\"string\">&quot;yyyy-MM-dd&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;请选择途径日期&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                 /&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">el-form-item</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;/<span class=\"name\">el-col</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">el-col</span> <span class=\"attr\">:span</span>=<span class=\"string\">12</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">el-form-item</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;请选择途经城市&quot;</span> <span class=\"attr\">:prop</span>=<span class=\"string\">&quot;`passByCities.$&#123;index&#125;.passAddr`&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">                 <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;[&#123;type:&#x27;array&#x27;,required: true, message: &#x27;请选择途经城市&#x27;, trigger: &#x27;change&#x27; &#125;]&quot;</span>&gt;</span></span><br><span class=\"line\">                 <span class=\"tag\">&lt;<span class=\"name\">el-cascader</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width: 100%&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;domain.passAddr&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:placeholder</span>=<span class=\"string\">&quot;`$&#123;domain.passByProvince&#125;$&#123;domain.passByCity&#125;$&#123;domain.passByDistrict&#125;` || &#x27;请选择途径城市&#x27;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:options</span>=<span class=\"string\">&quot;options.fromCityOpt&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:props</span>=<span class=\"string\">&quot;&#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                     multiple: false,</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                     emitPath: true,</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                     value: &#x27;code&#x27;,</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                     label: &#x27;name&#x27;,</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                   &#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:show-all-levels</span>=<span class=\"string\">&quot;true&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">filterable</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">clearable</span></span></span><br><span class=\"line\"><span class=\"tag\">                   @<span class=\"attr\">change</span>=<span class=\"string\">&quot;((value)=&gt;&#123;handlePassby(value, index)&#125;)&quot;</span>/&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">el-form-item</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;/<span class=\"name\">el-col</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;/<span class=\"name\">el-row</span>&gt;</span>  </span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-关键代码\"><a href=\"#2-关键代码\" class=\"headerlink\" title=\"2.关键代码\"></a>2.关键代码</h2><p>代码如下（示例）：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-form-item</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;途径日期&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">:prop</span>=<span class=\"string\">&quot;`passByCities.$&#123;index&#125;.passByTime`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;[&#123; required: true, message: &#x27;请选择途径日期&#x27;, trigger: &#x27;blur&#x27; &#125;]&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>prop设置：必须为list数组名passByCities和index索引以及字段名passByTime的拼接才可以；<br>rules设置：普通字符串的可以如上直接写，假如是像我一样的下面的要有级联选择的，级联选择的rules必须设置数组类型，如：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-form-item</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;请选择途经城市&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">:prop</span>=<span class=\"string\">&quot;`passByCities.$&#123;index&#125;.passAddr`&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;[&#123;type:&#x27;array&#x27;,required: true, message: &#x27;请选择途经城市&#x27;, trigger: &#x27;change&#x27; &#125;]&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>提示：正确设置prop属性可以避免报错：Error: please transfer a valid prop path to form item!<br>级联组件的rules设置可以通过type:’array’设置；</p>\n<p>转：<code>https://blog.csdn.net/sinat_27567093/article/details/124189277</code></p>\n","more":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">提示：正确设置v-for中的prop属性可以解决如下报错：</span><br></pre></td></tr></table></figure>\n\n<p>Error: please transfer a valid prop path to form item!</p>\n<p>提示：以下是本人在实际项目中遇到的相关问题，下面案例可供参考</p>\n<h2 id=\"一、element-ui-在使用v-for循环时prop和rules如何设置？\"><a href=\"#一、element-ui-在使用v-for循环时prop和rules如何设置？\" class=\"headerlink\" title=\"一、element ui 在使用v-for循环时prop和rules如何设置？\"></a>一、element ui 在使用v-for循环时prop和rules如何设置？</h2><p>示例：pandas 是基于NumPy 的一种工具，该工具是为了解决数据分析任务而创建的。</p>\n<h2 id=\"二、使用步骤\"><a href=\"#二、使用步骤\" class=\"headerlink\" title=\"二、使用步骤\"></a>二、使用步骤</h2><p>1.具体代码<br>代码如下（示例）：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-form</span> <span class=\"attr\">ref</span>=<span class=\"string\">&quot;personInfoForm&quot;</span> <span class=\"attr\">v-loading</span>=<span class=\"string\">&quot;infoLoading&quot;</span> <span class=\"attr\">:model</span>=<span class=\"string\">&quot;personInfo&quot;</span> <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;formRules&quot;</span>&gt;</span>    </span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;personInfo.hasPassBy==1&quot;</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;passBY&quot;</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;font-style:bold&quot;</span>&gt;</span>途经城市<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">el-link</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;primary&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;addPassby&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-left:10px&quot;</span>&gt;</span>添加<span class=\"tag\">&lt;/<span class=\"name\">el-link</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(domain, index) in personInfo.passByCities&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;index&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;pass-box&quot;</span> <span class=\"attr\">border-radius</span>=<span class=\"string\">&#x27;30px&#x27;</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;pass-by-title&quot;</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>途经城市&#123;&#123;index+1&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">div</span> &gt;</span><span class=\"tag\">&lt;<span class=\"name\">el-link</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;primary&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;deletePassby(index)&quot;</span>&gt;</span>删除<span class=\"tag\">&lt;/<span class=\"name\">el-link</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">el-row</span> <span class=\"attr\">:gutter</span>=<span class=\"string\">&quot;30&quot;</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">el-col</span> <span class=\"attr\">:span</span>=<span class=\"string\">12</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">el-form-item</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;途径日期&quot;</span> <span class=\"attr\">:prop</span>=<span class=\"string\">&quot;`passByCities.$&#123;index&#125;.passByTime`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;[&#123; required: true, message: &#x27;请选择途径日期&#x27;, trigger: &#x27;blur&#x27; &#125;]&quot;</span>&gt;</span></span><br><span class=\"line\">                 <span class=\"tag\">&lt;<span class=\"name\">el-date-picker</span> </span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;domain.passByTime&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">style</span>=<span class=\"string\">&quot;width: 100%&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">type</span>=<span class=\"string\">&quot;date&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">value-format</span>=<span class=\"string\">&quot;yyyy-MM-dd&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;请选择途径日期&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                 /&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">el-form-item</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;/<span class=\"name\">el-col</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">el-col</span> <span class=\"attr\">:span</span>=<span class=\"string\">12</span>&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;<span class=\"name\">el-form-item</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;请选择途经城市&quot;</span> <span class=\"attr\">:prop</span>=<span class=\"string\">&quot;`passByCities.$&#123;index&#125;.passAddr`&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">                 <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;[&#123;type:&#x27;array&#x27;,required: true, message: &#x27;请选择途经城市&#x27;, trigger: &#x27;change&#x27; &#125;]&quot;</span>&gt;</span></span><br><span class=\"line\">                 <span class=\"tag\">&lt;<span class=\"name\">el-cascader</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width: 100%&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;domain.passAddr&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:placeholder</span>=<span class=\"string\">&quot;`$&#123;domain.passByProvince&#125;$&#123;domain.passByCity&#125;$&#123;domain.passByDistrict&#125;` || &#x27;请选择途径城市&#x27;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:options</span>=<span class=\"string\">&quot;options.fromCityOpt&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:props</span>=<span class=\"string\">&quot;&#123;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                     multiple: false,</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                     emitPath: true,</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                     value: &#x27;code&#x27;,</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                     label: &#x27;name&#x27;,</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"tag\">                   &#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:show-all-levels</span>=<span class=\"string\">&quot;true&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">filterable</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">clearable</span></span></span><br><span class=\"line\"><span class=\"tag\">                   @<span class=\"attr\">change</span>=<span class=\"string\">&quot;((value)=&gt;&#123;handlePassby(value, index)&#125;)&quot;</span>/&gt;</span></span><br><span class=\"line\">               <span class=\"tag\">&lt;/<span class=\"name\">el-form-item</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;/<span class=\"name\">el-col</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;/<span class=\"name\">el-row</span>&gt;</span>  </span><br><span class=\"line\">         <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-关键代码\"><a href=\"#2-关键代码\" class=\"headerlink\" title=\"2.关键代码\"></a>2.关键代码</h2><p>代码如下（示例）：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-form-item</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;途径日期&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">:prop</span>=<span class=\"string\">&quot;`passByCities.$&#123;index&#125;.passByTime`&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;[&#123; required: true, message: &#x27;请选择途径日期&#x27;, trigger: &#x27;blur&#x27; &#125;]&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>prop设置：必须为list数组名passByCities和index索引以及字段名passByTime的拼接才可以；<br>rules设置：普通字符串的可以如上直接写，假如是像我一样的下面的要有级联选择的，级联选择的rules必须设置数组类型，如：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-form-item</span> <span class=\"attr\">label</span>=<span class=\"string\">&quot;请选择途经城市&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">:prop</span>=<span class=\"string\">&quot;`passByCities.$&#123;index&#125;.passAddr`&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">:rules</span>=<span class=\"string\">&quot;[&#123;type:&#x27;array&#x27;,required: true, message: &#x27;请选择途经城市&#x27;, trigger: &#x27;change&#x27; &#125;]&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>提示：正确设置prop属性可以避免报错：Error: please transfer a valid prop path to form item!<br>级联组件的rules设置可以通过type:’array’设置；</p>\n<p>转：<code>https://blog.csdn.net/sinat_27567093/article/details/124189277</code></p>\n","categories":[{"name":"element","path":"api/categories/element.json"}],"tags":[{"name":"element","path":"api/tags/element.json"}]}