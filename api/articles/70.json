{"title":"Vue-cli3和Vue-cli4打包 npm run build 路径错误解决办法(亲测管用)","slug":"70","date":"2020-07-29T13:40:53.000Z","updated":"2022-07-29T04:22:04.768Z","comments":true,"path":"api/articles/70.json","excerpt":" [Figure] ","covers":["https://qny.aqingya.cn/img/458838511767519716.jpg","https://qny.aqingya.cn/img/20200729214740.png"],"content":"<p><img src=\"https://qny.aqingya.cn/img/458838511767519716.jpg\"></p>\n<span id=\"more\"></span>\n\n\n\n<h2 id=\"Vue-cli3打包-npm-run-build-路径错误解决办法\"><a href=\"#Vue-cli3打包-npm-run-build-路径错误解决办法\" class=\"headerlink\" title=\"Vue-cli3打包 npm run build 路径错误解决办法\"></a>Vue-cli3打包 npm run build 路径错误解决办法</h2><p>我们用vue-cli搭建的项目执行npm build后本地打开页面空白，如何才能查看npm run build之后的结果呢。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200729214740.png\"></p>\n<p>我们先看一下提示信息：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Tip: built files are meant to be served over an HTTP server.</span><br><span class=\"line\"> Opening index.html over file:<span class=\"comment\">// won&#x27;t work.</span></span><br></pre></td></tr></table></figure>\n\n<p>这段话的意思就是说：构建文件务必放在一个HTTP服务器。直接打开index.html文件将不工作，那如何本地查看呢?</p>\n<p>（1）到项目目录下的config文件夹里的index.js文件中,其中dev是开发环境，build是构建版本，找到build下面的assetsPublicPath: ‘/‘,然后修改为assetsPublicPath: ‘./‘,即“/”前加点。</p>\n<p>现在再重新打包一次 npm run build，刷新你的页面，就可以看到啦。</p>\n<p>（2）还有一种就是借助http-server：</p>\n<p>首先我们需要安装它命令npm install http-server -g，然后执行npm run build,之后进入打包的目录我这里是cd dist然后执行http-server就可以啦。</p>\n<br>\n\n<br>\n\n\n\n\n<h2 id=\"Vue-cli4打包-npm-run-build-路径错误解决办法\"><a href=\"#Vue-cli4打包-npm-run-build-路径错误解决办法\" class=\"headerlink\" title=\"Vue-cli4打包 npm run build 路径错误解决办法\"></a>Vue-cli4打包 npm run build 路径错误解决办法</h2><p>在项目根目录下，和package.json同级的目录下，创建一个vue.config.js文件（不能是其他的名字）<br><strong>publicPath:’./ ‘     是解决相对路径的方法</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;./&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;assets&#x27;</span>: <span class=\"string\">&#x27;@/assets&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;common&#x27;</span>: <span class=\"string\">&#x27;@/common&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;components&#x27;</span>: <span class=\"string\">&#x27;@/components&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;network&#x27;</span>: <span class=\"string\">&#x27;@/network&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;views&#x27;</span>: <span class=\"string\">&#x27;@/views&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;plugins&#x27;</span>: <span class=\"string\">&#x27;@/plugins&#x27;</span>,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","more":"<h2 id=\"Vue-cli3打包-npm-run-build-路径错误解决办法\"><a href=\"#Vue-cli3打包-npm-run-build-路径错误解决办法\" class=\"headerlink\" title=\"Vue-cli3打包 npm run build 路径错误解决办法\"></a>Vue-cli3打包 npm run build 路径错误解决办法</h2><p>我们用vue-cli搭建的项目执行npm build后本地打开页面空白，如何才能查看npm run build之后的结果呢。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200729214740.png\"></p>\n<p>我们先看一下提示信息：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Tip: built files are meant to be served over an HTTP server.</span><br><span class=\"line\"> Opening index.html over file:<span class=\"comment\">// won&#x27;t work.</span></span><br></pre></td></tr></table></figure>\n\n<p>这段话的意思就是说：构建文件务必放在一个HTTP服务器。直接打开index.html文件将不工作，那如何本地查看呢?</p>\n<p>（1）到项目目录下的config文件夹里的index.js文件中,其中dev是开发环境，build是构建版本，找到build下面的assetsPublicPath: ‘/‘,然后修改为assetsPublicPath: ‘./‘,即“/”前加点。</p>\n<p>现在再重新打包一次 npm run build，刷新你的页面，就可以看到啦。</p>\n<p>（2）还有一种就是借助http-server：</p>\n<p>首先我们需要安装它命令npm install http-server -g，然后执行npm run build,之后进入打包的目录我这里是cd dist然后执行http-server就可以啦。</p>\n<br>\n\n<br>\n\n\n\n\n<h2 id=\"Vue-cli4打包-npm-run-build-路径错误解决办法\"><a href=\"#Vue-cli4打包-npm-run-build-路径错误解决办法\" class=\"headerlink\" title=\"Vue-cli4打包 npm run build 路径错误解决办法\"></a>Vue-cli4打包 npm run build 路径错误解决办法</h2><p>在项目根目录下，和package.json同级的目录下，创建一个vue.config.js文件（不能是其他的名字）<br><strong>publicPath:’./ ‘     是解决相对路径的方法</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;./&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;assets&#x27;</span>: <span class=\"string\">&#x27;@/assets&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;common&#x27;</span>: <span class=\"string\">&#x27;@/common&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;components&#x27;</span>: <span class=\"string\">&#x27;@/components&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;network&#x27;</span>: <span class=\"string\">&#x27;@/network&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;views&#x27;</span>: <span class=\"string\">&#x27;@/views&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;plugins&#x27;</span>: <span class=\"string\">&#x27;@/plugins&#x27;</span>,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","categories":[{"name":"迎刃而解","path":"api/categories/迎刃而解.json"}],"tags":[{"name":"Vue","path":"api/tags/Vue.json"},{"name":"webpack","path":"api/tags/webpack.json"}]}