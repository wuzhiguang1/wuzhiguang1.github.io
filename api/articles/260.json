{"title":"身份证号码正则验证","slug":"260","date":"2022-12-21T09:45:00.000Z","updated":"2022-12-21T09:48:58.467Z","comments":true,"path":"api/articles/260.json","excerpt":null,"covers":null,"content":"<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">checkPersonIdcard</span>(<span class=\"params\">personnumber</span>) </span>&#123;</span><br><span class=\"line\">  personnumber = personnumber.toUpperCase();</span><br><span class=\"line\">  <span class=\"comment\">//身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X。</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(<span class=\"regexp\">/(^\\d&#123;15&#125;$)|(^\\d&#123;17&#125;([0-9]|X)$)/</span>.test(personnumber))) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//校验位按照ISO 7064:1983.MOD 11-2的规定生成，X可以认为是数字10。</span></span><br><span class=\"line\">  <span class=\"comment\">//下面分别分析出生日期和校验位</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> len, re;</span><br><span class=\"line\">  len = personnumber.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (len == <span class=\"number\">15</span>) &#123;</span><br><span class=\"line\">    re = <span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"regexp\">/^(\\d&#123;6&#125;)(\\d&#123;2&#125;)(\\d&#123;2&#125;)(\\d&#123;2&#125;)(\\d&#123;3&#125;)$/</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arrSplit = personnumber.match(re);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//检查生日日期是否正确</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> dtmBirth = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">&#x27;19&#x27;</span> + arrSplit[<span class=\"number\">2</span>] + <span class=\"string\">&#x27;/&#x27;</span> + arrSplit[<span class=\"number\">3</span>] + <span class=\"string\">&#x27;/&#x27;</span> + arrSplit[<span class=\"number\">4</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> bGoodDay;</span><br><span class=\"line\">    bGoodDay = (dtmBirth.getYear() == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">2</span>])) &amp;&amp; ((dtmBirth.getMonth() + <span class=\"number\">1</span>) == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">3</span>])) &amp;&amp; (dtmBirth.getDate() == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">4</span>]));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!bGoodDay) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//将15位身份证转成18位</span></span><br><span class=\"line\">      <span class=\"comment\">//校验位按照ISO 7064:1983.MOD 11-2的规定生成，X可以认为是数字10。</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> arrInt = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> arrCh = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;0&#x27;</span>, <span class=\"string\">&#x27;X&#x27;</span>, <span class=\"string\">&#x27;9&#x27;</span>, <span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> nTemp = <span class=\"number\">0</span>,</span><br><span class=\"line\">        i;</span><br><span class=\"line\">      personnumber = personnumber.substr(<span class=\"number\">0</span>, <span class=\"number\">6</span>) + <span class=\"string\">&#x27;19&#x27;</span> + personnumber.substr(<span class=\"number\">6</span>, personnumber.length - <span class=\"number\">6</span>);</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">17</span>; i++) &#123;</span><br><span class=\"line\">        nTemp += personnumber.substr(i, <span class=\"number\">1</span>) * arrInt[i];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      personnumber += arrCh[nTemp % <span class=\"number\">11</span>];</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (len == <span class=\"number\">18</span>) &#123;</span><br><span class=\"line\">    re = <span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"regexp\">/^(\\d&#123;6&#125;)(\\d&#123;4&#125;)(\\d&#123;2&#125;)(\\d&#123;2&#125;)(\\d&#123;3&#125;)([0-9]|X)$/</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arrSplit = personnumber.match(re);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//检查生日日期是否正确</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> dtmBirth = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(arrSplit[<span class=\"number\">2</span>] + <span class=\"string\">&quot;/&quot;</span> + arrSplit[<span class=\"number\">3</span>] + <span class=\"string\">&quot;/&quot;</span> + arrSplit[<span class=\"number\">4</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> bGoodDay;</span><br><span class=\"line\">    bGoodDay = (dtmBirth.getFullYear() == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">2</span>])) &amp;&amp; ((dtmBirth.getMonth() + <span class=\"number\">1</span>) == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">3</span>])) &amp;&amp; (dtmBirth.getDate() == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">4</span>]));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!bGoodDay) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//检验18位身份证的校验码是否正确。</span></span><br><span class=\"line\">      <span class=\"comment\">//校验位按照ISO 7064:1983.MOD 11-2的规定生成，X可以认为是数字10。</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> valnum;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> arrInt = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> arrCh = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;0&#x27;</span>, <span class=\"string\">&#x27;X&#x27;</span>, <span class=\"string\">&#x27;9&#x27;</span>, <span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> nTemp = <span class=\"number\">0</span>,</span><br><span class=\"line\">        i;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">17</span>; i++) &#123;</span><br><span class=\"line\">        nTemp += personnumber.substr(i, <span class=\"number\">1</span>) * arrInt[i];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      valnum = arrCh[nTemp % <span class=\"number\">11</span>];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (valnum != personnumber.substr(<span class=\"number\">17</span>, <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","more":"<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">checkPersonIdcard</span>(<span class=\"params\">personnumber</span>) </span>&#123;</span><br><span class=\"line\">  personnumber = personnumber.toUpperCase();</span><br><span class=\"line\">  <span class=\"comment\">//身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X。</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!(<span class=\"regexp\">/(^\\d&#123;15&#125;$)|(^\\d&#123;17&#125;([0-9]|X)$)/</span>.test(personnumber))) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//校验位按照ISO 7064:1983.MOD 11-2的规定生成，X可以认为是数字10。</span></span><br><span class=\"line\">  <span class=\"comment\">//下面分别分析出生日期和校验位</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> len, re;</span><br><span class=\"line\">  len = personnumber.length;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (len == <span class=\"number\">15</span>) &#123;</span><br><span class=\"line\">    re = <span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"regexp\">/^(\\d&#123;6&#125;)(\\d&#123;2&#125;)(\\d&#123;2&#125;)(\\d&#123;2&#125;)(\\d&#123;3&#125;)$/</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arrSplit = personnumber.match(re);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//检查生日日期是否正确</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> dtmBirth = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"string\">&#x27;19&#x27;</span> + arrSplit[<span class=\"number\">2</span>] + <span class=\"string\">&#x27;/&#x27;</span> + arrSplit[<span class=\"number\">3</span>] + <span class=\"string\">&#x27;/&#x27;</span> + arrSplit[<span class=\"number\">4</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> bGoodDay;</span><br><span class=\"line\">    bGoodDay = (dtmBirth.getYear() == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">2</span>])) &amp;&amp; ((dtmBirth.getMonth() + <span class=\"number\">1</span>) == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">3</span>])) &amp;&amp; (dtmBirth.getDate() == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">4</span>]));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!bGoodDay) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//将15位身份证转成18位</span></span><br><span class=\"line\">      <span class=\"comment\">//校验位按照ISO 7064:1983.MOD 11-2的规定生成，X可以认为是数字10。</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> arrInt = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> arrCh = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;0&#x27;</span>, <span class=\"string\">&#x27;X&#x27;</span>, <span class=\"string\">&#x27;9&#x27;</span>, <span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> nTemp = <span class=\"number\">0</span>,</span><br><span class=\"line\">        i;</span><br><span class=\"line\">      personnumber = personnumber.substr(<span class=\"number\">0</span>, <span class=\"number\">6</span>) + <span class=\"string\">&#x27;19&#x27;</span> + personnumber.substr(<span class=\"number\">6</span>, personnumber.length - <span class=\"number\">6</span>);</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">17</span>; i++) &#123;</span><br><span class=\"line\">        nTemp += personnumber.substr(i, <span class=\"number\">1</span>) * arrInt[i];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      personnumber += arrCh[nTemp % <span class=\"number\">11</span>];</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (len == <span class=\"number\">18</span>) &#123;</span><br><span class=\"line\">    re = <span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"regexp\">/^(\\d&#123;6&#125;)(\\d&#123;4&#125;)(\\d&#123;2&#125;)(\\d&#123;2&#125;)(\\d&#123;3&#125;)([0-9]|X)$/</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arrSplit = personnumber.match(re);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//检查生日日期是否正确</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> dtmBirth = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(arrSplit[<span class=\"number\">2</span>] + <span class=\"string\">&quot;/&quot;</span> + arrSplit[<span class=\"number\">3</span>] + <span class=\"string\">&quot;/&quot;</span> + arrSplit[<span class=\"number\">4</span>]);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> bGoodDay;</span><br><span class=\"line\">    bGoodDay = (dtmBirth.getFullYear() == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">2</span>])) &amp;&amp; ((dtmBirth.getMonth() + <span class=\"number\">1</span>) == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">3</span>])) &amp;&amp; (dtmBirth.getDate() == <span class=\"built_in\">Number</span>(arrSplit[<span class=\"number\">4</span>]));</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!bGoodDay) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//检验18位身份证的校验码是否正确。</span></span><br><span class=\"line\">      <span class=\"comment\">//校验位按照ISO 7064:1983.MOD 11-2的规定生成，X可以认为是数字10。</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> valnum;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> arrInt = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">6</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>, <span class=\"number\">9</span>, <span class=\"number\">10</span>, <span class=\"number\">5</span>, <span class=\"number\">8</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> arrCh = <span class=\"keyword\">new</span> <span class=\"built_in\">Array</span>(<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;0&#x27;</span>, <span class=\"string\">&#x27;X&#x27;</span>, <span class=\"string\">&#x27;9&#x27;</span>, <span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> nTemp = <span class=\"number\">0</span>,</span><br><span class=\"line\">        i;</span><br><span class=\"line\">      <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">17</span>; i++) &#123;</span><br><span class=\"line\">        nTemp += personnumber.substr(i, <span class=\"number\">1</span>) * arrInt[i];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      valnum = arrCh[nTemp % <span class=\"number\">11</span>];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (valnum != personnumber.substr(<span class=\"number\">17</span>, <span class=\"number\">1</span>)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","categories":[{"name":"JavaScript","path":"api/categories/JavaScript.json"}],"tags":[{"name":"JavaScript","path":"api/tags/JavaScript.json"},{"name":"正则表达式","path":"api/tags/正则表达式.json"}]}