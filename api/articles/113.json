{"title":"AJAX 手动取消请求","slug":"113","date":"2020-09-03T15:07:04.000Z","updated":"2022-07-29T04:22:04.795Z","comments":true,"path":"api/articles/113.json","excerpt":" [Figure] ","covers":["https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.8/photo/xl885z.jpg","https://qny.aqingya.cn/img/20200903194108.png","https://qny.aqingya.cn/img/20200903194152.png"],"content":"<p><img src=\"https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.8/photo/xl885z.jpg\"></p>\n<span id=\"more\"></span>\n\n\n\n<p>借助于 xhr 的 about() 方法，这样我们就可以在适当的位置去调用它，来取消请求。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xhr.abort();</span><br></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"https://qny.aqingya.cn/img/20200903194108.png\" alt=\"img\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200903194152.png\" alt=\"img\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//获取元素对象</span><br><span class=\"line\">const btns = document.querySelectorAll(&#x27;button&#x27;);</span><br><span class=\"line\">let xhr = null;</span><br><span class=\"line\">btns[0].onclick = function() &#123;</span><br><span class=\"line\">  xhr = new XMLHttpRequest();</span><br><span class=\"line\">  xhr.open(&quot;GET&quot;, &#x27;http://127.0.0.1:8000/delay&#x27;);</span><br><span class=\"line\">  xhr.send();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// abort</span><br><span class=\"line\">btns[1].onclick = function() &#123;</span><br><span class=\"line\">  xhr.abort();                  // --------------------------------------------</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>对它的封装: <a href=\"https://aqingya.cn/articl/d3ff9b87.html\">—–传送门—–</a></p>\n<p><br><br><br></p>\n","more":"<p>借助于 xhr 的 about() 方法，这样我们就可以在适当的位置去调用它，来取消请求。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xhr.abort();</span><br></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"https://qny.aqingya.cn/img/20200903194108.png\" alt=\"img\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200903194152.png\" alt=\"img\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//获取元素对象</span><br><span class=\"line\">const btns = document.querySelectorAll(&#x27;button&#x27;);</span><br><span class=\"line\">let xhr = null;</span><br><span class=\"line\">btns[0].onclick = function() &#123;</span><br><span class=\"line\">  xhr = new XMLHttpRequest();</span><br><span class=\"line\">  xhr.open(&quot;GET&quot;, &#x27;http://127.0.0.1:8000/delay&#x27;);</span><br><span class=\"line\">  xhr.send();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// abort</span><br><span class=\"line\">btns[1].onclick = function() &#123;</span><br><span class=\"line\">  xhr.abort();                  // --------------------------------------------</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>对它的封装: <a href=\"https://aqingya.cn/articl/d3ff9b87.html\">—–传送门—–</a></p>\n<p><br><br><br></p>","categories":[{"name":"AJAX","path":"api/categories/AJAX.json"}],"tags":[{"name":"AJAX","path":"api/tags/AJAX.json"}]}