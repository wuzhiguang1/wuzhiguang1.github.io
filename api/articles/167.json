{"title":"uni-app 小程序实现下拉刷新","slug":"167","date":"2021-11-13T05:58:12.000Z","updated":"2022-07-29T04:22:04.785Z","comments":true,"path":"api/articles/167.json","excerpt":null,"covers":["https://qny.aqingya.cn/img/20211113135912.png"],"content":"<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p><code>page.json</code> 里面配置该页面<code>enablePullDownRefresh</code> 为<code>true</code>。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20211113135912.png\" alt=\"\"></p>\n<h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><p>页面里面增加<code>onPullDownRefresh</code> 函数，监听该页面用户下拉刷新事件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">onPullDownRefresh() &#123;</span><br><span class=\"line\">      uni.request(&#123;</span><br><span class=\"line\">               url:&#x27;&#x27;</span><br><span class=\"line\">               success: (res) =&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;)</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<div class=\"note red icon-padding modern\"><i class=\"note-icon fas fa-fan\"></i><p>注意记得关闭下拉刷新。<code>uni.stopPullDownRefresh()</code></p>\n</div>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">onPullDownRefresh() &#123;</span><br><span class=\"line\">      uni.request(&#123;</span><br><span class=\"line\">               url:&#x27;&#x27;</span><br><span class=\"line\">               success: (res) =&gt; &#123;</span><br><span class=\"line\">                   uni.stopPullDownRefresh()</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;)</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n","more":"<h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h2><p><code>page.json</code> 里面配置该页面<code>enablePullDownRefresh</code> 为<code>true</code>。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20211113135912.png\" alt=\"\"></p>\n<h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><p>页面里面增加<code>onPullDownRefresh</code> 函数，监听该页面用户下拉刷新事件。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">onPullDownRefresh() &#123;</span><br><span class=\"line\">      uni.request(&#123;</span><br><span class=\"line\">               url:&#x27;&#x27;</span><br><span class=\"line\">               success: (res) =&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;)</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<div class=\"note red icon-padding modern\"><i class=\"note-icon fas fa-fan\"></i><p>注意记得关闭下拉刷新。<code>uni.stopPullDownRefresh()</code></p>\n</div>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">onPullDownRefresh() &#123;</span><br><span class=\"line\">      uni.request(&#123;</span><br><span class=\"line\">               url:&#x27;&#x27;</span><br><span class=\"line\">               success: (res) =&gt; &#123;</span><br><span class=\"line\">                   uni.stopPullDownRefresh()</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;)</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n","categories":[{"name":"uni-app开发","path":"api/categories/uni-app开发.json"}],"tags":[{"name":"uni-app开发","path":"api/tags/uni-app开发.json"}]}