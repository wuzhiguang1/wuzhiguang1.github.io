{"title":"React父子组件之间传值","slug":"249","date":"2022-11-25T07:22:06.000Z","updated":"2022-11-25T07:52:39.598Z","comments":true,"path":"api/articles/249.json","excerpt":null,"covers":null,"content":"<p>父组件给子组件传值</p>\n<p>　　1. class类组件，父组件在子组件上写入属性，子组件通过this.props.属性名获取值<br>　　1. 函数式组件，父组件在子组件上写入属性，子组件需要把props作为组件参数才能使用props</p>\n<p>子组件给父组件传值</p>\n<ol>\n<li>通过传递回调函数的方式，父组件给子组件传一个回调函数(可带参数)，子组件通过this.props.回调函数名，通过调用回调函数，传入参数来传值</li>\n</ol>\n<h3 id=\"一-父组件向子组件传值\"><a href=\"#一-父组件向子组件传值\" class=\"headerlink\" title=\"一.父组件向子组件传值\"></a><strong>一.父组件向子组件传值</strong></h3><p>在父组件中引入子组件，将父组件的<code>state</code>值放到子组件标签中传递，在子组件中用this.props.传值名称，接收</p>\n<h3 id=\"父组件代码：\"><a href=\"#父组件代码：\" class=\"headerlink\" title=\"父组件代码：\"></a>父组件代码：</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Goods <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../Good/Goods&#x27;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>()</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.state = &#123;</span><br><span class=\"line\">      <span class=\"attr\">mess</span>: <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">//初始化mess属性</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;this.state.mess&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            &#123;/* 子组件 */&#125;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">Goods</span> <span class=\"attr\">txt</span>=<span class=\"string\">&#123;this.state.mess&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Goods</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"子组件代码：\"><a href=\"#子组件代码：\" class=\"headerlink\" title=\"子组件代码：\"></a>子组件代码：</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Goods <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../Good/Goods&#x27;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>()</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.state = &#123;</span><br><span class=\"line\">      <span class=\"attr\">mess</span>: <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">//初始化mess属性</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;this.state.mess&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            &#123;/* 子组件 */&#125;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">Goods</span> <span class=\"attr\">txt</span>=<span class=\"string\">&#123;this.state.mess&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Goods</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>还可以设置默认值 首先引入 prop-types 代码如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> PropTypes <span class=\"keyword\">from</span> <span class=\"string\">&#x27;prop-types&#x27;</span></span><br><span class=\"line\">Goods.defaultProps=&#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;title&#x27;</span>:<span class=\"string\">&#x27;Titele&#x27;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Goods是组件名 title是默认值名称 Title是默认值</p>\n<p>也可以校验传值的类型 代码如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> PropTypes <span class=\"keyword\">from</span> <span class=\"string\">&#x27;prop-types&#x27;</span></span><br><span class=\"line\">Goods.propTypes = &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;title&#x27;</span>:PropTypes.string.isRequired</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>PropTypes.string是检查是否为字符串</p>\n<p>其他的是：</p>\n<blockquote>\n<p>检查值是否为数组<br>PropTypes.array<br>检查值是否为布尔类型<br>PropTypes.bool<br>检查值是否为函数<br>PropTypes.func<br>检查值是否为数字<br>PropTypes.number<br>检查值是否为对象<br>PropTypes.object<br>检查值是否为Symbol类型<br>PropTypes.symbol</p>\n</blockquote>\n<h2 id=\"二、子组件传递父组件\"><a href=\"#二、子组件传递父组件\" class=\"headerlink\" title=\"二、子组件传递父组件\"></a>二、子组件传递父组件</h2><p>通过this.props.名称（值）传给父组件，父组件在子组件标签中定义方法接收修改渲染的this.state值；代码如下：</p>\n<h3 id=\"子组件代码：-1\"><a href=\"#子组件代码：-1\" class=\"headerlink\" title=\"子组件代码：\"></a>子组件代码：</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> PropTypes <span class=\"keyword\">from</span> <span class=\"string\">&#x27;prop-types&#x27;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Goods</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">super</span>()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 点击事件触发此方法</span></span><br><span class=\"line\">    zcf=<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.props.fn1(<span class=\"string\">&#x27;传过来了&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (</span><br><span class=\"line\">            <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;this.props.txt&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                &#123;/* 按钮 通过点击事件传值 */&#125;</span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&#x27;button&#x27;</span> <span class=\"attr\">value</span>=<span class=\"string\">&#x27;传&#x27;</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.zcf&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">input</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">        )</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"父组件代码：-1\"><a href=\"#父组件代码：-1\" class=\"headerlink\" title=\"父组件代码：\"></a>父组件代码：</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Goods <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../Good/Goods&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>()</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.state = &#123;</span><br><span class=\"line\">      <span class=\"attr\">mess</span>: <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">//初始化mess属性</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 接收子组件传递的值 修改state状态值</span></span><br><span class=\"line\">  shou = <span class=\"function\">(<span class=\"params\">msg</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">mess</span>: msg&#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;this.state.mess&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            &#123;/* fn1为子组件传过来的值 txt为传给子组件的值 */&#125;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">Goods</span> <span class=\"attr\">fn1</span>=<span class=\"string\">&#123;this.shou&#125;</span> <span class=\"attr\">txt</span>=<span class=\"string\">&#123;this.state.mess&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Goods</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          </span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","more":"<p>父组件给子组件传值</p>\n<p>　　1. class类组件，父组件在子组件上写入属性，子组件通过this.props.属性名获取值<br>　　1. 函数式组件，父组件在子组件上写入属性，子组件需要把props作为组件参数才能使用props</p>\n<p>子组件给父组件传值</p>\n<ol>\n<li>通过传递回调函数的方式，父组件给子组件传一个回调函数(可带参数)，子组件通过this.props.回调函数名，通过调用回调函数，传入参数来传值</li>\n</ol>\n<h3 id=\"一-父组件向子组件传值\"><a href=\"#一-父组件向子组件传值\" class=\"headerlink\" title=\"一.父组件向子组件传值\"></a><strong>一.父组件向子组件传值</strong></h3><p>在父组件中引入子组件，将父组件的<code>state</code>值放到子组件标签中传递，在子组件中用this.props.传值名称，接收</p>\n<h3 id=\"父组件代码：\"><a href=\"#父组件代码：\" class=\"headerlink\" title=\"父组件代码：\"></a>父组件代码：</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Goods <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../Good/Goods&#x27;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>()</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.state = &#123;</span><br><span class=\"line\">      <span class=\"attr\">mess</span>: <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">//初始化mess属性</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;this.state.mess&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            &#123;/* 子组件 */&#125;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">Goods</span> <span class=\"attr\">txt</span>=<span class=\"string\">&#123;this.state.mess&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Goods</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"子组件代码：\"><a href=\"#子组件代码：\" class=\"headerlink\" title=\"子组件代码：\"></a>子组件代码：</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> Goods <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../Good/Goods&#x27;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>()</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.state = &#123;</span><br><span class=\"line\">      <span class=\"attr\">mess</span>: <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">//初始化mess属性</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;this.state.mess&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            &#123;/* 子组件 */&#125;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">Goods</span> <span class=\"attr\">txt</span>=<span class=\"string\">&#123;this.state.mess&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Goods</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>还可以设置默认值 首先引入 prop-types 代码如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> PropTypes <span class=\"keyword\">from</span> <span class=\"string\">&#x27;prop-types&#x27;</span></span><br><span class=\"line\">Goods.defaultProps=&#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;title&#x27;</span>:<span class=\"string\">&#x27;Titele&#x27;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>Goods是组件名 title是默认值名称 Title是默认值</p>\n<p>也可以校验传值的类型 代码如下：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> PropTypes <span class=\"keyword\">from</span> <span class=\"string\">&#x27;prop-types&#x27;</span></span><br><span class=\"line\">Goods.propTypes = &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;title&#x27;</span>:PropTypes.string.isRequired</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>PropTypes.string是检查是否为字符串</p>\n<p>其他的是：</p>\n<blockquote>\n<p>检查值是否为数组<br>PropTypes.array<br>检查值是否为布尔类型<br>PropTypes.bool<br>检查值是否为函数<br>PropTypes.func<br>检查值是否为数字<br>PropTypes.number<br>检查值是否为对象<br>PropTypes.object<br>检查值是否为Symbol类型<br>PropTypes.symbol</p>\n</blockquote>\n<h2 id=\"二、子组件传递父组件\"><a href=\"#二、子组件传递父组件\" class=\"headerlink\" title=\"二、子组件传递父组件\"></a>二、子组件传递父组件</h2><p>通过this.props.名称（值）传给父组件，父组件在子组件标签中定义方法接收修改渲染的this.state值；代码如下：</p>\n<h3 id=\"子组件代码：-1\"><a href=\"#子组件代码：-1\" class=\"headerlink\" title=\"子组件代码：\"></a>子组件代码：</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React, &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;react&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> PropTypes <span class=\"keyword\">from</span> <span class=\"string\">&#x27;prop-types&#x27;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Goods</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">super</span>()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 点击事件触发此方法</span></span><br><span class=\"line\">    zcf=<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.props.fn1(<span class=\"string\">&#x27;传过来了&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (</span><br><span class=\"line\">            <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;this.props.txt&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                &#123;/* 按钮 通过点击事件传值 */&#125;</span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&#x27;button&#x27;</span> <span class=\"attr\">value</span>=<span class=\"string\">&#x27;传&#x27;</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.zcf&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">input</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">        )</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"父组件代码：-1\"><a href=\"#父组件代码：-1\" class=\"headerlink\" title=\"父组件代码：\"></a>父组件代码：</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Goods <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../Good/Goods&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">App</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">super</span>()</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.state = &#123;</span><br><span class=\"line\">      <span class=\"attr\">mess</span>: <span class=\"string\">&#x27;123&#x27;</span> <span class=\"comment\">//初始化mess属性</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 接收子组件传递的值 修改state状态值</span></span><br><span class=\"line\">  shou = <span class=\"function\">(<span class=\"params\">msg</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">mess</span>: msg&#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;this.state.mess&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            &#123;/* fn1为子组件传过来的值 txt为传给子组件的值 */&#125;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">Goods</span> <span class=\"attr\">fn1</span>=<span class=\"string\">&#123;this.shou&#125;</span> <span class=\"attr\">txt</span>=<span class=\"string\">&#123;this.state.mess&#125;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Goods</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          </span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n","categories":[{"name":"React","path":"api/categories/React.json"}],"tags":[{"name":"React","path":"api/tags/React.json"}]}