{"title":"前端性能优化之reflow(回流)和repaint(重绘)","slug":"122","date":"2020-09-09T14:42:46.000Z","updated":"2020-09-09T14:57:26.000Z","comments":true,"path":"api/articles/122.json","excerpt":" [Figure] ","covers":["https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.9/photo/IMG_0082.JPG"],"content":"<p><img src=\"https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.9/photo/IMG_0082.JPG\"></p>\n<span id=\"more\"></span>\n\n\n\n<p><strong>简要：</strong>整个在浏览器的渲染过程中（页面初始化，用户行为改变界面样式，动画改变界面样式等）reflow(回流)和repaint(重绘) 会大大影响web性能，尤其是手机页面。因此我们在页面设计的时候要尽量减少reflow和repaint。</p>\n<p><strong>什么是reflow和repaint（原文链接：<a href=\"http://www.cnblogs.com/Peng2014/p/4687218.html%EF%BC%89\">http://www.cnblogs.com/Peng2014/p/4687218.html）</a></strong></p>\n<p>reflow：例如某个子元素样式发生改变，直接影响到了其父元素以及往上追溯很多祖先元素（包括兄弟元素），这个时候浏览器要重新去渲染这个子元素相关联的所有元素的过程称为回流。</p>\n<p>reflow：几乎是无法避免的。现在界面上流行的一些效果，比如树状目录的折叠、展开（实质上是元素的显 示与隐藏）等，都将引起浏览器的 reflow。鼠标滑过、点击……只要这些行为引起了页面上某些元素的占位面积、定位方式、边距等属性的变化，都会引起它内部、周围甚至整个页面的重新渲 染。通常我们都无法预估浏览器到底会 reflow 哪一部分的代码，它们都彼此相互影响着。</p>\n<p>repaint：如果只是改变某个元素的背景色、文 字颜色、边框颜色等等不影响它周围或内部布局的属性，将只会引起浏览器 repaint（重绘）。repaint 的速度明显快于 reflow</p>\n<br>\n\n<p>下面情况会导致reflow发生</p>\n<p><strong>1：改变窗口大小</strong></p>\n<p><strong>2：改变文字大小</strong></p>\n<p><strong>3：内容的改变，如用户在输入框中敲字</strong></p>\n<p><strong>4：激活伪类，如:hover</strong></p>\n<p><strong>5：操作class属性</strong></p>\n<p><strong>6：脚本操作DOM</strong></p>\n<p><strong>7：计算offsetWidth和offsetHeight</strong></p>\n<p><strong>8：设置style属性</strong></p>\n <br>\n\n<p>那么为了减少回流要注意哪些方式呢？</p>\n<p><strong>1：不要通过父级来改变子元素样式，最好直接改变子元素样式，改变子元素样式尽可能不要影响父元素和兄弟元素的大小和尺寸</strong></p>\n<p><strong>2：尽量通过class来设计元素样式，切忌用style</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> bstyle = <span class=\"built_in\">document</span>.body.style; <span class=\"comment\">// cache</span></span><br><span class=\"line\">bstyle.padding = <span class=\"string\">&quot;20px&quot;</span>; <span class=\"comment\">// reflow, repaint</span></span><br><span class=\"line\">bstyle.border = <span class=\"string\">&quot;10px solid red&quot;</span>; <span class=\"comment\">// 再一次的 reflow 和 repaint</span></span><br><span class=\"line\">bstyle.color = <span class=\"string\">&quot;blue&quot;</span>; <span class=\"comment\">// repaint</span></span><br><span class=\"line\">bstyle.backgroundColor = <span class=\"string\">&quot;#fad&quot;</span>; <span class=\"comment\">// repaint</span></span><br><span class=\"line\">bstyle.fontSize = <span class=\"string\">&quot;2em&quot;</span>; <span class=\"comment\">// reflow, repaint</span></span><br><span class=\"line\"><span class=\"comment\">// new DOM element - reflow, repaint</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(<span class=\"built_in\">document</span>.createTextNode(<span class=\"string\">&#x27;dude!&#x27;</span>));</span><br></pre></td></tr></table></figure>\n\n<p>对上面代码优化：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.b-class</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">padding</span>:<span class=\"number\">20px</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">color</span>:blue;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">border</span>:<span class=\"number\">10px</span> solid red;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">background-color</span>:<span class=\"number\">#fad</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">font-size</span>:<span class=\"number\">2em</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$div.addClass(<span class=\"string\">&quot;b-class&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>3：实现元素的动画，对于经常要进行回流的组件，要抽离出来，它的position属性应当设为fixed或absolute</strong></p>\n<p><strong>4：权衡速度的平滑。比如实现一个动画，以1个像素为单位移动这样最平滑，但reflow就会过于频繁，CPU很快就会被完全占用。如果以3个像素为单位移动就会好很多。</strong></p>\n<p><strong>5：不要用tables布局的另一个原因就是tables中某个元素一旦触发reflow就会导致table里所有的其它元素reflow。在适合用table的场合，可以设置table-layout为auto或fixed，</strong></p>\n<p><strong>6：这样可以让table一行一行的渲染，这种做法也是为了限制reflow的影响范围。</strong></p>\n<p><strong>7：css里不要有表达式expression</strong></p>\n<p><strong>8：减少不必要的 DOM 层级（DOM depth）。改变 DOM 树中的一级会导致所有层级的改变，上至根部，下至被改变节点的子节点。这导致大量时间耗费在执行 reflow 上面。</strong></p>\n<p><strong>9：避免不必要的复杂的 CSS 选择器，尤其是后代选择器（descendant selectors），因为为了匹配选择器将耗费更多的 CPU。</strong></p>\n<p><strong>10: 尽量不要过多的频繁的去增加，修改，删除元素，因为这可能会频繁的导致页面reflow，可以先把该dom节点抽离到内存中进行复杂的操作然后再display到页面上。</strong></p>\n<p>在div.first里面加入div.second,在div.second里面加入div.third:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$divS = $(<span class=\"string\">&quot;&lt;div class=&#x27;second&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$(div.first).append($divS));<span class=\"comment\">//reflow</span></span><br><span class=\"line\"></span><br><span class=\"line\">$divT = $(<span class=\"string\">&quot;&lt;div class=&#x27;third&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.append($divT);<span class=\"comment\">//reflow</span></span><br></pre></td></tr></table></figure>\n\n<p>优化代码：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$divS = $(<span class=\"string\">&quot;&lt;div class=&#x27;second&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divT = $(<span class=\"string\">&quot;&lt;div class=&#x27;third&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.append($divT);</span><br><span class=\"line\"></span><br><span class=\"line\">$(div.first).append($divS));<span class=\"comment\">//reflow</span></span><br></pre></td></tr></table></figure>\n\n<p>或者：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> $divF = $(div.first);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS = $(<span class=\"string\">&quot;&lt;div class=&#x27;second&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.hide();</span><br><span class=\"line\"></span><br><span class=\"line\">$(div.first).append($divS));</span><br><span class=\"line\"></span><br><span class=\"line\">$divT = $(<span class=\"string\">&quot;&lt;div class=&#x27;third&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.append($divT);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.show();<span class=\"comment\">//reflow</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>11：请求如下值offsetTop, offsetLeft, offsetWidth, offsetHeight，scrollTop/Left/Width/Height，clientTop/Left/Width/Height，浏览器会发生reflow，建议将他们合并到一起操作，可以减少回流的次数。</strong></p>\n<p>如果我们要经常去获取和操作这些值，则可以先将这些值缓存起来例如：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> windowHeight = <span class=\"built_in\">window</span>.innerHeight;<span class=\"comment\">//reflow</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">10</span>;i++)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">　　$body.height(windowHeight++);</span><br><span class=\"line\"></span><br><span class=\"line\">　　一系列关于windowHeight的操作.......</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br><br> </p>\n<p>参考链接：</p>\n<p><a href=\"http://ued.alimama.com/front-end/quick-tips-among-yahoo-n-rules/\">http://ued.alimama.com/front-end/quick-tips-among-yahoo-n-rules/</a></p>\n<p><a href=\"http://www.cnblogs.com/Peng2014/p/4687218.html\">http://www.cnblogs.com/Peng2014/p/4687218.html</a></p>\n<p><br><br><br></p>\n","more":"<p><strong>简要：</strong>整个在浏览器的渲染过程中（页面初始化，用户行为改变界面样式，动画改变界面样式等）reflow(回流)和repaint(重绘) 会大大影响web性能，尤其是手机页面。因此我们在页面设计的时候要尽量减少reflow和repaint。</p>\n<p><strong>什么是reflow和repaint（原文链接：<a href=\"http://www.cnblogs.com/Peng2014/p/4687218.html%EF%BC%89\">http://www.cnblogs.com/Peng2014/p/4687218.html）</a></strong></p>\n<p>reflow：例如某个子元素样式发生改变，直接影响到了其父元素以及往上追溯很多祖先元素（包括兄弟元素），这个时候浏览器要重新去渲染这个子元素相关联的所有元素的过程称为回流。</p>\n<p>reflow：几乎是无法避免的。现在界面上流行的一些效果，比如树状目录的折叠、展开（实质上是元素的显 示与隐藏）等，都将引起浏览器的 reflow。鼠标滑过、点击……只要这些行为引起了页面上某些元素的占位面积、定位方式、边距等属性的变化，都会引起它内部、周围甚至整个页面的重新渲 染。通常我们都无法预估浏览器到底会 reflow 哪一部分的代码，它们都彼此相互影响着。</p>\n<p>repaint：如果只是改变某个元素的背景色、文 字颜色、边框颜色等等不影响它周围或内部布局的属性，将只会引起浏览器 repaint（重绘）。repaint 的速度明显快于 reflow</p>\n<br>\n\n<p>下面情况会导致reflow发生</p>\n<p><strong>1：改变窗口大小</strong></p>\n<p><strong>2：改变文字大小</strong></p>\n<p><strong>3：内容的改变，如用户在输入框中敲字</strong></p>\n<p><strong>4：激活伪类，如:hover</strong></p>\n<p><strong>5：操作class属性</strong></p>\n<p><strong>6：脚本操作DOM</strong></p>\n<p><strong>7：计算offsetWidth和offsetHeight</strong></p>\n<p><strong>8：设置style属性</strong></p>\n <br>\n\n<p>那么为了减少回流要注意哪些方式呢？</p>\n<p><strong>1：不要通过父级来改变子元素样式，最好直接改变子元素样式，改变子元素样式尽可能不要影响父元素和兄弟元素的大小和尺寸</strong></p>\n<p><strong>2：尽量通过class来设计元素样式，切忌用style</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> bstyle = <span class=\"built_in\">document</span>.body.style; <span class=\"comment\">// cache</span></span><br><span class=\"line\">bstyle.padding = <span class=\"string\">&quot;20px&quot;</span>; <span class=\"comment\">// reflow, repaint</span></span><br><span class=\"line\">bstyle.border = <span class=\"string\">&quot;10px solid red&quot;</span>; <span class=\"comment\">// 再一次的 reflow 和 repaint</span></span><br><span class=\"line\">bstyle.color = <span class=\"string\">&quot;blue&quot;</span>; <span class=\"comment\">// repaint</span></span><br><span class=\"line\">bstyle.backgroundColor = <span class=\"string\">&quot;#fad&quot;</span>; <span class=\"comment\">// repaint</span></span><br><span class=\"line\">bstyle.fontSize = <span class=\"string\">&quot;2em&quot;</span>; <span class=\"comment\">// reflow, repaint</span></span><br><span class=\"line\"><span class=\"comment\">// new DOM element - reflow, repaint</span></span><br><span class=\"line\"><span class=\"built_in\">document</span>.body.appendChild(<span class=\"built_in\">document</span>.createTextNode(<span class=\"string\">&#x27;dude!&#x27;</span>));</span><br></pre></td></tr></table></figure>\n\n<p>对上面代码优化：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.b-class</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">padding</span>:<span class=\"number\">20px</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">color</span>:blue;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">border</span>:<span class=\"number\">10px</span> solid red;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">background-color</span>:<span class=\"number\">#fad</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">　　<span class=\"attribute\">font-size</span>:<span class=\"number\">2em</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$div.addClass(<span class=\"string\">&quot;b-class&quot;</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>3：实现元素的动画，对于经常要进行回流的组件，要抽离出来，它的position属性应当设为fixed或absolute</strong></p>\n<p><strong>4：权衡速度的平滑。比如实现一个动画，以1个像素为单位移动这样最平滑，但reflow就会过于频繁，CPU很快就会被完全占用。如果以3个像素为单位移动就会好很多。</strong></p>\n<p><strong>5：不要用tables布局的另一个原因就是tables中某个元素一旦触发reflow就会导致table里所有的其它元素reflow。在适合用table的场合，可以设置table-layout为auto或fixed，</strong></p>\n<p><strong>6：这样可以让table一行一行的渲染，这种做法也是为了限制reflow的影响范围。</strong></p>\n<p><strong>7：css里不要有表达式expression</strong></p>\n<p><strong>8：减少不必要的 DOM 层级（DOM depth）。改变 DOM 树中的一级会导致所有层级的改变，上至根部，下至被改变节点的子节点。这导致大量时间耗费在执行 reflow 上面。</strong></p>\n<p><strong>9：避免不必要的复杂的 CSS 选择器，尤其是后代选择器（descendant selectors），因为为了匹配选择器将耗费更多的 CPU。</strong></p>\n<p><strong>10: 尽量不要过多的频繁的去增加，修改，删除元素，因为这可能会频繁的导致页面reflow，可以先把该dom节点抽离到内存中进行复杂的操作然后再display到页面上。</strong></p>\n<p>在div.first里面加入div.second,在div.second里面加入div.third:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$divS = $(<span class=\"string\">&quot;&lt;div class=&#x27;second&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$(div.first).append($divS));<span class=\"comment\">//reflow</span></span><br><span class=\"line\"></span><br><span class=\"line\">$divT = $(<span class=\"string\">&quot;&lt;div class=&#x27;third&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.append($divT);<span class=\"comment\">//reflow</span></span><br></pre></td></tr></table></figure>\n\n<p>优化代码：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$divS = $(<span class=\"string\">&quot;&lt;div class=&#x27;second&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divT = $(<span class=\"string\">&quot;&lt;div class=&#x27;third&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.append($divT);</span><br><span class=\"line\"></span><br><span class=\"line\">$(div.first).append($divS));<span class=\"comment\">//reflow</span></span><br></pre></td></tr></table></figure>\n\n<p>或者：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> $divF = $(div.first);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS = $(<span class=\"string\">&quot;&lt;div class=&#x27;second&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.hide();</span><br><span class=\"line\"></span><br><span class=\"line\">$(div.first).append($divS));</span><br><span class=\"line\"></span><br><span class=\"line\">$divT = $(<span class=\"string\">&quot;&lt;div class=&#x27;third&#x27;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.append($divT);</span><br><span class=\"line\"></span><br><span class=\"line\">$divS.show();<span class=\"comment\">//reflow</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>11：请求如下值offsetTop, offsetLeft, offsetWidth, offsetHeight，scrollTop/Left/Width/Height，clientTop/Left/Width/Height，浏览器会发生reflow，建议将他们合并到一起操作，可以减少回流的次数。</strong></p>\n<p>如果我们要经常去获取和操作这些值，则可以先将这些值缓存起来例如：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> windowHeight = <span class=\"built_in\">window</span>.innerHeight;<span class=\"comment\">//reflow</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span>(i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">10</span>;i++)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">　　$body.height(windowHeight++);</span><br><span class=\"line\"></span><br><span class=\"line\">　　一系列关于windowHeight的操作.......</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><br><br> </p>\n<p>参考链接：</p>\n<p><a href=\"http://ued.alimama.com/front-end/quick-tips-among-yahoo-n-rules/\">http://ued.alimama.com/front-end/quick-tips-among-yahoo-n-rules/</a></p>\n<p><a href=\"http://www.cnblogs.com/Peng2014/p/4687218.html\">http://www.cnblogs.com/Peng2014/p/4687218.html</a></p>\n<p><br><br><br></p>","categories":[{"name":"CSS","path":"api/categories/CSS.json"}],"tags":[{"name":"CSS","path":"api/tags/CSS.json"},{"name":"JavaScript","path":"api/tags/JavaScript.json"},{"name":"HTML","path":"api/tags/HTML.json"},{"name":"性能优化","path":"api/tags/性能优化.json"}]}