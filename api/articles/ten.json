{"title":"js中如何获取元素的当前显示样式----简单总结。","slug":"ten","date":"2020-04-23T03:37:19.000Z","updated":"2022-07-29T04:22:04.753Z","comments":true,"path":"api/articles/ten.json","excerpt":" [Figure] ","covers":["https://qny.aqingya.cn/img/08d9ee6fdc474a60ad76867b8785a129.jpg"],"content":"<p><img src=\"https://qny.aqingya.cn/img/08d9ee6fdc474a60ad76867b8785a129.jpg\"></p>\n<span id=\"more\"></span>\n\n<p>有两种方法：<br>第一种：currentStyle<br>&emsp;&emsp;语法：元素.currentStyle.样式名<br>&emsp;&emsp;他可以用来读取当前元素正在显示的样式<br>&emsp;&emsp;如果当前元素没有设置该样式，则获取它的默认值<br>&emsp;&emsp;<strong>currentStyle只有在IE浏览器中支持，其他浏览器都不支持。</strong></p>\n<p>第二种：getComputedStyle()方法<br>&emsp;&emsp;getComputedStyle()这个方法来获取元素当前的样式<br>&emsp;&emsp;&emsp;&emsp;这个方法是window的方法，可以直接使用<br>&emsp;&emsp;需要两个参数<br>&emsp;&emsp;&emsp;&emsp;第一个：要获取样式的元素<br>&emsp;&emsp;&emsp;&emsp;第二个：可以传递一个伪元素，一般都传null<br>&emsp;&emsp;该方法会返回一个对象，对象中封装了当前元素对应的样式<br>&emsp;&emsp;&emsp;&emsp;可以通过  对象.样式名  来读取样式<br>&emsp;&emsp;如果没有设置样式则会获取到真实的值，而不是默认值<br>&emsp;&emsp;比如：没有设置width，它不会获取到auto，而是一个长度<br>&emsp;&emsp;<strong>该方法不支持IE8及以下浏览器</strong></p>\n<br>\n但是我们需要都兼容怎么办？\n那我们就自己写一个方法。\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang=&quot;en&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class=\"line\">    &lt;style&gt;</span><br><span class=\"line\">        .box1 &#123;</span><br><span class=\"line\">            width: 100px;</span><br><span class=\"line\">            height: 100px;</span><br><span class=\"line\">            background-color: #bfa;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/style&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        window.onload = function() &#123;</span><br><span class=\"line\">            var box1 = document.getElementsByClassName(&quot;box1&quot;)[0];</span><br><span class=\"line\">            var btn01 = document.getElementsByClassName(&quot;btn01&quot;)[0];</span><br><span class=\"line\">            btn01.onclick = function() &#123;</span><br><span class=\"line\">                // alert(box1.currentStyle.width);</span><br><span class=\"line\">                // var box = getComputedStyle(box1, null);</span><br><span class=\"line\">                alert(getStyle(box1, &quot;width&quot;));</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        function getStyle(obj, name) &#123;</span><br><span class=\"line\">            if (window.getComputedStyle) &#123;</span><br><span class=\"line\">                return getComputedStyle(obj, null)[name];</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">                return obj.currentStyle.width;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;button class=&quot;btn01&quot;&gt;按钮&lt;/button&gt;</span><br><span class=\"line\">    &lt;div class=&quot;box1&quot;&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p>把方法分离出来：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getStyle</span>(<span class=\"params\">obj, name</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.getComputedStyle) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> getComputedStyle(obj, <span class=\"literal\">null</span>)[name];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> obj.currentStyle.width;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;当调用该方法的时候，它会检查浏览器中是否有getComputedStyle，如果又我们会使用getComputedStyle，否则会使用currentStyle，这样就完美解决了，所有的浏览器都能兼容。<br>&emsp;&emsp;但是我们为什么要在getComputedStyle前加一个window呢？说明一下：</p>\n<ul>\n<li>当不加window时，getComputedStyle 是作为一个变量来判断的，如果没有就会报错，结束下面的程序。</li>\n<li>加上windon时，getComputedStyle是作为一个属性来判断了，如果没有返回underfind。执行else</li>\n</ul>\n<br>\n**注意：通过currentStyle和getComputedStyle()读取到的样式都只是读的,不能修改，如果要修改可以通过修改style属性。**\n<br>\n<br>\n愿你的坚持终有收获。\n","more":"<p>有两种方法：<br>第一种：currentStyle<br>&emsp;&emsp;语法：元素.currentStyle.样式名<br>&emsp;&emsp;他可以用来读取当前元素正在显示的样式<br>&emsp;&emsp;如果当前元素没有设置该样式，则获取它的默认值<br>&emsp;&emsp;<strong>currentStyle只有在IE浏览器中支持，其他浏览器都不支持。</strong></p>\n<p>第二种：getComputedStyle()方法<br>&emsp;&emsp;getComputedStyle()这个方法来获取元素当前的样式<br>&emsp;&emsp;&emsp;&emsp;这个方法是window的方法，可以直接使用<br>&emsp;&emsp;需要两个参数<br>&emsp;&emsp;&emsp;&emsp;第一个：要获取样式的元素<br>&emsp;&emsp;&emsp;&emsp;第二个：可以传递一个伪元素，一般都传null<br>&emsp;&emsp;该方法会返回一个对象，对象中封装了当前元素对应的样式<br>&emsp;&emsp;&emsp;&emsp;可以通过  对象.样式名  来读取样式<br>&emsp;&emsp;如果没有设置样式则会获取到真实的值，而不是默认值<br>&emsp;&emsp;比如：没有设置width，它不会获取到auto，而是一个长度<br>&emsp;&emsp;<strong>该方法不支持IE8及以下浏览器</strong></p>\n<br>\n但是我们需要都兼容怎么办？\n那我们就自己写一个方法。\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!DOCTYPE html&gt;</span><br><span class=\"line\">&lt;html lang=&quot;en&quot;&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class=\"line\">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class=\"line\">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class=\"line\">    &lt;style&gt;</span><br><span class=\"line\">        .box1 &#123;</span><br><span class=\"line\">            width: 100px;</span><br><span class=\"line\">            height: 100px;</span><br><span class=\"line\">            background-color: #bfa;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/style&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        window.onload = function() &#123;</span><br><span class=\"line\">            var box1 = document.getElementsByClassName(&quot;box1&quot;)[0];</span><br><span class=\"line\">            var btn01 = document.getElementsByClassName(&quot;btn01&quot;)[0];</span><br><span class=\"line\">            btn01.onclick = function() &#123;</span><br><span class=\"line\">                // alert(box1.currentStyle.width);</span><br><span class=\"line\">                // var box = getComputedStyle(box1, null);</span><br><span class=\"line\">                alert(getStyle(box1, &quot;width&quot;));</span><br><span class=\"line\">            &#125;;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        function getStyle(obj, name) &#123;</span><br><span class=\"line\">            if (window.getComputedStyle) &#123;</span><br><span class=\"line\">                return getComputedStyle(obj, null)[name];</span><br><span class=\"line\">            &#125; else &#123;</span><br><span class=\"line\">                return obj.currentStyle.width;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &lt;/script&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;button class=&quot;btn01&quot;&gt;按钮&lt;/button&gt;</span><br><span class=\"line\">    &lt;div class=&quot;box1&quot;&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></figure>\n<p>把方法分离出来：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getStyle</span>(<span class=\"params\">obj, name</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.getComputedStyle) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> getComputedStyle(obj, <span class=\"literal\">null</span>)[name];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> obj.currentStyle.width;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;当调用该方法的时候，它会检查浏览器中是否有getComputedStyle，如果又我们会使用getComputedStyle，否则会使用currentStyle，这样就完美解决了，所有的浏览器都能兼容。<br>&emsp;&emsp;但是我们为什么要在getComputedStyle前加一个window呢？说明一下：</p>\n<ul>\n<li>当不加window时，getComputedStyle 是作为一个变量来判断的，如果没有就会报错，结束下面的程序。</li>\n<li>加上windon时，getComputedStyle是作为一个属性来判断了，如果没有返回underfind。执行else</li>\n</ul>\n<br>\n**注意：通过currentStyle和getComputedStyle()读取到的样式都只是读的,不能修改，如果要修改可以通过修改style属性。**\n<br>\n<br>\n愿你的坚持终有收获。","categories":[{"name":"庖丁解牛","path":"api/categories/庖丁解牛.json"}],"tags":[{"name":"JavaScript","path":"api/tags/JavaScript.json"}]}