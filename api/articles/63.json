{"title":"Vue 组件化开发","slug":"63","date":"2020-07-25T03:54:00.000Z","updated":"2022-07-07T07:48:36.894Z","comments":true,"path":"api/articles/63.json","excerpt":" [Figure] ","covers":["https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.9/photo/IMG_0080.JPG","https://qny.aqingya.cn/img/20200723223308.png","https://qny.aqingya.cn/img/20200723223650.png","https://qny.aqingya.cn/img/20200723224146.png","https://qny.aqingya.cn/img/20200723231402.png","https://qny.aqingya.cn/img/20200724085811.png","https://qny.aqingya.cn/img/20200724085923.png","https://qny.aqingya.cn/img/20200724090451.png","https://qny.aqingya.cn/img/20200724090540.png","https://qny.aqingya.cn/img/20200724094533.png","https://qny.aqingya.cn/img/20200724094616.png","https://qny.aqingya.cn/img/20200724101434.png","https://qny.aqingya.cn/img/20200724102245.png","https://qny.aqingya.cn/img/20200724104532.png","https://qny.aqingya.cn/img/20200724120625.png","https://qny.aqingya.cn/img/20200724131939.png","https://qny.aqingya.cn/img/20200724150643.png","https://qny.aqingya.cn/img/20200724154316.png","https://qny.aqingya.cn/img/20200724193729.png","https://qny.aqingya.cn/img/image-20200724162547495.png","https://qny.aqingya.cn/img/20200724211957.png","https://qny.aqingya.cn/img/20200724214048.png","https://qny.aqingya.cn/img/20200724215252.png","https://qny.aqingya.cn/img/20200724221522.png","https://qny.aqingya.cn/img/20200725110000.png","https://qny.aqingya.cn/img/20200725105226.png","https://qny.aqingya.cn/img/20200725111506.png","https://qny.aqingya.cn/img/20200725110424.png","https://qny.aqingya.cn/img/20200725112240.png","https://qny.aqingya.cn/img/20200725115122.png","https://qny.aqingya.cn/img/20200725162922.png","https://qny.aqingya.cn/img/20200725165210.png","https://qny.aqingya.cn/img/20200725174213.png","https://qny.aqingya.cn/img/20200725182236.png","https://qny.aqingya.cn/img/ssss.png"],"content":"<p><img src=\"https://cdn.jsdelivr.net/gh/wuzhiguang1/bolgfile@1.9/photo/IMG_0080.JPG\"></p>\n<span id=\"more\"></span>\n\n\n\n<h1 id=\"认识组件化\"><a href=\"#认识组件化\" class=\"headerlink\" title=\"认识组件化\"></a>认识组件化</h1><h2 id=\"什么是组件化？\"><a href=\"#什么是组件化？\" class=\"headerlink\" title=\"什么是组件化？\"></a><strong>什么是组件化？</strong></h2><p>如果我们将一个页面中所有的处理逻辑全部放在一起，处理起来就会变得非常复杂，而且不利于后续的管理以及扩展。</p>\n<p>但如果，我们讲一个页面拆分成一个个小的功能块，每个功能块完成属于自己这部分独立的功能，那么之后整个页面的管理和维护就变得非常容易了。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200723223308.png\"></p>\n<p>我们将一个完整的页面分成很多个组件。</p>\n<p>每个组件都用于实现页面的一个功能块。</p>\n<p>而每一个组件又可以进行细分。</p>\n<h2 id=\"Vue-组件化思想\"><a href=\"#Vue-组件化思想\" class=\"headerlink\" title=\"Vue 组件化思想\"></a>Vue 组件化思想</h2><p>组件化是Vue.js中的重要思想</p>\n<ul>\n<li><p><strong>它提供了一种抽象，让我们可以开发出一个个独立可复用的小组件来构造我们的应用。</strong></p>\n</li>\n<li><p><strong>任何的应用都会被抽象成一颗组件树。</strong></p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/20200723223650.png\"></p>\n<p>组件化思想的应用：</p>\n<ul>\n<li><p>有了组件化的思想，我们在之后的开发中就要充分的利用它。</p>\n</li>\n<li><p>尽可能的将页面拆分成一个个小的、可复用的组件。</p>\n</li>\n<li><p>这样让我们的代码更加方便组织和管理，并且扩展性也更强</p>\n</li>\n</ul>\n<h1 id=\"注册组件\"><a href=\"#注册组件\" class=\"headerlink\" title=\"注册组件\"></a>注册组件</h1><h2 id=\"注册组件的基本步骤\"><a href=\"#注册组件的基本步骤\" class=\"headerlink\" title=\"注册组件的基本步骤\"></a>注册组件的基本步骤</h2><p><strong>组件的使用分成三个步骤</strong>：</p>\n<ol>\n<li>创建组件构造器</li>\n<li>注册组件</li>\n<li>使用组件。</li>\n</ol>\n<p><img src=\"https://qny.aqingya.cn/img/20200723224146.png\"></p>\n<p>我们来看一个例子：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200723231402.png\"></p>\n<h2 id=\"注册组件步骤解析\"><a href=\"#注册组件步骤解析\" class=\"headerlink\" title=\"注册组件步骤解析\"></a>注册组件步骤解析</h2><p>1、Vue.extend()：</p>\n<p>&emsp;&emsp; 调用<code>Vue.extend()</code>创建的是一个组件构造器。 </p>\n<p>&emsp;&emsp;通常在创建组件构造器时，<strong>传入<code>template</code>代表我们自定义组件的模板。</strong></p>\n<p>&emsp;&emsp;该模板就是在使用到组件的地方，要显示的HTML代码。</p>\n<p>&emsp;&emsp;事实上，这种写法在Vue2.x的文档中几乎已经看不到了，它会直接使用下面我们会讲到的语法糖，但是语法糖它的原理还是这样的。</p>\n<p>2.Vue.component()：</p>\n<p>&emsp;&emsp;调用<code> Vue.component()</code>是将刚才的组件构造器注册为一个组件，并且给它起一个组件的标签名称。</p>\n<p>&emsp;&emsp;所以需要传递<strong>两个参数</strong>：1、<strong>注册组件的标签名</strong> 2、<strong>组件构造器</strong>。</p>\n<p>3.组件必须挂载在某个Vue实例下，否则它不会生效。</p>\n<h1 id=\"全局组件与局部组件\"><a href=\"#全局组件与局部组件\" class=\"headerlink\" title=\"全局组件与局部组件\"></a>全局组件与局部组件</h1><p>注册全局组件之后，其他的vue实例都能使用它。<strong>实际开发中大多数就有一个vue实例</strong></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724085811.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724085923.png\"></p>\n<br>\n\n<p>注册局部组件：在该vue实例中注册。则就只能在该实例中使用，其他实例中就渲染不出来。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724090451.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724090540.png\"></p>\n<h1 id=\"父组件与子组件\"><a href=\"#父组件与子组件\" class=\"headerlink\" title=\"父组件与子组件\"></a>父组件与子组件</h1><p>子组件就是在<strong>父组件中的组件构造器中注册</strong>，并在父组件中使用。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724094533.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724094616.png\"></p>\n<h1 id=\"注册组件的语法糖\"><a href=\"#注册组件的语法糖\" class=\"headerlink\" title=\"注册组件的语法糖\"></a>注册组件的语法糖</h1><p>Vue为了简化这个过程，提供了注册的语法糖。</p>\n<p><span style=\"color:red\"><strong>主要是省去了调用Vue.extend()的步骤，而是可以直接使用一个对象来代替。</strong></span></p>\n<p><strong>就是将<code>Vue.extend()</code>中的对象拿出来，在注册组件的时候 ，用它来替代。</strong></p>\n<p>1、全局注册中的使用语法糖</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724101434.png\"></p>\n<p>2、局部注册中使用语法糖</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724102245.png\"></p>\n<h2 id=\"模板的分离写法\"><a href=\"#模板的分离写法\" class=\"headerlink\" title=\"模板的分离写法\"></a><strong>模板的分离写法</strong></h2><p>如果我们能将其中的HTML分离出来写，然后挂载到对应的组件上，必然结构会变得非常清晰。</p>\n<p>Vue提供了两种方案来定义HTML模块内容：</p>\n<ul>\n<li><p>使用<code>&lt;script&gt;</code>标签</p>\n</li>\n<li><p>使用<code>&lt;template&gt;</code>标签</p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/20200724104532.png\"></p>\n<h1 id=\"组件数据存放\"><a href=\"#组件数据存放\" class=\"headerlink\" title=\"组件数据存放\"></a>组件数据存放</h1><p>组件自己的数据存放在哪里呢?</p>\n<ul>\n<li><p>组件对象也有一个data属性(也可以有methods等属性，下面我们有用到)</p>\n</li>\n<li><p>只是这个data属性必须是一个函数</p>\n</li>\n<li><p>而且这个函数返回一个对象，对象内部保存着数据</p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/20200724120625.png\"></p>\n<p><strong>为什么data在组件中必须是一个函数呢?</strong></p>\n<p>首先，如果不是一个函数，Vue直接就会报错。</p>\n<p>其次，原因是在于Vue让每个组件对象都返回一个新的对象，因为如果是同一个对象的，组件在多次使用后会相互影响。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724131939.png\"></p>\n<h1 id=\"父子组件通信\"><a href=\"#父子组件通信\" class=\"headerlink\" title=\"父子组件通信\"></a>父子组件通信</h1><p>子组件是不能引用父组件或者Vue实例的数据的。但是，在开发中，往往一些数据确实需要从上层传递到下层：</p>\n<ul>\n<li><p>比如在一个页面中，我们从服务器请求到了很多的数据。</p>\n</li>\n<li><p>其中一部分数据，并非是我们整个页面的大组件来展示的，而是需要下面的子组件进行展示。</p>\n</li>\n<li><p>这个时候，并不会让子组件再次发送一个网络请求，而是直接让<strong>大组件</strong>(父组件将数据传递给**小组件(子组件)**。</p>\n</li>\n</ul>\n<p>如何进行父子组件间的通信呢？Vue官方提到</p>\n<ul>\n<li><p><strong>通过props向子组件传递数据</strong></p>\n</li>\n<li><p><strong>通过事件向父组件发送消息</strong></p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/20200724150643.png\"></p>\n<h2 id=\"父级向子级传递数据\"><a href=\"#父级向子级传递数据\" class=\"headerlink\" title=\"父级向子级传递数据\"></a>父级向子级传递数据</h2><p>在组件中，使用选项props来声明需要从父级接收到的数据。</p>\n<p>props的值有两种方式：</p>\n<p><strong>方式一：字符串数组，数组中的字符串就是传递时的名称。</strong> <strong>(在实际开发中，一般都会使用对象来传递)</strong></p>\n<p><strong>方式二：对象，对象可以设置传递时的类型，也可以设置默认值等。</strong></p>\n<p>我们先来看方式一：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724154316.png\"></p>\n<br>\n\n<p><span style=\"color:red\"><strong>当需要对props进行类型等验证时，就需要对象写法了</strong>。</span></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724193729.png\"></p>\n<br>\n\n<p>我们说过，除了数组之外，我们也可以使用对象，<span style=\"background-color:yellow\">当需要对<strong>props</strong>进行类型等验证时，就需要对象写法了。</span></p>\n<p>验证都支持哪些数据类型呢？</p>\n<ul>\n<li><p>String</p>\n</li>\n<li><p>Number</p>\n</li>\n<li><p>Boolean</p>\n</li>\n<li><p>Array</p>\n</li>\n<li><p>Object</p>\n</li>\n<li><p>Date</p>\n</li>\n<li><p>Function</p>\n</li>\n<li><p>Symbol</p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/image-20200724162547495.png\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">child-cpn</span> <span class=\"attr\">v-bind:ctitle</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">:cmessage</span>=<span class=\"string\">&quot;message&quot;</span> <span class=\"attr\">:cfruits</span>=<span class=\"string\">&quot;fruits&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">child-cpn</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;ctitle&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;cmessage&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span> &gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in cfruits&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;cperson.firstName&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// 注册组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// Vue.component(&quot;child-cpn&quot;, &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">//   template: &quot;#cpn&quot;,</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">//   props: [&quot;ctitle&quot;]</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// &#125;)</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">title</span>: <span class=\"string\">&quot;阿清&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">message</span>: <span class=\"string\">&quot;kkk&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">fruits</span>: [<span class=\"string\">&quot;香蕉&quot;</span>, <span class=\"string\">&quot;苹果&quot;</span>, <span class=\"string\">&quot;梨&quot;</span>],</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">person</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">firstName</span>: <span class=\"string\">&quot;wu&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">lastName</span>: <span class=\"string\">&quot;zhiguang&quot;</span></span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"string\">&#x27;child-cpn&#x27;</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 基础数据类型检查</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// ctitle: String,</span></span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 带有默认值的</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// ctitle: &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   type: String,</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   default: &quot;wzg&quot;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// &#125;,</span></span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 必填字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">ctitle</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"attr\">type</span>: <span class=\"built_in\">String</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"attr\">required</span>: <span class=\"literal\">true</span></span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 基础数据类型检测</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">cfruits</span>: <span class=\"built_in\">Array</span>,</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 有默认值的检测</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// cfruits: &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   type: Array,</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   default () &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//     return [&#x27;111&#x27;, &#x27;333&#x27;, &#x27;222&#x27;]</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   &#125;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// &#125;,</span></span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 自定义检测</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">cmessage</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"function\"><span class=\"title\">validator</span>(<span class=\"params\">value</span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;kkk&#x27;</span>, <span class=\"string\">&#x27;eee&#x27;</span>].indexOf(value) !== -<span class=\"number\">1</span></span></span><br><span class=\"line\"><span class=\"javascript\">              &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// // 必填</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// cfruits: &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   type: Array,</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   required: true</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// &#125;</span></span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span>html</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<p>再次练习：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ccpn</span> <span class=\"attr\">:ctitle</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">:cfruits</span>=<span class=\"string\">&quot;fruits&quot;</span> <span class=\"attr\">:cinfo</span>=<span class=\"string\">&quot;info&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ccpn</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- &lt;h1&gt;&#123;&#123;person.name&#125;&#125;&lt;/h1&gt; --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;ctitle&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in cfruits&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>&#123;&#123;cinfo.age&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">title</span>: <span class=\"string\">&quot;阿清大大&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">fruits</span>: [<span class=\"string\">&#x27;香蕉&#x27;</span>, <span class=\"string\">&#x27;苹果&#x27;</span>, <span class=\"string\">&#x27;梨&#x27;</span>, <span class=\"string\">&#x27;菠萝&#x27;</span>],</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">info</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">name</span>: <span class=\"string\">&quot;wzg&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">age</span>: <span class=\"number\">19</span></span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">ccpn</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">ctitle</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">type</span>: <span class=\"built_in\">String</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">default</span>: <span class=\"string\">&quot;柯南&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// required: true</span></span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">cfruits</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">type</span>: <span class=\"built_in\">Array</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">default</span> () &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;5&#x27;</span>]</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">cinfo</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">type</span>: <span class=\"built_in\">Object</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">default</span> () &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"keyword\">return</span> &#123;&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">  &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"子级向父级传递数据\"><a href=\"#子级向父级传递数据\" class=\"headerlink\" title=\"子级向父级传递数据\"></a>子级向父级传递数据</h2><p>当子组件需要向父组件传递数据时，就要用到自定义事件了。我们之前学习的v-on不仅仅可以用于监听DOM事件，也可以用于组件间的自定义事件。</p>\n<p>自定义事件的流程：</p>\n<ul>\n<li><p>在子组件中，通过<code>$emit()</code>来触发事件。</p>\n</li>\n<li><p>在父组件中，通过v-on来监听子组件事件。</p>\n</li>\n</ul>\n<p>我们来看一个简单里例子：</p>\n<p>在真实的项目开发中，我们可能需要子组件向父组价中传递数据，如</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724211957.png\"></p>\n<p>当我们点击手机数码的时候，会向父组件中传递数据，说明我点击的是手机数码，然后父组件才能去发送请求，来请求数据。<span style=\"background-color:yellow\">在第二步中，<code> &lt;cpn @item-click=&quot;cpnClick&quot;&gt;&lt;/cpn&gt;</code> cpnClick 可以不用传参数，不加括号的情况下，使用默认的参数，也就是我们想要传的那个参数<code>item</code>。因为自定义的响应事件<strong>不和</strong>浏览器中的click等事件一样，有默认的参数event，自定义事件的默认参数就是我们要传的参数。</span></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724214048.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724215252.png\"></p>\n<p>案例二：</p>\n<p>我们之前做过一个两个按钮+1和-1，点击后修改counter。</p>\n<p>我们整个操作的过程还是在子组件中完成，但是之后的展示交给父组件。</p>\n<p>这样，我们就需要将子组件中的counter，传给父组件的某个属性，比如total。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724221522.png\"></p>\n<p>案例源码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span> @<span class=\"attr\">addclick</span>=<span class=\"string\">&quot;counterclick&quot;</span> @<span class=\"attr\">lessclick</span>=<span class=\"string\">&quot;counterclick&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>当前数：&#123;&#123;tot&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpnC&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;add&quot;</span>&gt;</span>+<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;less&quot;</span>&gt;</span>-<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">tot</span>: <span class=\"number\">0</span></span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"function\"><span class=\"title\">counterclick</span>(<span class=\"params\">counter</span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">this</span>.tot = counter</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"string\">&quot;cpn&quot;</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpnC&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"attr\">counter</span>: <span class=\"number\">0</span></span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"function\"><span class=\"title\">add</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"built_in\">this</span>.counter++;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"built_in\">this</span>.$emit(<span class=\"string\">&quot;addclick&quot;</span>, <span class=\"built_in\">this</span>.counter)</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"function\"><span class=\"title\">less</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"built_in\">this</span>.counter--;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"built_in\">this</span>.$emit(<span class=\"string\">&quot;lessclick&quot;</span>, <span class=\"built_in\">this</span>.counter)</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n<h1 id=\"父子组件的访问\"><a href=\"#父子组件的访问\" class=\"headerlink\" title=\"父子组件的访问\"></a>父子组件的访问</h1><p>有时候我们需要父组件直接访问子组件，子组件直接访问父组件，或者是子组件访问跟组件。</p>\n<p><span style=\"color:red\"><strong>父组件访问子组件：使用$children或$refs reference(引用)。</strong></span></p>\n<p><strong><span style=\"color:red\">子组件访问父组件：使用$parent。</span></strong></p>\n<h2 id=\"children（开发中较少使用）\"><a href=\"#children（开发中较少使用）\" class=\"headerlink\" title=\"$children（开发中较少使用）\"></a>$children（开发中较少使用）</h2><p><strong><code>this.$children</code>是一个<span style=\"color:red\">数组类型</span>，它包含所有子组件对象。</strong></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725110000.png\"></p>\n<p>我们这里通过<strong>父组件</strong>中的两个按钮，分别取出对应<strong>子组件</strong>中的数据。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725105226.png\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn1</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;btnclick1&quot;</span>&gt;</span>点击1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;btnclick2&quot;</span>&gt;</span>点击2<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpnC&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>我是子组件 1<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpnCo&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>我是子组件 2<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    Vue.component(<span class=\"string\">&quot;cpn1&quot;</span>, &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpnC&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">name</span>: <span class=\"string\">&quot;柯南&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"function\"><span class=\"title\">showname</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;我是子组件1中的name&quot;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">    Vue.component(<span class=\"string\">&quot;cpn2&quot;</span>, &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpnCo&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">name</span>: <span class=\"string\">&quot;新一&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"function\"><span class=\"title\">showname</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;我是子组件2中的name&quot;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">message</span>: <span class=\"string\">&#x27;aqing&#x27;</span></span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"function\"><span class=\"title\">btnclick1</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$children[<span class=\"number\">0</span>].name);</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">this</span>.$children[<span class=\"number\">0</span>].showname();</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"function\"><span class=\"title\">btnclick2</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$children[<span class=\"number\">1</span>].name);</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">this</span>.$children[<span class=\"number\">1</span>].showname();</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"refs（开发中较多使用）\"><a href=\"#refs（开发中较多使用）\" class=\"headerlink\" title=\"$refs（开发中较多使用）\"></a><strong>$refs（开发中较多使用）</strong></h2><p><code>$children</code>的缺陷：</p>\n<p>通过$children访问子组件时，是一个数组类型，访问其中的子组件必须通过索引值。</p>\n<p>但是当子组件过多，我们需要拿到其中一个时，往往不能确定它的索引值，甚至还可能会发生变化。</p>\n<p>有时候，我们想明确获取其中一个特定的组件，这个时候就可以使用$refs</p>\n<p><strong><code>this.$refs</code>是一个<span style=\"color:red\">对象类型</span>，它包含所有子组件对象。</strong></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725111506.png\"></p>\n<p><code>$refs</code>的使用：</p>\n<p>$refs和ref指令通常是一起使用的。</p>\n<p>首先，我们通过ref给某一个子组件绑定一个特定的ID。</p>\n<p>其次，通过this.$refs.ID就可以访问到该组件了。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725110424.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725112240.png\"></p>\n<h2 id=\"parent-（开发中使用较少）\"><a href=\"#parent-（开发中使用较少）\" class=\"headerlink\" title=\"$parent （开发中使用较少）\"></a><strong>$parent</strong> （开发中使用较少）</h2><p>如果我们想在子组件中直接访问父组件，可以通过$parent</p>\n<p><strong>注意事项：</strong></p>\n<p>尽管在Vue开发中，我们允许通过$parent来访问父组件，但是在真实开发中尽量不要这样做。</p>\n<p>子组件应该尽量避免直接访问父组件的数据，因为这样<strong>耦合度太高</strong>了。</p>\n<p>如果我们将子组件放在另外一个组件之内，很可能该父组件没有对应的属性，往往会引起问题。</p>\n<p>另外，更不好做的是通过$parent直接修改父组件的状态，那么父组件中的状态将变得飘忽不定，很不利于我的调试和维护。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725115122.png\"></p>\n<h1 id=\"插槽-slot\"><a href=\"#插槽-slot\" class=\"headerlink\" title=\"插槽 slot\"></a>插槽 slot</h1><h2 id=\"为什么使用插槽slot\"><a href=\"#为什么使用插槽slot\" class=\"headerlink\" title=\"为什么使用插槽slot\"></a>为什么使用插槽slot</h2><p>组件的插槽：</p>\n<p><strong>组件的插槽也是为了让我们封装的组件更加具有扩展性。</strong></p>\n<p><strong>让使用者可以决定组件内部的一些内容到底展示什么。</strong></p>\n<p>比如：移动网站中的导航栏。</p>\n<p>移动开发中，几乎每个页面都有导航栏。</p>\n<p>导航栏我们必然会封装成一个插件，比如nav-bar组件。</p>\n<p>一旦有了这个组件，我们就可以在多个页面中复用了。</p>\n<p>但是，每个页面的导航是一样的吗？No，我以京东M站为例</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725162922.png\"></p>\n<h2 id=\"如何封装这类组件呢？slot\"><a href=\"#如何封装这类组件呢？slot\" class=\"headerlink\" title=\"如何封装这类组件呢？slot\"></a>如何封装这类组件呢？slot</h2><p>如何封装这类的组件？</p>\n<p>&emsp;&emsp;它们有很多区别，也有很多的共性。</p>\n<p>&emsp;&emsp;如果，我们每单独封装一个组件，显然不合适，比如每个页面都有返回，这部分我们就要去重复去封装。</p>\n<p>&emsp;&emsp;但是，如果我们封装成一个好像也不合理，有些左侧是菜单，有些是返回，有些中间是搜索，有些是文字，等等。</p>\n<p>如何封装合适呢？<span style=\"color:red\"><strong>抽取共性，保留不同。</strong></span></p>\n<p>&emsp;&emsp;最好的封装方式就是将共性抽取到组件中，将不同暴露为插槽。</p>\n<p>&emsp;&emsp;一旦我们预留了插槽，就可以让使用者根据自己的需求，决定插槽中插入什么内容。</p>\n<p>&emsp;&emsp;是搜索框，还是文字，还是菜单。由调用者自己来决定。</p>\n<p>这就是为什么我们要学习组件中的插槽slot的原因</p>\n<h2 id=\"slot-的简单使用\"><a href=\"#slot-的简单使用\" class=\"headerlink\" title=\"slot  的简单使用\"></a>slot  的简单使用</h2><p>在子组件中，使用特殊的元素<code>&lt;slot&gt;</code>就可以为子组件开启一个插槽。</p>\n<p>该插槽插入什么内容取决于父组件如何使用。</p>\n<br>\n\n\n\n<p>有了这个插槽后，父组件如何使用呢？</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725165210.png\"></p>\n<p><span style=\"color:red\"><code> &lt;slot&gt;</code>中的内容表示，如果没有在该组件中插入任何其他内容，就默认显示该内容</span></p>\n<p><span style=\"color:red\"><strong>插槽slot 可以有默认值，也可以没有默认值。</strong></span></p>\n<p><span style=\"color:red\"><strong>在自定义标签中写插入的内容。</strong></span></p>\n<p><span style=\"color:red\"><strong>插入的内容可以是多个值，同时放入到组件中进行替换，则一起替换默认值。</strong></span></p>\n<h2 id=\"具名插槽\"><a href=\"#具名插槽\" class=\"headerlink\" title=\"具名插槽\"></a>具名插槽</h2><p>当子组件的功能复杂时，子组件的插槽可能并非是一个。</p>\n<p>比如我们封装一个导航栏的子组件，可能就需要三个插槽，分别代表左边、中间、右边。</p>\n<p>那么，外面在给插槽插入内容时，如何区分插入的是哪一个呢？</p>\n<p>这个时候，我们就需要给插槽起一个名字</p>\n<p>如何使用具名插槽呢？</p>\n<p>非常简单，只要给slot元素一个name属性即可<code>&lt;slot name=&#39;myslot&#39;&gt;&lt;/slot&gt;</code></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725174213.png\"></p>\n<h2 id=\"编译作用域\"><a href=\"#编译作用域\" class=\"headerlink\" title=\"编译作用域\"></a><strong>编译作用域</strong></h2><p>什么是编译作用域？</p>\n<p>我们自己来通过一个例子来理解这个概念：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725182236.png\"></p>\n<p>这是为什么呐？</p>\n<p>官方给出了一条准则：<span style=\"color:red\"><strong>父组件模板的所有东西都会在父级作用域内编译；子组件模板的所有东西都会在子级作用域内编译</strong></span></p>\n<p>而我们在父组件中使用<code>&lt;cpn v-show=&quot;isShow&quot;&gt;&lt;/cpn&gt;</code>的时候，整个组件的使用过程是相当于在父组件中出现的。</p>\n<p>那么他的作用域就是父组件，使用的属性也是属于父组件的属性。</p>\n<p><strong>因此，父组件中的 isShow使用的是Vue实例中的属性，而不是子组件的属性。子组件中的isShow使用的是子组件中定义的属性。</strong></p>\n<p>总结一句话：<span style=\"color:red\"><strong>在哪儿使用，在哪儿找变量</strong></span></p>\n<h2 id=\"作用域插槽\"><a href=\"#作用域插槽\" class=\"headerlink\" title=\"作用域插槽\"></a>作用域插槽</h2><p>什么是作用域插槽呐？</p>\n<p>我们先记住一句话：<span style=\"color:red\"><strong>父组件替换插槽的标签，但是内容由子组件来提供。</strong></span></p>\n<br>\n\n<p>我们先看一个案例：</p>\n<p>1.子组件中包括一组数据，比如：fruits: [‘苹果’, ‘香蕉’, ‘菠萝’, ‘西瓜’, ‘榴莲’]</p>\n<p>2.需要在多个界面进行展示：</p>\n<p>&emsp;&emsp;某些界面是以水平方向一一展示的，</p>\n<p>&emsp;&emsp;某些界面是以列表形式展示的，</p>\n<p>&emsp;&emsp;某些界面使用符号将它们连接起来，比如：”苹果 - 香蕉 - 菠萝 - 西瓜 - 榴莲”</p>\n<p>我就要思考 数据在子组件中，但是展示方式是由我们父组件来决定的。</p>\n<p><img src=\"https://qny.aqingya.cn/img/ssss.png\"></p>\n<p>第一步：<strong>我们需要通过<code> &lt;slot :data =&quot;fruits&quot;&gt;&lt;/slot&gt;</code>来将子组件中定义的数据绑定到slot上</strong>。</p>\n<p>第二步：<strong>在父组件中使用子组件的时候，定义一个模板 <code>&lt;template&gt;</code>（也可以是<code>&lt;div&gt;</code>），并定义<code>slot-scope=&quot;slot&quot;</code>属性通过slot来引入我们第一步定义的插槽对象。</strong></p>\n<p>第三步：<strong>我们此时得到数据<code>slot.data</code>就是子组件中的fruits数据，得到数据<code>slot.data</code>之后，父组件就可以使用自己的展示方式来渲染这些数据。</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;slot.data.join(&quot; — &quot;)&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>注意：</strong></p>\n<p>1.（<code>slot-scope=&quot;slot&quot;</code>是自己命名的，比如可以<code>slot-scope=&quot;slotProps&quot;</code>）这第三步的<code>slot.data</code>就改为<code>slotProps.data</code>。</p>\n<p>2.得到数据<code>slot.data</code>(data是自己定义的名字)之后。</p>\n<p>3.在父组件中使用子组件的时候，定义的模板 <code>&lt;template&gt;</code>也可以是<code>&lt;div&gt;</code></p>\n<br>\n\n<p>到现在我们再来理解一下：<span style=\"color:red\"><strong>父组件替换插槽的标签，但是内容由子组件来提供。</strong></span>是不是就清楚了作用域插槽的作用。</p>\n<br>\n\n\n\n<p>案例源码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&quot;slotProps&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;slotProps.data.join(&quot; - &quot;)&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&quot;slotProps&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;slotProps.data.join(&quot; * &quot;)&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&quot;slotProps&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in slotProps.data&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpnC&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">:data</span> =<span class=\"string\">&quot;fruits&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">data</span>: &#123;&#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">cpn</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpnC&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"attr\">fruits</span>: [<span class=\"string\">&#x27;苹果&#x27;</span>, <span class=\"string\">&#x27;香蕉&#x27;</span>, <span class=\"string\">&#x27;菠萝&#x27;</span>, <span class=\"string\">&#x27;西瓜&#x27;</span>, <span class=\"string\">&#x27;榴莲&#x27;</span>]</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n","more":"<h1 id=\"认识组件化\"><a href=\"#认识组件化\" class=\"headerlink\" title=\"认识组件化\"></a>认识组件化</h1><h2 id=\"什么是组件化？\"><a href=\"#什么是组件化？\" class=\"headerlink\" title=\"什么是组件化？\"></a><strong>什么是组件化？</strong></h2><p>如果我们将一个页面中所有的处理逻辑全部放在一起，处理起来就会变得非常复杂，而且不利于后续的管理以及扩展。</p>\n<p>但如果，我们讲一个页面拆分成一个个小的功能块，每个功能块完成属于自己这部分独立的功能，那么之后整个页面的管理和维护就变得非常容易了。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200723223308.png\"></p>\n<p>我们将一个完整的页面分成很多个组件。</p>\n<p>每个组件都用于实现页面的一个功能块。</p>\n<p>而每一个组件又可以进行细分。</p>\n<h2 id=\"Vue-组件化思想\"><a href=\"#Vue-组件化思想\" class=\"headerlink\" title=\"Vue 组件化思想\"></a>Vue 组件化思想</h2><p>组件化是Vue.js中的重要思想</p>\n<ul>\n<li><p><strong>它提供了一种抽象，让我们可以开发出一个个独立可复用的小组件来构造我们的应用。</strong></p>\n</li>\n<li><p><strong>任何的应用都会被抽象成一颗组件树。</strong></p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/20200723223650.png\"></p>\n<p>组件化思想的应用：</p>\n<ul>\n<li><p>有了组件化的思想，我们在之后的开发中就要充分的利用它。</p>\n</li>\n<li><p>尽可能的将页面拆分成一个个小的、可复用的组件。</p>\n</li>\n<li><p>这样让我们的代码更加方便组织和管理，并且扩展性也更强</p>\n</li>\n</ul>\n<h1 id=\"注册组件\"><a href=\"#注册组件\" class=\"headerlink\" title=\"注册组件\"></a>注册组件</h1><h2 id=\"注册组件的基本步骤\"><a href=\"#注册组件的基本步骤\" class=\"headerlink\" title=\"注册组件的基本步骤\"></a>注册组件的基本步骤</h2><p><strong>组件的使用分成三个步骤</strong>：</p>\n<ol>\n<li>创建组件构造器</li>\n<li>注册组件</li>\n<li>使用组件。</li>\n</ol>\n<p><img src=\"https://qny.aqingya.cn/img/20200723224146.png\"></p>\n<p>我们来看一个例子：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200723231402.png\"></p>\n<h2 id=\"注册组件步骤解析\"><a href=\"#注册组件步骤解析\" class=\"headerlink\" title=\"注册组件步骤解析\"></a>注册组件步骤解析</h2><p>1、Vue.extend()：</p>\n<p>&emsp;&emsp; 调用<code>Vue.extend()</code>创建的是一个组件构造器。 </p>\n<p>&emsp;&emsp;通常在创建组件构造器时，<strong>传入<code>template</code>代表我们自定义组件的模板。</strong></p>\n<p>&emsp;&emsp;该模板就是在使用到组件的地方，要显示的HTML代码。</p>\n<p>&emsp;&emsp;事实上，这种写法在Vue2.x的文档中几乎已经看不到了，它会直接使用下面我们会讲到的语法糖，但是语法糖它的原理还是这样的。</p>\n<p>2.Vue.component()：</p>\n<p>&emsp;&emsp;调用<code> Vue.component()</code>是将刚才的组件构造器注册为一个组件，并且给它起一个组件的标签名称。</p>\n<p>&emsp;&emsp;所以需要传递<strong>两个参数</strong>：1、<strong>注册组件的标签名</strong> 2、<strong>组件构造器</strong>。</p>\n<p>3.组件必须挂载在某个Vue实例下，否则它不会生效。</p>\n<h1 id=\"全局组件与局部组件\"><a href=\"#全局组件与局部组件\" class=\"headerlink\" title=\"全局组件与局部组件\"></a>全局组件与局部组件</h1><p>注册全局组件之后，其他的vue实例都能使用它。<strong>实际开发中大多数就有一个vue实例</strong></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724085811.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724085923.png\"></p>\n<br>\n\n<p>注册局部组件：在该vue实例中注册。则就只能在该实例中使用，其他实例中就渲染不出来。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724090451.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724090540.png\"></p>\n<h1 id=\"父组件与子组件\"><a href=\"#父组件与子组件\" class=\"headerlink\" title=\"父组件与子组件\"></a>父组件与子组件</h1><p>子组件就是在<strong>父组件中的组件构造器中注册</strong>，并在父组件中使用。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724094533.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724094616.png\"></p>\n<h1 id=\"注册组件的语法糖\"><a href=\"#注册组件的语法糖\" class=\"headerlink\" title=\"注册组件的语法糖\"></a>注册组件的语法糖</h1><p>Vue为了简化这个过程，提供了注册的语法糖。</p>\n<p><span style=\"color:red\"><strong>主要是省去了调用Vue.extend()的步骤，而是可以直接使用一个对象来代替。</strong></span></p>\n<p><strong>就是将<code>Vue.extend()</code>中的对象拿出来，在注册组件的时候 ，用它来替代。</strong></p>\n<p>1、全局注册中的使用语法糖</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724101434.png\"></p>\n<p>2、局部注册中使用语法糖</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724102245.png\"></p>\n<h2 id=\"模板的分离写法\"><a href=\"#模板的分离写法\" class=\"headerlink\" title=\"模板的分离写法\"></a><strong>模板的分离写法</strong></h2><p>如果我们能将其中的HTML分离出来写，然后挂载到对应的组件上，必然结构会变得非常清晰。</p>\n<p>Vue提供了两种方案来定义HTML模块内容：</p>\n<ul>\n<li><p>使用<code>&lt;script&gt;</code>标签</p>\n</li>\n<li><p>使用<code>&lt;template&gt;</code>标签</p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/20200724104532.png\"></p>\n<h1 id=\"组件数据存放\"><a href=\"#组件数据存放\" class=\"headerlink\" title=\"组件数据存放\"></a>组件数据存放</h1><p>组件自己的数据存放在哪里呢?</p>\n<ul>\n<li><p>组件对象也有一个data属性(也可以有methods等属性，下面我们有用到)</p>\n</li>\n<li><p>只是这个data属性必须是一个函数</p>\n</li>\n<li><p>而且这个函数返回一个对象，对象内部保存着数据</p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/20200724120625.png\"></p>\n<p><strong>为什么data在组件中必须是一个函数呢?</strong></p>\n<p>首先，如果不是一个函数，Vue直接就会报错。</p>\n<p>其次，原因是在于Vue让每个组件对象都返回一个新的对象，因为如果是同一个对象的，组件在多次使用后会相互影响。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724131939.png\"></p>\n<h1 id=\"父子组件通信\"><a href=\"#父子组件通信\" class=\"headerlink\" title=\"父子组件通信\"></a>父子组件通信</h1><p>子组件是不能引用父组件或者Vue实例的数据的。但是，在开发中，往往一些数据确实需要从上层传递到下层：</p>\n<ul>\n<li><p>比如在一个页面中，我们从服务器请求到了很多的数据。</p>\n</li>\n<li><p>其中一部分数据，并非是我们整个页面的大组件来展示的，而是需要下面的子组件进行展示。</p>\n</li>\n<li><p>这个时候，并不会让子组件再次发送一个网络请求，而是直接让<strong>大组件</strong>(父组件将数据传递给**小组件(子组件)**。</p>\n</li>\n</ul>\n<p>如何进行父子组件间的通信呢？Vue官方提到</p>\n<ul>\n<li><p><strong>通过props向子组件传递数据</strong></p>\n</li>\n<li><p><strong>通过事件向父组件发送消息</strong></p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/20200724150643.png\"></p>\n<h2 id=\"父级向子级传递数据\"><a href=\"#父级向子级传递数据\" class=\"headerlink\" title=\"父级向子级传递数据\"></a>父级向子级传递数据</h2><p>在组件中，使用选项props来声明需要从父级接收到的数据。</p>\n<p>props的值有两种方式：</p>\n<p><strong>方式一：字符串数组，数组中的字符串就是传递时的名称。</strong> <strong>(在实际开发中，一般都会使用对象来传递)</strong></p>\n<p><strong>方式二：对象，对象可以设置传递时的类型，也可以设置默认值等。</strong></p>\n<p>我们先来看方式一：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724154316.png\"></p>\n<br>\n\n<p><span style=\"color:red\"><strong>当需要对props进行类型等验证时，就需要对象写法了</strong>。</span></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724193729.png\"></p>\n<br>\n\n<p>我们说过，除了数组之外，我们也可以使用对象，<span style=\"background-color:yellow\">当需要对<strong>props</strong>进行类型等验证时，就需要对象写法了。</span></p>\n<p>验证都支持哪些数据类型呢？</p>\n<ul>\n<li><p>String</p>\n</li>\n<li><p>Number</p>\n</li>\n<li><p>Boolean</p>\n</li>\n<li><p>Array</p>\n</li>\n<li><p>Object</p>\n</li>\n<li><p>Date</p>\n</li>\n<li><p>Function</p>\n</li>\n<li><p>Symbol</p>\n</li>\n</ul>\n<p><img src=\"https://qny.aqingya.cn/img/image-20200724162547495.png\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">child-cpn</span> <span class=\"attr\">v-bind:ctitle</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">:cmessage</span>=<span class=\"string\">&quot;message&quot;</span> <span class=\"attr\">:cfruits</span>=<span class=\"string\">&quot;fruits&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">child-cpn</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;ctitle&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;cmessage&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span> &gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in cfruits&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;cperson.firstName&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// 注册组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// Vue.component(&quot;child-cpn&quot;, &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">//   template: &quot;#cpn&quot;,</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">//   props: [&quot;ctitle&quot;]</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// &#125;)</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">title</span>: <span class=\"string\">&quot;阿清&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">message</span>: <span class=\"string\">&quot;kkk&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">fruits</span>: [<span class=\"string\">&quot;香蕉&quot;</span>, <span class=\"string\">&quot;苹果&quot;</span>, <span class=\"string\">&quot;梨&quot;</span>],</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">person</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">firstName</span>: <span class=\"string\">&quot;wu&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">lastName</span>: <span class=\"string\">&quot;zhiguang&quot;</span></span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"string\">&#x27;child-cpn&#x27;</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 基础数据类型检查</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// ctitle: String,</span></span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 带有默认值的</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// ctitle: &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   type: String,</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   default: &quot;wzg&quot;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// &#125;,</span></span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 必填字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">ctitle</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"attr\">type</span>: <span class=\"built_in\">String</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"attr\">required</span>: <span class=\"literal\">true</span></span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 基础数据类型检测</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">cfruits</span>: <span class=\"built_in\">Array</span>,</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 有默认值的检测</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// cfruits: &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   type: Array,</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   default () &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//     return [&#x27;111&#x27;, &#x27;333&#x27;, &#x27;222&#x27;]</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   &#125;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// &#125;,</span></span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// 自定义检测</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">cmessage</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"function\"><span class=\"title\">validator</span>(<span class=\"params\">value</span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">                <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;kkk&#x27;</span>, <span class=\"string\">&#x27;eee&#x27;</span>].indexOf(value) !== -<span class=\"number\">1</span></span></span><br><span class=\"line\"><span class=\"javascript\">              &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// // 必填</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// cfruits: &#123;</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   type: Array,</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">//   required: true</span></span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// &#125;</span></span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span>html</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<p>再次练习：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ccpn</span> <span class=\"attr\">:ctitle</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">:cfruits</span>=<span class=\"string\">&quot;fruits&quot;</span> <span class=\"attr\">:cinfo</span>=<span class=\"string\">&quot;info&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ccpn</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- &lt;h1&gt;&#123;&#123;person.name&#125;&#125;&lt;/h1&gt; --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>&#123;&#123;ctitle&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in cfruits&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>&#123;&#123;cinfo.age&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">title</span>: <span class=\"string\">&quot;阿清大大&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">fruits</span>: [<span class=\"string\">&#x27;香蕉&#x27;</span>, <span class=\"string\">&#x27;苹果&#x27;</span>, <span class=\"string\">&#x27;梨&#x27;</span>, <span class=\"string\">&#x27;菠萝&#x27;</span>],</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">info</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">name</span>: <span class=\"string\">&quot;wzg&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">age</span>: <span class=\"number\">19</span></span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">ccpn</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">props</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">ctitle</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">type</span>: <span class=\"built_in\">String</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">default</span>: <span class=\"string\">&quot;柯南&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"comment\">// required: true</span></span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">cfruits</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">type</span>: <span class=\"built_in\">Array</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">default</span> () &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;5&#x27;</span>]</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">cinfo</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"attr\">type</span>: <span class=\"built_in\">Object</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">default</span> () &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"keyword\">return</span> &#123;&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">  &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"子级向父级传递数据\"><a href=\"#子级向父级传递数据\" class=\"headerlink\" title=\"子级向父级传递数据\"></a>子级向父级传递数据</h2><p>当子组件需要向父组件传递数据时，就要用到自定义事件了。我们之前学习的v-on不仅仅可以用于监听DOM事件，也可以用于组件间的自定义事件。</p>\n<p>自定义事件的流程：</p>\n<ul>\n<li><p>在子组件中，通过<code>$emit()</code>来触发事件。</p>\n</li>\n<li><p>在父组件中，通过v-on来监听子组件事件。</p>\n</li>\n</ul>\n<p>我们来看一个简单里例子：</p>\n<p>在真实的项目开发中，我们可能需要子组件向父组价中传递数据，如</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724211957.png\"></p>\n<p>当我们点击手机数码的时候，会向父组件中传递数据，说明我点击的是手机数码，然后父组件才能去发送请求，来请求数据。<span style=\"background-color:yellow\">在第二步中，<code> &lt;cpn @item-click=&quot;cpnClick&quot;&gt;&lt;/cpn&gt;</code> cpnClick 可以不用传参数，不加括号的情况下，使用默认的参数，也就是我们想要传的那个参数<code>item</code>。因为自定义的响应事件<strong>不和</strong>浏览器中的click等事件一样，有默认的参数event，自定义事件的默认参数就是我们要传的参数。</span></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724214048.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724215252.png\"></p>\n<p>案例二：</p>\n<p>我们之前做过一个两个按钮+1和-1，点击后修改counter。</p>\n<p>我们整个操作的过程还是在子组件中完成，但是之后的展示交给父组件。</p>\n<p>这样，我们就需要将子组件中的counter，传给父组件的某个属性，比如total。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200724221522.png\"></p>\n<p>案例源码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span> @<span class=\"attr\">addclick</span>=<span class=\"string\">&quot;counterclick&quot;</span> @<span class=\"attr\">lessclick</span>=<span class=\"string\">&quot;counterclick&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>当前数：&#123;&#123;tot&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpnC&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;add&quot;</span>&gt;</span>+<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;less&quot;</span>&gt;</span>-<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">tot</span>: <span class=\"number\">0</span></span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"function\"><span class=\"title\">counterclick</span>(<span class=\"params\">counter</span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">this</span>.tot = counter</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"string\">&quot;cpn&quot;</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpnC&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"attr\">counter</span>: <span class=\"number\">0</span></span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"function\"><span class=\"title\">add</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"built_in\">this</span>.counter++;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"built_in\">this</span>.$emit(<span class=\"string\">&quot;addclick&quot;</span>, <span class=\"built_in\">this</span>.counter)</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"function\"><span class=\"title\">less</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"built_in\">this</span>.counter--;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"built_in\">this</span>.$emit(<span class=\"string\">&quot;lessclick&quot;</span>, <span class=\"built_in\">this</span>.counter)</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n<h1 id=\"父子组件的访问\"><a href=\"#父子组件的访问\" class=\"headerlink\" title=\"父子组件的访问\"></a>父子组件的访问</h1><p>有时候我们需要父组件直接访问子组件，子组件直接访问父组件，或者是子组件访问跟组件。</p>\n<p><span style=\"color:red\"><strong>父组件访问子组件：使用$children或$refs reference(引用)。</strong></span></p>\n<p><strong><span style=\"color:red\">子组件访问父组件：使用$parent。</span></strong></p>\n<h2 id=\"children（开发中较少使用）\"><a href=\"#children（开发中较少使用）\" class=\"headerlink\" title=\"$children（开发中较少使用）\"></a>$children（开发中较少使用）</h2><p><strong><code>this.$children</code>是一个<span style=\"color:red\">数组类型</span>，它包含所有子组件对象。</strong></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725110000.png\"></p>\n<p>我们这里通过<strong>父组件</strong>中的两个按钮，分别取出对应<strong>子组件</strong>中的数据。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725105226.png\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn1</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;btnclick1&quot;</span>&gt;</span>点击1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;btnclick2&quot;</span>&gt;</span>点击2<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpnC&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>我是子组件 1<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpnCo&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>我是子组件 2<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    Vue.component(<span class=\"string\">&quot;cpn1&quot;</span>, &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpnC&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">name</span>: <span class=\"string\">&quot;柯南&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"function\"><span class=\"title\">showname</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;我是子组件1中的name&quot;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">    Vue.component(<span class=\"string\">&quot;cpn2&quot;</span>, &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpnCo&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">name</span>: <span class=\"string\">&quot;新一&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"function\"><span class=\"title\">showname</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">&quot;我是子组件2中的name&quot;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">message</span>: <span class=\"string\">&#x27;aqing&#x27;</span></span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"function\"><span class=\"title\">btnclick1</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$children[<span class=\"number\">0</span>].name);</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">this</span>.$children[<span class=\"number\">0</span>].showname();</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"function\"><span class=\"title\">btnclick2</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.$children[<span class=\"number\">1</span>].name);</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"built_in\">this</span>.$children[<span class=\"number\">1</span>].showname();</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"refs（开发中较多使用）\"><a href=\"#refs（开发中较多使用）\" class=\"headerlink\" title=\"$refs（开发中较多使用）\"></a><strong>$refs（开发中较多使用）</strong></h2><p><code>$children</code>的缺陷：</p>\n<p>通过$children访问子组件时，是一个数组类型，访问其中的子组件必须通过索引值。</p>\n<p>但是当子组件过多，我们需要拿到其中一个时，往往不能确定它的索引值，甚至还可能会发生变化。</p>\n<p>有时候，我们想明确获取其中一个特定的组件，这个时候就可以使用$refs</p>\n<p><strong><code>this.$refs</code>是一个<span style=\"color:red\">对象类型</span>，它包含所有子组件对象。</strong></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725111506.png\"></p>\n<p><code>$refs</code>的使用：</p>\n<p>$refs和ref指令通常是一起使用的。</p>\n<p>首先，我们通过ref给某一个子组件绑定一个特定的ID。</p>\n<p>其次，通过this.$refs.ID就可以访问到该组件了。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725110424.png\"></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725112240.png\"></p>\n<h2 id=\"parent-（开发中使用较少）\"><a href=\"#parent-（开发中使用较少）\" class=\"headerlink\" title=\"$parent （开发中使用较少）\"></a><strong>$parent</strong> （开发中使用较少）</h2><p>如果我们想在子组件中直接访问父组件，可以通过$parent</p>\n<p><strong>注意事项：</strong></p>\n<p>尽管在Vue开发中，我们允许通过$parent来访问父组件，但是在真实开发中尽量不要这样做。</p>\n<p>子组件应该尽量避免直接访问父组件的数据，因为这样<strong>耦合度太高</strong>了。</p>\n<p>如果我们将子组件放在另外一个组件之内，很可能该父组件没有对应的属性，往往会引起问题。</p>\n<p>另外，更不好做的是通过$parent直接修改父组件的状态，那么父组件中的状态将变得飘忽不定，很不利于我的调试和维护。</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725115122.png\"></p>\n<h1 id=\"插槽-slot\"><a href=\"#插槽-slot\" class=\"headerlink\" title=\"插槽 slot\"></a>插槽 slot</h1><h2 id=\"为什么使用插槽slot\"><a href=\"#为什么使用插槽slot\" class=\"headerlink\" title=\"为什么使用插槽slot\"></a>为什么使用插槽slot</h2><p>组件的插槽：</p>\n<p><strong>组件的插槽也是为了让我们封装的组件更加具有扩展性。</strong></p>\n<p><strong>让使用者可以决定组件内部的一些内容到底展示什么。</strong></p>\n<p>比如：移动网站中的导航栏。</p>\n<p>移动开发中，几乎每个页面都有导航栏。</p>\n<p>导航栏我们必然会封装成一个插件，比如nav-bar组件。</p>\n<p>一旦有了这个组件，我们就可以在多个页面中复用了。</p>\n<p>但是，每个页面的导航是一样的吗？No，我以京东M站为例</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725162922.png\"></p>\n<h2 id=\"如何封装这类组件呢？slot\"><a href=\"#如何封装这类组件呢？slot\" class=\"headerlink\" title=\"如何封装这类组件呢？slot\"></a>如何封装这类组件呢？slot</h2><p>如何封装这类的组件？</p>\n<p>&emsp;&emsp;它们有很多区别，也有很多的共性。</p>\n<p>&emsp;&emsp;如果，我们每单独封装一个组件，显然不合适，比如每个页面都有返回，这部分我们就要去重复去封装。</p>\n<p>&emsp;&emsp;但是，如果我们封装成一个好像也不合理，有些左侧是菜单，有些是返回，有些中间是搜索，有些是文字，等等。</p>\n<p>如何封装合适呢？<span style=\"color:red\"><strong>抽取共性，保留不同。</strong></span></p>\n<p>&emsp;&emsp;最好的封装方式就是将共性抽取到组件中，将不同暴露为插槽。</p>\n<p>&emsp;&emsp;一旦我们预留了插槽，就可以让使用者根据自己的需求，决定插槽中插入什么内容。</p>\n<p>&emsp;&emsp;是搜索框，还是文字，还是菜单。由调用者自己来决定。</p>\n<p>这就是为什么我们要学习组件中的插槽slot的原因</p>\n<h2 id=\"slot-的简单使用\"><a href=\"#slot-的简单使用\" class=\"headerlink\" title=\"slot  的简单使用\"></a>slot  的简单使用</h2><p>在子组件中，使用特殊的元素<code>&lt;slot&gt;</code>就可以为子组件开启一个插槽。</p>\n<p>该插槽插入什么内容取决于父组件如何使用。</p>\n<br>\n\n\n\n<p>有了这个插槽后，父组件如何使用呢？</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725165210.png\"></p>\n<p><span style=\"color:red\"><code> &lt;slot&gt;</code>中的内容表示，如果没有在该组件中插入任何其他内容，就默认显示该内容</span></p>\n<p><span style=\"color:red\"><strong>插槽slot 可以有默认值，也可以没有默认值。</strong></span></p>\n<p><span style=\"color:red\"><strong>在自定义标签中写插入的内容。</strong></span></p>\n<p><span style=\"color:red\"><strong>插入的内容可以是多个值，同时放入到组件中进行替换，则一起替换默认值。</strong></span></p>\n<h2 id=\"具名插槽\"><a href=\"#具名插槽\" class=\"headerlink\" title=\"具名插槽\"></a>具名插槽</h2><p>当子组件的功能复杂时，子组件的插槽可能并非是一个。</p>\n<p>比如我们封装一个导航栏的子组件，可能就需要三个插槽，分别代表左边、中间、右边。</p>\n<p>那么，外面在给插槽插入内容时，如何区分插入的是哪一个呢？</p>\n<p>这个时候，我们就需要给插槽起一个名字</p>\n<p>如何使用具名插槽呢？</p>\n<p>非常简单，只要给slot元素一个name属性即可<code>&lt;slot name=&#39;myslot&#39;&gt;&lt;/slot&gt;</code></p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725174213.png\"></p>\n<h2 id=\"编译作用域\"><a href=\"#编译作用域\" class=\"headerlink\" title=\"编译作用域\"></a><strong>编译作用域</strong></h2><p>什么是编译作用域？</p>\n<p>我们自己来通过一个例子来理解这个概念：</p>\n<p><img src=\"https://qny.aqingya.cn/img/20200725182236.png\"></p>\n<p>这是为什么呐？</p>\n<p>官方给出了一条准则：<span style=\"color:red\"><strong>父组件模板的所有东西都会在父级作用域内编译；子组件模板的所有东西都会在子级作用域内编译</strong></span></p>\n<p>而我们在父组件中使用<code>&lt;cpn v-show=&quot;isShow&quot;&gt;&lt;/cpn&gt;</code>的时候，整个组件的使用过程是相当于在父组件中出现的。</p>\n<p>那么他的作用域就是父组件，使用的属性也是属于父组件的属性。</p>\n<p><strong>因此，父组件中的 isShow使用的是Vue实例中的属性，而不是子组件的属性。子组件中的isShow使用的是子组件中定义的属性。</strong></p>\n<p>总结一句话：<span style=\"color:red\"><strong>在哪儿使用，在哪儿找变量</strong></span></p>\n<h2 id=\"作用域插槽\"><a href=\"#作用域插槽\" class=\"headerlink\" title=\"作用域插槽\"></a>作用域插槽</h2><p>什么是作用域插槽呐？</p>\n<p>我们先记住一句话：<span style=\"color:red\"><strong>父组件替换插槽的标签，但是内容由子组件来提供。</strong></span></p>\n<br>\n\n<p>我们先看一个案例：</p>\n<p>1.子组件中包括一组数据，比如：fruits: [‘苹果’, ‘香蕉’, ‘菠萝’, ‘西瓜’, ‘榴莲’]</p>\n<p>2.需要在多个界面进行展示：</p>\n<p>&emsp;&emsp;某些界面是以水平方向一一展示的，</p>\n<p>&emsp;&emsp;某些界面是以列表形式展示的，</p>\n<p>&emsp;&emsp;某些界面使用符号将它们连接起来，比如：”苹果 - 香蕉 - 菠萝 - 西瓜 - 榴莲”</p>\n<p>我就要思考 数据在子组件中，但是展示方式是由我们父组件来决定的。</p>\n<p><img src=\"https://qny.aqingya.cn/img/ssss.png\"></p>\n<p>第一步：<strong>我们需要通过<code> &lt;slot :data =&quot;fruits&quot;&gt;&lt;/slot&gt;</code>来将子组件中定义的数据绑定到slot上</strong>。</p>\n<p>第二步：<strong>在父组件中使用子组件的时候，定义一个模板 <code>&lt;template&gt;</code>（也可以是<code>&lt;div&gt;</code>），并定义<code>slot-scope=&quot;slot&quot;</code>属性通过slot来引入我们第一步定义的插槽对象。</strong></p>\n<p>第三步：<strong>我们此时得到数据<code>slot.data</code>就是子组件中的fruits数据，得到数据<code>slot.data</code>之后，父组件就可以使用自己的展示方式来渲染这些数据。</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;slot.data.join(&quot; — &quot;)&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>注意：</strong></p>\n<p>1.（<code>slot-scope=&quot;slot&quot;</code>是自己命名的，比如可以<code>slot-scope=&quot;slotProps&quot;</code>）这第三步的<code>slot.data</code>就改为<code>slotProps.data</code>。</p>\n<p>2.得到数据<code>slot.data</code>(data是自己定义的名字)之后。</p>\n<p>3.在父组件中使用子组件的时候，定义的模板 <code>&lt;template&gt;</code>也可以是<code>&lt;div&gt;</code></p>\n<br>\n\n<p>到现在我们再来理解一下：<span style=\"color:red\"><strong>父组件替换插槽的标签，但是内容由子组件来提供。</strong></span>是不是就清楚了作用域插槽的作用。</p>\n<br>\n\n\n\n<p>案例源码：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&quot;slotProps&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;slotProps.data.join(&quot; - &quot;)&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&quot;slotProps&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;slotProps.data.join(&quot; * &quot;)&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&quot;slotProps&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in slotProps.data&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpnC&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">:data</span> =<span class=\"string\">&quot;fruits&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/vue.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Vue(&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">data</span>: &#123;&#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"attr\">components</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"attr\">cpn</span>: &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"attr\">template</span>: <span class=\"string\">&quot;#cpnC&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">          <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">              <span class=\"attr\">fruits</span>: [<span class=\"string\">&#x27;苹果&#x27;</span>, <span class=\"string\">&#x27;香蕉&#x27;</span>, <span class=\"string\">&#x27;菠萝&#x27;</span>, <span class=\"string\">&#x27;西瓜&#x27;</span>, <span class=\"string\">&#x27;榴莲&#x27;</span>]</span></span><br><span class=\"line\"><span class=\"javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">          &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>","categories":[{"name":"Vue","path":"api/categories/Vue.json"}],"tags":[{"name":"Vue","path":"api/tags/Vue.json"},{"name":"Vue组件化开发","path":"api/tags/Vue组件化开发.json"}]}