{"title":"JavaScript 对call()、apply()、bind()的彻底理解（很好懂）","slug":"37","date":"2020-06-04T02:15:38.000Z","updated":"2022-07-29T04:22:04.781Z","comments":true,"path":"api/articles/37.json","excerpt":" [Figure] ","covers":["https://qny.aqingya.cn/img/16b44df571e443ceb289df69a853ff1c.jpg"],"content":"<p><img src=\"https://qny.aqingya.cn/img/16b44df571e443ceb289df69a853ff1c.jpg\" alt=\"\"></p>\n<span id=\"more\"></span>\n<p>我们想看两个例子：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&quot;阿清&quot;</span>,</span><br><span class=\"line\">          age = <span class=\"number\">18</span>;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&quot;阿广&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">objAge</span>: <span class=\"built_in\">this</span>.age,</span><br><span class=\"line\">          <span class=\"attr\">myFun</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">              <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;年龄是&quot;</span> + <span class=\"built_in\">this</span>.age);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(obj.objAge); <span class=\"comment\">//18</span></span><br><span class=\"line\">      obj.myFun(); <span class=\"comment\">//阿广年龄是undefined</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&quot;小明&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">showname</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">         <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.a);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     showname(); <span class=\"comment\">//小明</span></span><br></pre></td></tr></table></figure>\n<p>由这两个例子可以看出来，第一个<strong>this</strong>指向<strong>obj</strong>，第二个例子<strong>this</strong>指向<strong>window</strong>。 </p>\n<p><br></p>\n<p><span style=\"color:red\">我们要知道 <strong>call()、apply()、bind()</strong> 都是对this的重定向。改变调用函数体内的 <strong>this</strong> 指向。</span></p>\n<p>如下：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&quot;阿清&quot;</span>,</span><br><span class=\"line\">    age = <span class=\"number\">18</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&quot;阿广&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">objAge</span>: <span class=\"built_in\">this</span>.age,</span><br><span class=\"line\">    <span class=\"attr\">myFun</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;年龄是&quot;</span> + <span class=\"built_in\">this</span>.age);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&quot;小明&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"number\">20</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.myFun.call(a); <span class=\"comment\">//小明年龄是20</span></span><br><span class=\"line\">obj.myFun.apply(a); <span class=\"comment\">//小明年龄是20</span></span><br><span class=\"line\">obj.myFun.bind(a)(); <span class=\"comment\">//小明年龄是20</span></span><br></pre></td></tr></table></figure>\n<p><strong>this 都指向的 a ，除了bind方法后面多了一个（），其他都一样，因为bind返回是一个新的函数，我们必须调用它，才会执行。</strong></p>\n<p><br></p>\n<p> <strong>call()、apply()、bind()</strong> 也可以进行传参：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&quot;阿清&quot;</span>,</span><br><span class=\"line\">            age = <span class=\"number\">18</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">            <span class=\"attr\">name</span>: <span class=\"string\">&quot;阿广&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">objAge</span>: <span class=\"built_in\">this</span>.age,</span><br><span class=\"line\">            <span class=\"attr\">myFun</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"><span class=\"keyword\">from</span>, place</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;年龄是&quot;</span> + <span class=\"built_in\">this</span>.age + <span class=\"string\">&quot; ,他的家乡是：&quot;</span> + <span class=\"keyword\">from</span> + place + <span class=\"string\">&quot;区&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">            <span class=\"attr\">name</span>: <span class=\"string\">&quot;小明&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">age</span>: <span class=\"number\">20</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        obj.myFun.call(a, <span class=\"string\">&quot;开封市&quot;</span>, <span class=\"string\">&quot;祥符&quot;</span>); <span class=\"comment\">//小明年龄是20 ,他的家乡是：开封市祥符区</span></span><br><span class=\"line\">        obj.myFun.apply(a, [<span class=\"string\">&quot;开封市&quot;</span>, <span class=\"string\">&quot;祥符&quot;</span>]); <span class=\"comment\">//小明年龄是20 ,他的家乡是：开封市祥符区</span></span><br><span class=\"line\">        obj.myFun.bind(a, <span class=\"string\">&quot;开封市&quot;</span>, <span class=\"string\">&quot;祥符&quot;</span>)(); <span class=\"comment\">//小明年龄是20 ,他的家乡是：开封市祥符区</span></span><br><span class=\"line\">        obj.myFun.bind(a, [<span class=\"string\">&quot;开封市&quot;</span>, <span class=\"string\">&quot;祥符&quot;</span>])(); <span class=\"comment\">//小明年龄是20 ,他的家乡是：开封市,祥符undefined区</span></span><br></pre></td></tr></table></figure>\n<p>我们可以看出</p>\n<p><span style=\"color:red\"></p>\n<ul>\n<li><strong>call 、bind 、 apply</strong> 这三个函数的第一个参数都是 this 的指向对象，第二个参数就有区别了。</li>\n<li><strong>call</strong>的参数是直接放进去的，第二第三第n个参数全都用逗号分隔，直接放到后面。</li>\n<li><strong>apply</strong>的参数必须放到一个数组里面才能传进去。</li>\n<li><strong>bind</strong> 除了返回是一个函数之外，其他都是<strong>call</strong> 相同。</li>\n<li>参数可以为String类型，函数类型，Object类型等等各种类型。</li>\n</ul>\n<p>&lt;/span&gt;</p>\n<hr>\n<p><br><br><br><br>愿你的坚持终有收获。<br><br><br><br></p>\n","more":"<p>我们想看两个例子：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&quot;阿清&quot;</span>,</span><br><span class=\"line\">          age = <span class=\"number\">18</span>;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&quot;阿广&quot;</span>,</span><br><span class=\"line\">          <span class=\"attr\">objAge</span>: <span class=\"built_in\">this</span>.age,</span><br><span class=\"line\">          <span class=\"attr\">myFun</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">              <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;年龄是&quot;</span> + <span class=\"built_in\">this</span>.age);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(obj.objAge); <span class=\"comment\">//18</span></span><br><span class=\"line\">      obj.myFun(); <span class=\"comment\">//阿广年龄是undefined</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&quot;小明&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">showname</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">         <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.a);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     showname(); <span class=\"comment\">//小明</span></span><br></pre></td></tr></table></figure>\n<p>由这两个例子可以看出来，第一个<strong>this</strong>指向<strong>obj</strong>，第二个例子<strong>this</strong>指向<strong>window</strong>。 </p>\n<p><br></p>\n<p><span style=\"color:red\">我们要知道 <strong>call()、apply()、bind()</strong> 都是对this的重定向。改变调用函数体内的 <strong>this</strong> 指向。</span></p>\n<p>如下：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&quot;阿清&quot;</span>,</span><br><span class=\"line\">    age = <span class=\"number\">18</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&quot;阿广&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">objAge</span>: <span class=\"built_in\">this</span>.age,</span><br><span class=\"line\">    <span class=\"attr\">myFun</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;年龄是&quot;</span> + <span class=\"built_in\">this</span>.age);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&quot;小明&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"number\">20</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.myFun.call(a); <span class=\"comment\">//小明年龄是20</span></span><br><span class=\"line\">obj.myFun.apply(a); <span class=\"comment\">//小明年龄是20</span></span><br><span class=\"line\">obj.myFun.bind(a)(); <span class=\"comment\">//小明年龄是20</span></span><br></pre></td></tr></table></figure>\n<p><strong>this 都指向的 a ，除了bind方法后面多了一个（），其他都一样，因为bind返回是一个新的函数，我们必须调用它，才会执行。</strong></p>\n<p><br></p>\n<p> <strong>call()、apply()、bind()</strong> 也可以进行传参：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&quot;阿清&quot;</span>,</span><br><span class=\"line\">            age = <span class=\"number\">18</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">            <span class=\"attr\">name</span>: <span class=\"string\">&quot;阿广&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">objAge</span>: <span class=\"built_in\">this</span>.age,</span><br><span class=\"line\">            <span class=\"attr\">myFun</span>: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"><span class=\"keyword\">from</span>, place</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>.name + <span class=\"string\">&quot;年龄是&quot;</span> + <span class=\"built_in\">this</span>.age + <span class=\"string\">&quot; ,他的家乡是：&quot;</span> + <span class=\"keyword\">from</span> + place + <span class=\"string\">&quot;区&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> a = &#123;</span><br><span class=\"line\">            <span class=\"attr\">name</span>: <span class=\"string\">&quot;小明&quot;</span>,</span><br><span class=\"line\">            <span class=\"attr\">age</span>: <span class=\"number\">20</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        obj.myFun.call(a, <span class=\"string\">&quot;开封市&quot;</span>, <span class=\"string\">&quot;祥符&quot;</span>); <span class=\"comment\">//小明年龄是20 ,他的家乡是：开封市祥符区</span></span><br><span class=\"line\">        obj.myFun.apply(a, [<span class=\"string\">&quot;开封市&quot;</span>, <span class=\"string\">&quot;祥符&quot;</span>]); <span class=\"comment\">//小明年龄是20 ,他的家乡是：开封市祥符区</span></span><br><span class=\"line\">        obj.myFun.bind(a, <span class=\"string\">&quot;开封市&quot;</span>, <span class=\"string\">&quot;祥符&quot;</span>)(); <span class=\"comment\">//小明年龄是20 ,他的家乡是：开封市祥符区</span></span><br><span class=\"line\">        obj.myFun.bind(a, [<span class=\"string\">&quot;开封市&quot;</span>, <span class=\"string\">&quot;祥符&quot;</span>])(); <span class=\"comment\">//小明年龄是20 ,他的家乡是：开封市,祥符undefined区</span></span><br></pre></td></tr></table></figure>\n<p>我们可以看出</p>\n<p><span style=\"color:red\"></p>\n<ul>\n<li><strong>call 、bind 、 apply</strong> 这三个函数的第一个参数都是 this 的指向对象，第二个参数就有区别了。</li>\n<li><strong>call</strong>的参数是直接放进去的，第二第三第n个参数全都用逗号分隔，直接放到后面。</li>\n<li><strong>apply</strong>的参数必须放到一个数组里面才能传进去。</li>\n<li><strong>bind</strong> 除了返回是一个函数之外，其他都是<strong>call</strong> 相同。</li>\n<li>参数可以为String类型，函数类型，Object类型等等各种类型。</li>\n</ul>\n<p>&lt;/span&gt;</p>\n<hr>\n<p><br><br><br><br>愿你的坚持终有收获。<br><br><br><br></p>","categories":[{"name":"JavaScript","path":"api/categories/JavaScript.json"}],"tags":[{"name":"JavaScript","path":"api/tags/JavaScript.json"},{"name":"性能优化","path":"api/tags/性能优化.json"}]}