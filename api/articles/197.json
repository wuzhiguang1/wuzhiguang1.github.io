{"title":"React简单总结","slug":"197","date":"2022-03-03T01:52:53.000Z","updated":"2023-03-15T05:59:41.395Z","comments":true,"path":"api/articles/197.json","excerpt":null,"covers":["https://qny.aqingya.cn/img/20221021090306.png","https://qny.aqingya.cn/img/component.gif","https://qny.aqingya.cn/img/20221114171433.png","https://qny.aqingya.cn/img/20221114171726.png","https://qny.aqingya.cn/img/20221124101248.png"],"content":"<h1 id=\"第一章：React入门\"><a href=\"#第一章：React入门\" class=\"headerlink\" title=\"第一章：React入门\"></a>第一章：React入门</h1><h2 id=\"React简介\"><a href=\"#React简介\" class=\"headerlink\" title=\"React简介\"></a>React简介</h2><h3 id=\"官网\"><a href=\"#官网\" class=\"headerlink\" title=\"官网\"></a>官网</h3><p>中文官网: <a href=\"https://react.docschina.org/\">https://react.docschina.org/</a></p>\n<p>英文官网:<a href=\"https://reactjs.org/\"> https://reactjs.org/</a></p>\n<h3 id=\"介绍描述\"><a href=\"#介绍描述\" class=\"headerlink\" title=\"介绍描述\"></a>介绍描述</h3><p>用于动态构建用户界面的 JavaScript 库（只关注于视图）</p>\n<p>由Facebook开源</p>\n<h3 id=\"React特点\"><a href=\"#React特点\" class=\"headerlink\" title=\"React特点\"></a>React特点</h3><ol>\n<li><p>声明式编码</p>\n</li>\n<li><p>组件化编码</p>\n</li>\n<li><p>React Native 编写原生应用</p>\n</li>\n<li><p>高效（优秀的Diffing算法）</p>\n</li>\n</ol>\n<h3 id=\"React高效的原因\"><a href=\"#React高效的原因\" class=\"headerlink\" title=\"React高效的原因\"></a>React高效的原因</h3><ol>\n<li><p>使用虚拟(virtual)DOM, 不总是直接操作页面真实DOM。</p>\n</li>\n<li><p>DOM Diffing算法, 最小化页面重绘。</p>\n</li>\n</ol>\n<h2 id=\"React的基本使用\"><a href=\"#React的基本使用\" class=\"headerlink\" title=\"React的基本使用\"></a>React的基本使用</h2><p>相关js库</p>\n<ol>\n<li><p>react.js：React核心库。</p>\n</li>\n<li><p>react-dom.js：提供操作DOM的react扩展库。</p>\n</li>\n<li><p>babel.min.js：解析JSX语法代码转为JS代码的库</p>\n</li>\n</ol>\n<p>创建虚拟dom的两种方式</p>\n<p>1.纯js方式（一般不使用）</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>2_使用js创建虚拟DOM<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> &gt;</span><span class=\"javascript\"> </span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建虚拟DOM</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> VDOM = React.createElement(<span class=\"string\">&#x27;h1&#x27;</span>,&#123;<span class=\"attr\">id</span>:<span class=\"string\">&#x27;title&#x27;</span>&#125;,React.createElement(<span class=\"string\">&#x27;span&#x27;</span>,&#123;&#125;,<span class=\"string\">&#x27;Hello,React&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染虚拟DOM到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(VDOM,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>2.jsx方式</p>\n<p><code>&lt;script type=&quot;text/babel&quot; &gt; /* 此处一定要写babel */</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_使用jsx创建虚拟DOM<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span> &gt;</span><span class=\"javascript\"> <span class=\"comment\">/* 此处一定要写babel */</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建虚拟DOM</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> VDOM = (  <span class=\"comment\">/* 此处一定不要写引号，因为不是字符串 */</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;title&quot;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>Hello,React<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染虚拟DOM到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(VDOM,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"React-JSX\"><a href=\"#React-JSX\" class=\"headerlink\" title=\"React JSX\"></a>React JSX</h2><blockquote>\n<p> <em>jsx语法规则：</em></p>\n<p>​            <em>1.定义虚拟DOM时，不要写引号。</em></p>\n<p>​            <em>2.标签中混入JS表达式时要用{}。</em></p>\n<p>​            <em>3.样式的类名指定不要用class，要用className。</em></p>\n<p>​            <em>4.内联样式，要用<code>style=&#123;&#123;key:value&#125;&#125;</code>的形式去写。</em></p>\n<p>​            <em>5.只有一个根标签</em></p>\n<p>​            <em>6.标签必须闭合</em></p>\n<p>​            <em>7.标签首字母</em></p>\n<p>​                <em>(1).若小写字母开头，则将该标签转为html中同名元素，若html中无该标签对应的同名元素，则报错。</em></p>\n<p>​                (2).若大写字母开头，react就去渲染对应的组件，若组件没有定义，则报错。</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>jsx语法规则<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span></span><br><span class=\"line\"><span class=\"css\">\t\t<span class=\"selector-class\">.title</span>&#123;</span></span><br><span class=\"line\"><span class=\"css\">\t\t\t<span class=\"attribute\">background-color</span>: orange;</span></span><br><span class=\"line\"><span class=\"css\">\t\t\t<span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"css\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"css\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span> &gt;</span><span class=\"handlebars\"><span class=\"xml\"></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\tconst myId = &#x27;aTgUiGu&#x27;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\tconst myData = &#x27;HeLlo,rEaCt&#x27;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\"></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t//1.创建虚拟DOM</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\tconst VDOM = (</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&#123;myId.toLowerCase()&#125;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=</span></span><span class=\"template-variable\">&#123;&#123;<span class=\"name\">color:</span><span class=\"string\">&#x27;white&#x27;</span>,fontSize:<span class=\"string\">&#x27;29px&#x27;</span>&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&gt;</span>&#123;myData.toLowerCase()&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&#123;myId.toUpperCase()&#125;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=</span></span><span class=\"template-variable\">&#123;&#123;<span class=\"name\">color:</span><span class=\"string\">&#x27;white&#x27;</span>,fontSize:<span class=\"string\">&#x27;29px&#x27;</span>&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&gt;</span>&#123;myData.toLowerCase()&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t)</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t//2.渲染虚拟DOM到页面</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\tReactDOM.render(VDOM,document.getElementById(&#x27;test&#x27;))</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\"></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t/* </span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\tjsx语法规则：</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t1.定义虚拟DOM时，不要写引号。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t2.标签中混入JS表达式时要用&#123;&#125;。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t3.样式的类名指定不要用class，要用className。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t4.内联样式，要用style=</span><span class=\"template-variable\">&#123;&#123;<span class=\"name\">key:value</span>&#125;&#125;</span><span class=\"xml\">的形式去写。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t5.只有一个根标签</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t6.标签必须闭合</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t7.标签首字母</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t\t\t(1).若小写字母开头，则将该标签转为html中同名元素，若html中无该标签对应的同名元素，则报错。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t\t\t(2).若大写字母开头，react就去渲染对应的组件，若组件没有定义，则报错。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\"></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t */</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t</span></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件\"><a href=\"#组件\" class=\"headerlink\" title=\"组件\"></a>组件</h2><h3 id=\"函数式组件\"><a href=\"#函数式组件\" class=\"headerlink\" title=\"函数式组件\"></a>函数式组件</h3><ol>\n<li><p>组件名必须首字母大写</p>\n</li>\n<li><p>虚拟DOM元素只能有一个根元素</p>\n</li>\n<li><p>虚拟DOM元素必须有结束标签</p>\n</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_函数式组件<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建函数式组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyComponent</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>); <span class=\"comment\">//此处的this是undefined，因为babel编译后开启了严格模式</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>我是用函数定义的组件(适用于【简单组件】的定义)<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">MyComponent</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t执行了ReactDOM.render(&lt;MyComponent/&gt;.......之后，发生了什么？</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t1.React解析组件标签，找到了MyComponent组件。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t2.发现组件是使用函数定义的，随后调用该函数，将返回的虚拟DOM转为真实DOM，随后呈现在页面中。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t*/</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>执行了ReactDOM.render(<code>&lt;MyComponent/&gt;</code>…….之后，发生了什么？<br>            1.React解析组件标签，找到了MyComponent组件。<br>            2.发现组件是使用函数定义的，随后调用该函数，将返回的虚拟DOM转为真实DOM，随后呈现在页面中。</p>\n<h3 id=\"类式组件\"><a href=\"#类式组件\" class=\"headerlink\" title=\"类式组件\"></a>类式组件</h3><p>类的基本知识复习：</p>\n<p>1.类中的构造器不是必须要写的，要对实例进行一些初始化的操作，如添加指定属性时才写。</p>\n<p>2.如果A类继承了B类，且A类中写了构造器，那么A类构造器中的super是必须要调用的。</p>\n<p>3.类中所定义的方法，都放在了类的原型对象上，供实例去使用。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_类的基本知识<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> &gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t总结：</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t1.类中的构造器不是必须要写的，要对实例进行一些初始化的操作，如添加指定属性时才写。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t2.如果A类继承了B类，且A类中写了构造器，那么A类构造器中的super是必须要调用的。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t3.类中所定义的方法，都放在了类的原型对象上，供实例去使用。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t*/</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建一个Person类</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//构造器方法</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name,age</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//构造器中的this是谁？—— 类的实例对象</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.name = name</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.age = age</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//一般方法</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">speak</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//speak方法放在了哪里？——类的原型对象上，供实例使用</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//通过Person实例调用speak时，speak中的this就是Person实例</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">`我叫<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.name&#125;</span>，我年龄是<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.age&#125;</span>`</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建一个Student类，继承于Person类</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Student</span> <span class=\"keyword\">extends</span> <span class=\"title\">Person</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name,age,grade</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">super</span>(name,age)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.grade = grade</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.school = <span class=\"string\">&#x27;尚硅谷&#x27;</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//重写从父类继承过来的方法</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">speak</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">`我叫<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.name&#125;</span>，我年龄是<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.age&#125;</span>,我读的是<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.grade&#125;</span>年级`</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.study()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">study</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//study方法放在了哪里？——类的原型对象上，供实例使用</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//通过Student实例调用study时，study中的this就是Student实例</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;我很努力的学习&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name,price</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.name = name</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.price = price</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// this.wheel = 4</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//类中可以直接写赋值语句,如下代码的含义是：给Car的实例对象添加一个属性，名为a，值为1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\ta = <span class=\"number\">1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\twheel = <span class=\"number\">4</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">static</span> demo = <span class=\"number\">100</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> c1 = <span class=\"keyword\">new</span> Car(<span class=\"string\">&#x27;奔驰c63&#x27;</span>,<span class=\"number\">199</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"built_in\">console</span>.log(c1);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"built_in\">console</span>.log(Car.demo);</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>类式组件：</p>\n<blockquote>\n<p>执行了ReactDOM.render(<code>&lt;MyComponent/&gt;</code>…….之后，发生了什么？<br>        1.React解析组件标签，找到了MyComponent组件。<br>        2.发现组件是使用类定义的，随后new出来该类的实例，并通过该实例调用到原型上的render方法。<br>        3.将render返回的虚拟DOM转为真实DOM，随后呈现在页面中。</p>\n</blockquote>\n<p><code>render中的this是谁？—— MyComponent的实例对象 &lt;=&gt; MyComponent组件实例对象</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>2_类式组件<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建类式组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyComponent</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//render是放在哪里的？—— MyComponent的原型对象上，供实例使用。</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//render中的this是谁？—— MyComponent的实例对象 &lt;=&gt; MyComponent组件实例对象。</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;render中的this:&#x27;</span>,<span class=\"built_in\">this</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>我是用类定义的组件(适用于【复杂组件】的定义)<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">MyComponent</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t执行了ReactDOM.render(&lt;MyComponent/&gt;.......之后，发生了什么？</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t1.React解析组件标签，找到了MyComponent组件。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t2.发现组件是使用类定义的，随后new出来该类的实例，并通过该实例调用到原型上的render方法。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t3.将render返回的虚拟DOM转为真实DOM，随后呈现在页面中。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t*/</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"组件实例的三大核心属性-1-state\"><a href=\"#组件实例的三大核心属性-1-state\" class=\"headerlink\" title=\"组件实例的三大核心属性 1.state\"></a>组件实例的三大核心属性 1.state</h2><h3 id=\"理解\"><a href=\"#理解\" class=\"headerlink\" title=\"理解\"></a>理解</h3><ol>\n<li><p>state是组件对象最重要的属性, 值是对象(可以包含多个key-value的组合)</p>\n</li>\n<li><p>组件被称为”状态机”, 通过更新组件的state来更新对应的页面显示(重新渲染组件)</p>\n</li>\n</ol>\n<h3 id=\"强烈注意\"><a href=\"#强烈注意\" class=\"headerlink\" title=\"强烈注意\"></a>强烈注意</h3><ol>\n<li><p>组件中render方法中的this为组件实例对象</p>\n</li>\n<li><p>组件自定义的方法中this为undefined，如何解决？</p>\n<p>  (a) 强制绑定this: 通过函数对象的bind()</p>\n</li>\n</ol>\n<p>​     (b) 箭头函数</p>\n<ol start=\"3\">\n<li>状态数据，不能直接修改或更新</li>\n</ol>\n<p>state规范写法（仅供学习）：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>state<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Weather</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//构造器调用几次？ ———— 1次</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;constructor&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">super</span>(props)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.state = &#123;<span class=\"attr\">isHot</span>:<span class=\"literal\">false</span>,<span class=\"attr\">wind</span>:<span class=\"string\">&#x27;微风&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//解决changeWeather中this指向问题</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.changeWeather = <span class=\"built_in\">this</span>.changeWeather.bind(<span class=\"built_in\">this</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//render调用几次？ ———— 1+n次 1是初始化的那次 n是状态更新的次数</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;render&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//读取状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;isHot,wind&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.changeWeather&#125;</span>&gt;</span>今天天气很&#123;isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;&#125;，&#123;wind&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//changeWeather调用几次？ ———— 点几次调几次</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">changeWeather</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//changeWeather放在哪里？ ———— Weather的原型对象上，供实例使用</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//由于changeWeather是作为onClick的回调，所以不是通过实例调用的，是直接调用</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//类中的方法默认开启了局部的严格模式，所以changeWeather中的this为undefined</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;changeWeather&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//获取原来的isHot值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> isHot = <span class=\"built_in\">this</span>.state.isHot</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//严重注意：状态必须通过setState进行更新,且更新是一种合并，不是替换。</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">isHot</span>:!isHot&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>);</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//严重注意：状态(state)不可直接更改，下面这行就是直接更改！！！</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//this.state.isHot = !isHot //这是错误的写法</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Weather</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>state简单写法（开发常用）：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>state简写方式<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom. .js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Weather</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;<span class=\"attr\">isHot</span>:<span class=\"literal\">false</span>,<span class=\"attr\">wind</span>:<span class=\"string\">&#x27;微风&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;D</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;isHot,wind&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.changeWeather&#125;</span>&gt;</span>今天天气很&#123;isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;&#125;，&#123;wind&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//自定义方法————要用赋值语句的形式+箭头函数</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tchangeWeather = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> isHot = <span class=\"built_in\">this</span>.state.isHot</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">isHot</span>:!isHot&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Weather</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件三大核心属性2-props\"><a href=\"#组件三大核心属性2-props\" class=\"headerlink\" title=\"组件三大核心属性2: props\"></a>组件三大核心属性2: props</h2><h3 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p><strong>需求</strong>:<strong>自定义用来显示一个人员信息的组件</strong></p>\n<p><em>1.</em> <strong>姓名必须指定，且为字符串类型；</strong></p>\n<p><em>2.</em> <strong>性别为字符串类型，如果性别没有指定，默认为男</strong></p>\n<p><em>3.</em> **年龄为字符串类型，且为数字类型，默认值为18 **</p>\n<p><img src=\"https://qny.aqingya.cn/img/20221021090306.png\"></p>\n<h3 id=\"理解-1\"><a href=\"#理解-1\" class=\"headerlink\" title=\"理解\"></a>理解</h3><ol>\n<li><p>每个组件对象都会有props(properties的简写)属性</p>\n</li>\n<li><p>组件标签的所有属性都保存在props中</p>\n</li>\n</ol>\n<h3 id=\"作用\"><a href=\"#作用\" class=\"headerlink\" title=\"作用\"></a>作用</h3><ol>\n<li><p>通过标签属性从组件外向组件内传递变化的数据</p>\n</li>\n<li><p>注意: 组件内部不要修改props数据</p>\n</li>\n</ol>\n<h3 id=\"编码操作\"><a href=\"#编码操作\" class=\"headerlink\" title=\"编码操作\"></a>编码操作</h3><ol>\n<li><p>内部读取某个属性值</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.props.name</span><br></pre></td></tr></table></figure></li>\n<li><p>对props中的属性值进行类型限制和必要性限制</p>\n<p>第一种方式（React v15.5 开始已弃用）：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person.propTypes = &#123;</span><br><span class=\"line\"> <span class=\"attr\">name</span>: React.PropTypes.string.isRequired,</span><br><span class=\"line\"> <span class=\"attr\">age</span>: React.PropTypes.number</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>第二种方式（新）：使用prop-types库进限制（需要引入prop-types库）</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person.propTypes = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: PropTypes.string.isRequired,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: PropTypes.number. </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>扩展属性: 将对象的所有属性通过props传递</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Person &#123;...person&#125;/&gt;</span><br></pre></td></tr></table></figure></li>\n<li><p>默认属性值：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person.defaultProps = &#123;</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span><br><span class=\"line\">  <span class=\"attr\">sex</span>:<span class=\"string\">&#x27;男&#x27;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>组件类的构造函数</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">super</span>(props)</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(props)<span class=\"comment\">//打印所有属性</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"案例\"><a href=\"#案例\" class=\"headerlink\" title=\"案例\"></a>案例</h3><h4 id=\"props基本使用\"><a href=\"#props基本使用\" class=\"headerlink\" title=\"props基本使用\"></a>props基本使用</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>props基本使用<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test3&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// console.log(this);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;name,age,sex&#125; = <span class=\"built_in\">this</span>.props</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> (</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>姓名：&#123;name&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>性别：&#123;sex&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>年龄：&#123;age+1&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;jerry&quot;</span> <span class=\"attr\">age</span>=<span class=\"string\">&#123;19&#125;</span>  <span class=\"attr\">sex</span>=<span class=\"string\">&quot;男&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test1&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;tom&quot;</span> <span class=\"attr\">age</span>=<span class=\"string\">&#123;18&#125;</span> <span class=\"attr\">sex</span>=<span class=\"string\">&quot;女&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test2&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> p = &#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;老刘&#x27;</span>,<span class=\"attr\">age</span>:<span class=\"number\">18</span>,<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;女&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">// console.log(&#x27;@&#x27;,...p);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">// ReactDOM.render(&lt;Person name=&#123;p.name&#125; age=&#123;p.age&#125; sex=&#123;p.sex&#125;/&gt;,document.getElementById(&#x27;test3&#x27;))</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> &#123;<span class=\"attr\">...p</span>&#125;/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test3&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"props进行限制\"><a href=\"#props进行限制\" class=\"headerlink\" title=\"props进行限制\"></a>props进行限制</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>对props进行限制<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test3&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入prop-types，用于对组件标签属性进行限制 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/prop-types.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// console.log(this);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;name,age,sex&#125; = <span class=\"built_in\">this</span>.props</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//props是只读的</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//this.props.name = &#x27;jack&#x27; //此行代码会报错，因为props是只读的</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> (</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>姓名：&#123;name&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>性别：&#123;sex&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>年龄：&#123;age+1&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//对标签属性进行类型、必要性的限制</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tPerson.propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">name</span>:PropTypes.string.isRequired, <span class=\"comment\">//限制name必传，且为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">sex</span>:PropTypes.string,<span class=\"comment\">//限制sex为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">age</span>:PropTypes.number,<span class=\"comment\">//限制age为数值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">speak</span>:PropTypes.func,<span class=\"comment\">//限制speak为函数</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//指定默认标签属性值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tPerson.defaultProps = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;男&#x27;</span>,<span class=\"comment\">//sex默认值为男</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">age</span>:<span class=\"number\">18</span> <span class=\"comment\">//age默认值为18</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&#123;100&#125;</span> <span class=\"attr\">speak</span>=<span class=\"string\">&#123;speak&#125;/</span>&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test1&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;tom&quot;</span> <span class=\"attr\">age</span>=<span class=\"string\">&#123;18&#125;</span> <span class=\"attr\">sex</span>=<span class=\"string\">&quot;女&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test2&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> p = &#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;老刘&#x27;</span>,<span class=\"attr\">age</span>:<span class=\"number\">18</span>,<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;女&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">// console.log(&#x27;@&#x27;,...p);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">// ReactDOM.render(&lt;Person name=&#123;p.name&#125; age=&#123;p.age&#125; sex=&#123;p.sex&#125;/&gt;,document.getElementById(&#x27;test3&#x27;))</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> &#123;<span class=\"attr\">...p</span>&#125;/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test3&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">speak</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;我说话了&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"props的简写方式\"><a href=\"#props的简写方式\" class=\"headerlink\" title=\"props的简写方式\"></a>props的简写方式</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>对props进行限制<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test3&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入prop-types，用于对组件标签属性进行限制 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/prop-types.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//构造器是否接收props，是否传递给super，取决于：是否希望在构造器中通过this访问props</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// console.log(props);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">super</span>(props)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;constructor&#x27;</span>,<span class=\"built_in\">this</span>.props);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//对标签属性进行类型、必要性的限制</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">static</span> propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">name</span>:PropTypes.string.isRequired, <span class=\"comment\">//限制name必传，且为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">sex</span>:PropTypes.string,<span class=\"comment\">//限制sex为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">age</span>:PropTypes.number,<span class=\"comment\">//限制age为数值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//指定默认标签属性值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">static</span> defaultProps = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;男&#x27;</span>,<span class=\"comment\">//sex默认值为男</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">age</span>:<span class=\"number\">18</span> <span class=\"comment\">//age默认值为18</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// console.log(this);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;name,age,sex&#125; = <span class=\"built_in\">this</span>.props</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//props是只读的</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//this.props.name = &#x27;jack&#x27; //此行代码会报错，因为props是只读的</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> (</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>姓名：&#123;name&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>性别：&#123;sex&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>年龄：&#123;age+1&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;jerry&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test1&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"函数组件使用props\"><a href=\"#函数组件使用props\" class=\"headerlink\" title=\"函数组件使用props\"></a>函数组件使用props</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>对props进行限制<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test3&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入prop-types，用于对组件标签属性进行限制 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/prop-types.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span> (<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">const</span> &#123;name,age,sex&#125; = props</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">return</span> (</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>姓名：&#123;name&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>性别：&#123;sex&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>年龄：&#123;age&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\tPerson.propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">name</span>:PropTypes.string.isRequired, <span class=\"comment\">//限制name必传，且为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">sex</span>:PropTypes.string,<span class=\"comment\">//限制sex为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">age</span>:PropTypes.number,<span class=\"comment\">//限制age为数值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//指定默认标签属性值\t</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tPerson.defaultProps = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;男&#x27;</span>,<span class=\"comment\">//sex默认值为男</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">age</span>:<span class=\"number\">18</span> <span class=\"comment\">//age默认值为18</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;jerry&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test1&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件三大核心属性-3-refs与事件处理\"><a href=\"#组件三大核心属性-3-refs与事件处理\" class=\"headerlink\" title=\"组件三大核心属性 3: refs与事件处理\"></a>组件三大核心属性 3: refs与事件处理</h2><h3 id=\"效果-1\"><a href=\"#效果-1\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p><strong>需求: 自定义组件, 功能说明如下:</strong></p>\n<p> <strong>1. 点击按钮, 提示第一个输入框中的值</strong></p>\n<p> <strong>2. 当第2个输入框失去焦点时, 提示这个输入框中的值</strong></p>\n<p>![](<a href=\"https://qny.aqingya.cn/img/props_event\">https://qny.aqingya.cn/img/props_event</a> (2).gif)</p>\n<h3 id=\"理解-2\"><a href=\"#理解-2\" class=\"headerlink\" title=\"理解\"></a>理解</h3><p>组件内的标签可以定义ref属性来标识自己</p>\n<h3 id=\"编码\"><a href=\"#编码\" class=\"headerlink\" title=\"编码\"></a>编码</h3><ol>\n<li><p>字符串形式的ref</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&quot;input1&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>\n<li><p>回调形式的ref</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;(c)</span>=&gt;</span>&#123;this.input1 = c&#125;&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>createRef创建ref容器</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">myRef = React.createRef() </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.myRef&#125;/</span>&gt;</span></span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"事件处理\"><a href=\"#事件处理\" class=\"headerlink\" title=\"事件处理\"></a>事件处理</h3><ol>\n<li> 通过onXxx属性指定事件处理函数(注意大小写)</li>\n</ol>\n<p>   (1)  React使用的是自定义(合成)事件, 而不是使用的原生DOM事件</p>\n<p>   (2)  React中的事件是通过事件委托方式处理的(委托给组件最外层的元素)</p>\n<ol start=\"2\">\n<li>通过event.target得到发生事件的DOM元素对象</li>\n</ol>\n<h3 id=\"案例-1\"><a href=\"#案例-1\" class=\"headerlink\" title=\"案例\"></a>案例</h3><h4 id=\"字符串形式的ref\"><a href=\"#字符串形式的ref\" class=\"headerlink\" title=\"字符串形式的ref\"></a>字符串形式的ref</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_字符串形式的ref<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示左侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input1&#125; = <span class=\"built_in\">this</span>.refs</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input1.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示右侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData2 = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input2&#125; = <span class=\"built_in\">this</span>.refs</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input2.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&quot;input1&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;点击按钮提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showData&#125;</span>&gt;</span>点我提示左侧的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&quot;input2&quot;</span> <span class=\"attr\">onBlur</span>=<span class=\"string\">&#123;this.showData2&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;失去焦点提示数据&quot;</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span> <span class=\"attr\">a</span>=<span class=\"string\">&quot;1&quot;</span> <span class=\"attr\">b</span>=<span class=\"string\">&quot;2&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"回调函数形式的ref\"><a href=\"#回调函数形式的ref\" class=\"headerlink\" title=\"回调函数形式的ref\"></a>回调函数形式的ref</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_字符串形式的ref<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示左侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input1&#125; = <span class=\"built_in\">this</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input1.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示右侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData2 = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input2&#125; = <span class=\"built_in\">this</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input2.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;c</span> =&gt;</span> this.input1 = c &#125; type=&quot;text&quot; placeholder=&quot;点击按钮提示数据&quot;/&gt;<span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showData&#125;</span>&gt;</span>点我提示左侧的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onBlur</span>=<span class=\"string\">&#123;this.showData2&#125;</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;c</span> =&gt;</span> this.input2 = c &#125; type=&quot;text&quot; placeholder=&quot;失去焦点提示数据&quot;/&gt;<span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span> <span class=\"attr\">a</span>=<span class=\"string\">&quot;1&quot;</span> <span class=\"attr\">b</span>=<span class=\"string\">&quot;2&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"回调ref中回调执行次数的问题\"><a href=\"#回调ref中回调执行次数的问题\" class=\"headerlink\" title=\"回调ref中回调执行次数的问题\"></a>回调ref中回调执行次数的问题</h4><p>如果 <code>ref</code> 回调函数是以内联函数的方式定义的，在更新过程中它会被执行两次，第一次传入参数 <code>null</code>，然后第二次会传入参数 DOM 元素。这是因为在每次渲染时会创建一个新的函数实例，所以 React 清空旧的 ref 并且设置新的。通过将 ref 的回调函数定义成 class 的绑定函数的方式可以避免上述问题，但是大多数情况下它是无关紧要的。 <a href=\"https://react.docschina.org/docs/refs-and-the-dom.html\">传送门</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>3_回调ref中回调执行次数的问题<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;<span class=\"attr\">isHot</span>:<span class=\"literal\">false</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowInfo = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input1&#125; = <span class=\"built_in\">this</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input1.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tchangeWeather = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//获取原来的状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;isHot&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//更新状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">isHot</span>:!isHot&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tsaveInput = <span class=\"function\">(<span class=\"params\">c</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.input1 = c;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;@&#x27;</span>,c);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;isHot&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>今天天气很&#123;isHot ? &#x27;炎热&#x27;:&#x27;凉爽&#x27;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t&#123;/*<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;(c)</span>=&gt;</span>&#123;this.input1 = c;console.log(&#x27;@&#x27;,c);&#125;&#125; type=&quot;text&quot;/&gt;<span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span>*/&#125;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.saveInput&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>/&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showInfo&#125;</span>&gt;</span>点我提示输入的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.changeWeather&#125;</span>&gt;</span>点我切换天气<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"createRef的使用\"><a href=\"#createRef的使用\" class=\"headerlink\" title=\"createRef的使用\"></a>createRef的使用</h4><p>React.createRef调用后可以返回一个容器，该容器可以存储被ref所标识的节点,该容器是“专人专用”的</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>4_createRef<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\tReact.createRef调用后可以返回一个容器，该容器可以存储被ref所标识的节点,该容器是“专人专用”的</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t */</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tmyRef = React.createRef()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tmyRef2 = React.createRef()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示左侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"built_in\">this</span>.myRef.current.value);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示右侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData2 = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"built_in\">this</span>.myRef2.current.value);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.myRef&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;点击按钮提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showData&#125;</span>&gt;</span>点我提示左侧的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onBlur</span>=<span class=\"string\">&#123;this.showData2&#125;</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.myRef2&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;失去焦点提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span> <span class=\"attr\">a</span>=<span class=\"string\">&quot;1&quot;</span> <span class=\"attr\">b</span>=<span class=\"string\">&quot;2&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件三大核心属性-3-refs与事件处理-1\"><a href=\"#组件三大核心属性-3-refs与事件处理-1\" class=\"headerlink\" title=\"组件三大核心属性 3: refs与事件处理\"></a>组件三大核心属性 3: refs与事件处理</h2><h3 id=\"事件处理-1\"><a href=\"#事件处理-1\" class=\"headerlink\" title=\"事件处理\"></a>事件处理</h3><p>(1). 通过onXxx属性指定事件处理函数(注意大小写)<br>        a. React使用的是自定义(合成)事件, 而不是使用的原生DOM事件 —————— 为了更好的兼容性<br>        b. React中的事件是通过事件委托方式处理的(委托给组件最外层的元素) ————————为了的高效<br>(2). 通过event.target得到发生事件的DOM元素对象 ——————————不要过度使用ref</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>事件处理<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t(1).通过onXxx属性指定事件处理函数(注意大小写)</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\ta.React使用的是自定义(合成)事件, 而不是使用的原生DOM事件 —————— 为了更好的兼容性</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\tb.React中的事件是通过事件委托方式处理的(委托给组件最外层的元素) ————————为了的高效</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t(2).通过event.target得到发生事件的DOM元素对象 ——————————不要过度使用ref</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t */</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//创建ref容器</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tmyRef = React.createRef()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tmyRef2 = React.createRef()</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示左侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(event.target);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"built_in\">this</span>.myRef.current.value);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示右侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData2 = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(event.target.value);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.myRef&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;点击按钮提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showData&#125;</span>&gt;</span>点我提示左侧的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onBlur</span>=<span class=\"string\">&#123;this.showData2&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;失去焦点提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span> <span class=\"attr\">a</span>=<span class=\"string\">&quot;1&quot;</span> <span class=\"attr\">b</span>=<span class=\"string\">&quot;2&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"收集表单数据\"><a href=\"#收集表单数据\" class=\"headerlink\" title=\"收集表单数据\"></a>收集表单数据</h2><h3 id=\"效果-2\"><a href=\"#效果-2\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p>需求 定义一个包含表单的组件</p>\n<p>输入用户名密码后点击登录提示输入信息</p>\n<p>![](<a href=\"https://qny.aqingya.cn/img/%E6%94%B6%E9%9B%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE\">https://qny.aqingya.cn/img/收集表单数据</a> (2).gif)</p>\n<h3 id=\"理解-3\"><a href=\"#理解-3\" class=\"headerlink\" title=\"理解\"></a>理解</h3><p>包含表单的组件分类</p>\n<ol>\n<li><p>受控组件</p>\n</li>\n<li><p>非受控组件</p>\n</li>\n</ol>\n<h3 id=\"案例-2\"><a href=\"#案例-2\" class=\"headerlink\" title=\"案例\"></a>案例</h3><h4 id=\"受控组件\"><a href=\"#受控组件\" class=\"headerlink\" title=\"受控组件\"></a>受控组件</h4><p>总结：随取随用</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_非受控组件<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Login</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\thandleSubmit = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\tevent.preventDefault() <span class=\"comment\">//阻止表单提交</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;username,password&#125; = <span class=\"built_in\">this</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"string\">`你输入的用户名是：<span class=\"subst\">$&#123;username.value&#125;</span>,你输入的密码是：<span class=\"subst\">$&#123;password.value&#125;</span>`</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">onSubmit</span>=<span class=\"string\">&#123;this.handleSubmit&#125;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t用户名：<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;c</span> =&gt;</span> this.username = c&#125; type=&quot;text&quot; name=&quot;username&quot;/&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t密码：<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;c</span> =&gt;</span> this.password = c&#125; type=&quot;password&quot; name=&quot;password&quot;/&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>登录<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Login</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"非受控组件\"><a href=\"#非受控组件\" class=\"headerlink\" title=\"非受控组件\"></a>非受控组件</h4><p>总结：实时将你更新的数据 同步到statu状态中，用的时候再去取，类似vue的双向绑定。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>2_受控组件<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Login</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">username</span>:<span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">//用户名</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">password</span>:<span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">//密码</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//保存用户名到状态中</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tsaveUsername = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">username</span>:event.target.value&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//保存密码到状态中</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tsavePassword = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">password</span>:event.target.value&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//表单提交的回调</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\thandleSubmit = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\tevent.preventDefault() <span class=\"comment\">//阻止表单提交</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;username,password&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"string\">`你输入的用户名是：<span class=\"subst\">$&#123;username&#125;</span>,你输入的密码是：<span class=\"subst\">$&#123;password&#125;</span>`</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">onSubmit</span>=<span class=\"string\">&#123;this.handleSubmit&#125;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t用户名：<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onChange</span>=<span class=\"string\">&#123;this.saveUsername&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t密码：<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onChange</span>=<span class=\"string\">&#123;this.savePassword&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>登录<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Login</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件的生命周期\"><a href=\"#组件的生命周期\" class=\"headerlink\" title=\"组件的生命周期\"></a>组件的生命周期</h2><h3 id=\"效果-3\"><a href=\"#效果-3\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p>需求:定义组件实现以下功能：</p>\n<p> <strong>1.</strong> 让指定的文本做显示/隐藏的渐变动画</p>\n<p> <strong>2.</strong> 从完全可见，到彻底消失，耗时2S</p>\n<p> <strong>3.</strong> 点击“不活了”按钮从界面中卸载组件</p>\n<p><img src=\"https://qny.aqingya.cn/img/component.gif\"></p>\n<h3 id=\"理解-4\"><a href=\"#理解-4\" class=\"headerlink\" title=\"理解\"></a>理解</h3><ol>\n<li><p>组件从创建到死亡它会经历一些特定的阶段。</p>\n</li>\n<li><p>React组件中包含一系列勾子函数(生命周期回调函数), 会在特定的时刻调用。</p>\n</li>\n<li><p>我们在定义组件时，会在特定的生命周期回调函数中，做特定的工作。</p>\n</li>\n</ol>\n<h3 id=\"生命周期流程图-旧\"><a href=\"#生命周期流程图-旧\" class=\"headerlink\" title=\"生命周期流程图(旧)\"></a>生命周期流程图(旧)</h3><p><img src=\"https://qny.aqingya.cn/img/20221114171433.png\"></p>\n<p>生命周期的三个阶段（旧）</p>\n<p><strong>1.初始化阶段:</strong> 由ReactDOM.render()触发—初次渲染</p>\n<ol>\n<li><p>constructor()</p>\n</li>\n<li><p>componentWillMount()</p>\n</li>\n<li><p>render()    =====&gt; 必须使用的一个</p>\n</li>\n<li><p>componentDidMount()   // 常用：一般在这个钩子中做一些初始化的事，例如：开启定时器、发送网络请求、订阅消息。</p>\n</li>\n</ol>\n<p>**2.更新阶段:**由组件内部this.setSate()或父组件重新render触发</p>\n<ol>\n<li><p>shouldComponentUpdate()   // 阀门 如果不写会提供一个默认返回值为真；若写了，按自己写的为主，true为通过，false为不通过。</p>\n</li>\n<li><p>componentWillUpdate()</p>\n</li>\n<li><p>render()</p>\n</li>\n<li><p>componentDidUpdate()</p>\n</li>\n</ol>\n<p>**3.卸载组件:**由ReactDOM.unmountComponentAtNode()触发</p>\n<ol>\n<li>componentWillUnmount()    // 常用：一般在这个钩子中做一些收尾的事，例如：关闭定时器、取消订阅消息。</li>\n</ol>\n<h4 id=\"引出生命周期\"><a href=\"#引出生命周期\" class=\"headerlink\" title=\"引出生命周期\"></a>引出生命周期</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_引出生命周期<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//生命周期回调函数 &lt;=&gt; 生命周期钩子函数 &lt;=&gt; 生命周期函数 &lt;=&gt; 生命周期钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Life</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;<span class=\"attr\">opacity</span>:<span class=\"number\">1</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tdeath = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//卸载组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\tReactDOM.unmountComponentAtNode(<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件挂完毕</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentDidMount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;componentDidMount&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.timer = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"comment\">//获取原状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"keyword\">let</span> &#123;opacity&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"comment\">//减小0.1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\topacity -= <span class=\"number\">0.1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"keyword\">if</span>(opacity &lt;= <span class=\"number\">0</span>) opacity = <span class=\"number\">1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"comment\">//设置新的透明度</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;opacity&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t&#125;, <span class=\"number\">200</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要卸载</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillUnmount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//清除定时器</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">clearInterval</span>(<span class=\"built_in\">this</span>.timer)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//初始化渲染、状态更新之后</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;render&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;opacity:this.state.opacity&#125;&#125;</span>&gt;</span>React学不会怎么办？<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.death&#125;</span>&gt;</span>不活了<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Life</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"react生命周期-旧\"><a href=\"#react生命周期-旧\" class=\"headerlink\" title=\"react生命周期(旧)\"></a>react生命周期(旧)</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>2_react生命周期(旧)<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t1. 初始化阶段: 由ReactDOM.render()触发---初次渲染</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t1.\tconstructor()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t2.\tcomponentWillMount()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t3.\trender()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t4.\tcomponentDidMount() =====&gt; 常用</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t\t\t\t\t一般在这个钩子中做一些初始化的事，例如：开启定时器、发送网络请求、订阅消息</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t2. 更新阶段: 由组件内部this.setSate()或父组件render触发</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t1.\tshouldComponentUpdate()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t2.\tcomponentWillUpdate()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t3.\trender() =====&gt; 必须使用的一个</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t4.\tcomponentDidUpdate()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t3. 卸载组件: 由ReactDOM.unmountComponentAtNode()触发</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t1.\tcomponentWillUnmount()  =====&gt; 常用</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t\t\t\t\t一般在这个钩子中做一些收尾的事，例如：关闭定时器、取消订阅消息</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t*/</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Count</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//构造器</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---constructor&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">super</span>(props)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.state = &#123;<span class=\"attr\">count</span>:<span class=\"number\">0</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//加1按钮的回调</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tadd = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//获取原状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;count&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//更新状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">count</span>:count+<span class=\"number\">1</span>&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//卸载组件按钮的回调</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tdeath = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\tReactDOM.unmountComponentAtNode(<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//强制更新按钮的回调</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tforce = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.forceUpdate()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要挂载的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillMount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentWillMount&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件挂载完毕的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentDidMount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentDidMount&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要卸载的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillUnmount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentWillUnmount&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//控制组件更新的“阀门”</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">shouldComponentUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---shouldComponentUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要更新的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentWillUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件更新完毕的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentDidUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentDidUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---render&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;count&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>当前求和为：&#123;count&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.add&#125;</span>&gt;</span>点我+1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.death&#125;</span>&gt;</span>卸载组件<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.force&#125;</span>&gt;</span>不更改任何状态中的数据，强制更新一下<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//父组件A</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;<span class=\"attr\">carName</span>:<span class=\"string\">&#x27;奔驰&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tchangeCar = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">carName</span>:<span class=\"string\">&#x27;奥拓&#x27;</span>&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>我是A组件<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.changeCar&#125;</span>&gt;</span>换车<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">B</span> <span class=\"attr\">carName</span>=<span class=\"string\">&#123;this.state.carName&#125;/</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//子组件B</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要接收新的props的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillReceiveProps</span>(<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---componentWillReceiveProps&#x27;</span>,props);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//控制组件更新的“阀门”</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">shouldComponentUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---shouldComponentUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要更新的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---componentWillUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件更新完毕的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentDidUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---componentDidUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---render&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>我是B组件，接收到的车是:&#123;this.props.carName&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Count</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"生命周期流程图-新\"><a href=\"#生命周期流程图-新\" class=\"headerlink\" title=\"生命周期流程图(新)\"></a>生命周期流程图(新)</h3><p><img src=\"https://qny.aqingya.cn/img/20221114171726.png\"></p>\n<p>生命周期的三个阶段（新）</p>\n<p><strong>1.初始化阶段:</strong> 由ReactDOM.render()触发—初次渲染</p>\n<ol>\n<li><p>constructor()</p>\n</li>\n<li><p><strong>getDerivedStateFromProps</strong></p>\n</li>\n<li><p>render()</p>\n</li>\n<li><p>componentDidMount()</p>\n</li>\n</ol>\n<p><strong>2.更新阶段:</strong> 由组件内部this.setSate()或父组件重新render触发</p>\n<ol>\n<li><p><strong>getDerivedStateFromProps</strong></p>\n</li>\n<li><p>shouldComponentUpdate()      </p>\n</li>\n<li><p>render()</p>\n</li>\n<li><p><strong>getSnapshotBeforeUpdate</strong></p>\n</li>\n<li><p>componentDidUpdate()</p>\n</li>\n</ol>\n<p><strong>3.卸载组件:</strong> 由ReactDOM.unmountComponentAtNode()触发</p>\n<ol>\n<li>componentWillUnmount()</li>\n</ol>\n<h3 id=\"重要的勾子\"><a href=\"#重要的勾子\" class=\"headerlink\" title=\"重要的勾子\"></a>重要的勾子</h3><ol>\n<li><p>render：初始化渲染或更新渲染调用</p>\n</li>\n<li><p>componentDidMount：开启监听, 发送ajax请求</p>\n</li>\n<li><p>componentWillUnmount：做一些收尾工作, 如: 清理定时器</p>\n</li>\n</ol>\n<h3 id=\"即将废弃的勾子\"><a href=\"#即将废弃的勾子\" class=\"headerlink\" title=\"即将废弃的勾子\"></a>即将废弃的勾子</h3><ol>\n<li><p>componentWillMount</p>\n</li>\n<li><p>componentWillReceiveProps</p>\n</li>\n<li><p>componentWillUpdate</p>\n</li>\n</ol>\n<p>现在使用会出现警告，下一个大版本需要加上UNSAFE_前缀才能使用，以后可能会被彻底废弃，不建议使用。</p>\n<h2 id=\"虚拟DOM与DOM-Diffing算法\"><a href=\"#虚拟DOM与DOM-Diffing算法\" class=\"headerlink\" title=\"虚拟DOM与DOM Diffing算法\"></a>虚拟DOM与DOM Diffing算法</h2><p>基本原理图</p>\n<p><img src=\"https://qny.aqingya.cn/img/20221124101248.png\"></p>\n<h2 id=\"React应用-基于React脚手架\"><a href=\"#React应用-基于React脚手架\" class=\"headerlink\" title=\"React应用(基于React脚手架)\"></a>React应用(基于React脚手架)</h2><h3 id=\"create-react-app创建react应用\"><a href=\"#create-react-app创建react应用\" class=\"headerlink\" title=\"create-react-app创建react应用\"></a>create-react-app创建react应用</h3><h3 id=\"脚手架\"><a href=\"#脚手架\" class=\"headerlink\" title=\"脚手架\"></a>脚手架</h3><ol>\n<li>xxx脚手架: 用来帮助程序员快速创建一个基于xxx库的模板项目</li>\n</ol>\n<p>​            包含了所有需要的配置（语法检查、jsx编译、devServer…）</p>\n<p>​            下载好了所有相关的依赖</p>\n<ol start=\"2\">\n<li><p>可以直接运行一个简单效果</p>\n</li>\n<li><p>react提供了一个用于创建react项目的脚手架库: <code>create-react-app</code></p>\n</li>\n<li><p>项目的整体技术架构为:  react + webpack + es6 + eslint</p>\n</li>\n<li><p>使用脚手架开发的项目的特点: 模块化, 组件化, 工程化</p>\n</li>\n</ol>\n<h3 id=\"创建项目并启动\"><a href=\"#创建项目并启动\" class=\"headerlink\" title=\"创建项目并启动\"></a>创建项目并启动</h3><p><strong>第一步</strong>，全局安装：<code>npm i -g create-react-app</code></p>\n<p><strong>第二步</strong>，切换到想创项目的目录，使用命令：<code>create-react-app hello-react</code></p>\n<p><strong>第三步</strong>，进入项目文件夹：<code>cd hello-react</code></p>\n<p><strong>第四步</strong>，启动项目：<code>npm start</code></p>\n<h3 id=\"react脚手架项目结构\"><a href=\"#react脚手架项目结构\" class=\"headerlink\" title=\"react脚手架项目结构\"></a>react脚手架项目结构</h3><blockquote>\n<p>​    public —- 静态资源文件夹</p>\n<p>​        favicon.icon —— 网站页签图标</p>\n<p>​        <strong>index.html——–主页面</strong></p>\n<p>​        logo192.png ——- logo图</p>\n<p>​        logo512.png ——- logo图</p>\n<p>​        manifest.json —– 应用加壳的配置文件</p>\n<p>​        robots.txt ——– 爬虫协议文件</p>\n<p>src —- 源码文件夹</p>\n<p>​        App.css ——– App组件的样式</p>\n<p>​        <strong>App.js——–App组件</strong></p>\n<p>​        App.test.js —- 用于给App做测试</p>\n<p>​        index.css —— 样式</p>\n<p>​        <strong>index.js——入口文件</strong></p>\n<p>​        logo.svg ——- logo图</p>\n<p>​        reportWebVitals.js</p>\n<p>​            — 页面性能分析文件(需要web-vitals库的支持)</p>\n<p>​        setupTests.js</p>\n<p>​            —- 组件单元测试的文件(需要jest-dom库的支持)</p>\n</blockquote>\n<h1 id=\"面试题\"><a href=\"#面试题\" class=\"headerlink\" title=\"面试题\"></a>面试题</h1><p>1、React并不会真正的绑定事件到每一个具体某个DOM元素上，而是采用事件代理的模式；</p>\n","more":"<h1 id=\"第一章：React入门\"><a href=\"#第一章：React入门\" class=\"headerlink\" title=\"第一章：React入门\"></a>第一章：React入门</h1><h2 id=\"React简介\"><a href=\"#React简介\" class=\"headerlink\" title=\"React简介\"></a>React简介</h2><h3 id=\"官网\"><a href=\"#官网\" class=\"headerlink\" title=\"官网\"></a>官网</h3><p>中文官网: <a href=\"https://react.docschina.org/\">https://react.docschina.org/</a></p>\n<p>英文官网:<a href=\"https://reactjs.org/\"> https://reactjs.org/</a></p>\n<h3 id=\"介绍描述\"><a href=\"#介绍描述\" class=\"headerlink\" title=\"介绍描述\"></a>介绍描述</h3><p>用于动态构建用户界面的 JavaScript 库（只关注于视图）</p>\n<p>由Facebook开源</p>\n<h3 id=\"React特点\"><a href=\"#React特点\" class=\"headerlink\" title=\"React特点\"></a>React特点</h3><ol>\n<li><p>声明式编码</p>\n</li>\n<li><p>组件化编码</p>\n</li>\n<li><p>React Native 编写原生应用</p>\n</li>\n<li><p>高效（优秀的Diffing算法）</p>\n</li>\n</ol>\n<h3 id=\"React高效的原因\"><a href=\"#React高效的原因\" class=\"headerlink\" title=\"React高效的原因\"></a>React高效的原因</h3><ol>\n<li><p>使用虚拟(virtual)DOM, 不总是直接操作页面真实DOM。</p>\n</li>\n<li><p>DOM Diffing算法, 最小化页面重绘。</p>\n</li>\n</ol>\n<h2 id=\"React的基本使用\"><a href=\"#React的基本使用\" class=\"headerlink\" title=\"React的基本使用\"></a>React的基本使用</h2><p>相关js库</p>\n<ol>\n<li><p>react.js：React核心库。</p>\n</li>\n<li><p>react-dom.js：提供操作DOM的react扩展库。</p>\n</li>\n<li><p>babel.min.js：解析JSX语法代码转为JS代码的库</p>\n</li>\n</ol>\n<p>创建虚拟dom的两种方式</p>\n<p>1.纯js方式（一般不使用）</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>2_使用js创建虚拟DOM<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> &gt;</span><span class=\"javascript\"> </span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建虚拟DOM</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> VDOM = React.createElement(<span class=\"string\">&#x27;h1&#x27;</span>,&#123;<span class=\"attr\">id</span>:<span class=\"string\">&#x27;title&#x27;</span>&#125;,React.createElement(<span class=\"string\">&#x27;span&#x27;</span>,&#123;&#125;,<span class=\"string\">&#x27;Hello,React&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染虚拟DOM到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(VDOM,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>2.jsx方式</p>\n<p><code>&lt;script type=&quot;text/babel&quot; &gt; /* 此处一定要写babel */</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_使用jsx创建虚拟DOM<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span> &gt;</span><span class=\"javascript\"> <span class=\"comment\">/* 此处一定要写babel */</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建虚拟DOM</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> VDOM = (  <span class=\"comment\">/* 此处一定不要写引号，因为不是字符串 */</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;title&quot;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>Hello,React<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染虚拟DOM到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(VDOM,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"React-JSX\"><a href=\"#React-JSX\" class=\"headerlink\" title=\"React JSX\"></a>React JSX</h2><blockquote>\n<p> <em>jsx语法规则：</em></p>\n<p>​            <em>1.定义虚拟DOM时，不要写引号。</em></p>\n<p>​            <em>2.标签中混入JS表达式时要用{}。</em></p>\n<p>​            <em>3.样式的类名指定不要用class，要用className。</em></p>\n<p>​            <em>4.内联样式，要用<code>style=&#123;&#123;key:value&#125;&#125;</code>的形式去写。</em></p>\n<p>​            <em>5.只有一个根标签</em></p>\n<p>​            <em>6.标签必须闭合</em></p>\n<p>​            <em>7.标签首字母</em></p>\n<p>​                <em>(1).若小写字母开头，则将该标签转为html中同名元素，若html中无该标签对应的同名元素，则报错。</em></p>\n<p>​                (2).若大写字母开头，react就去渲染对应的组件，若组件没有定义，则报错。</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>jsx语法规则<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"css\"></span></span><br><span class=\"line\"><span class=\"css\">\t\t<span class=\"selector-class\">.title</span>&#123;</span></span><br><span class=\"line\"><span class=\"css\">\t\t\t<span class=\"attribute\">background-color</span>: orange;</span></span><br><span class=\"line\"><span class=\"css\">\t\t\t<span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"css\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"css\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span> &gt;</span><span class=\"handlebars\"><span class=\"xml\"></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\tconst myId = &#x27;aTgUiGu&#x27;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\tconst myData = &#x27;HeLlo,rEaCt&#x27;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\"></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t//1.创建虚拟DOM</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\tconst VDOM = (</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&#123;myId.toLowerCase()&#125;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=</span></span><span class=\"template-variable\">&#123;&#123;<span class=\"name\">color:</span><span class=\"string\">&#x27;white&#x27;</span>,fontSize:<span class=\"string\">&#x27;29px&#x27;</span>&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&gt;</span>&#123;myData.toLowerCase()&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">className</span>=<span class=\"string\">&quot;title&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&#123;myId.toUpperCase()&#125;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=</span></span><span class=\"template-variable\">&#123;&#123;<span class=\"name\">color:</span><span class=\"string\">&#x27;white&#x27;</span>,fontSize:<span class=\"string\">&#x27;29px&#x27;</span>&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&gt;</span>&#123;myData.toLowerCase()&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t)</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t//2.渲染虚拟DOM到页面</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\tReactDOM.render(VDOM,document.getElementById(&#x27;test&#x27;))</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\"></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t/* </span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\tjsx语法规则：</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t1.定义虚拟DOM时，不要写引号。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t2.标签中混入JS表达式时要用&#123;&#125;。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t3.样式的类名指定不要用class，要用className。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t4.内联样式，要用style=</span><span class=\"template-variable\">&#123;&#123;<span class=\"name\">key:value</span>&#125;&#125;</span><span class=\"xml\">的形式去写。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t5.只有一个根标签</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t6.标签必须闭合</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t7.标签首字母</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t\t\t(1).若小写字母开头，则将该标签转为html中同名元素，若html中无该标签对应的同名元素，则报错。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t\t\t\t\t\t\t(2).若大写字母开头，react就去渲染对应的组件，若组件没有定义，则报错。</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\"></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t\t */</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"handlebars\">\t</span></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件\"><a href=\"#组件\" class=\"headerlink\" title=\"组件\"></a>组件</h2><h3 id=\"函数式组件\"><a href=\"#函数式组件\" class=\"headerlink\" title=\"函数式组件\"></a>函数式组件</h3><ol>\n<li><p>组件名必须首字母大写</p>\n</li>\n<li><p>虚拟DOM元素只能有一个根元素</p>\n</li>\n<li><p>虚拟DOM元素必须有结束标签</p>\n</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_函数式组件<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建函数式组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MyComponent</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>); <span class=\"comment\">//此处的this是undefined，因为babel编译后开启了严格模式</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>我是用函数定义的组件(适用于【简单组件】的定义)<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">MyComponent</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t执行了ReactDOM.render(&lt;MyComponent/&gt;.......之后，发生了什么？</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t1.React解析组件标签，找到了MyComponent组件。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t2.发现组件是使用函数定义的，随后调用该函数，将返回的虚拟DOM转为真实DOM，随后呈现在页面中。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t*/</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>执行了ReactDOM.render(<code>&lt;MyComponent/&gt;</code>…….之后，发生了什么？<br>            1.React解析组件标签，找到了MyComponent组件。<br>            2.发现组件是使用函数定义的，随后调用该函数，将返回的虚拟DOM转为真实DOM，随后呈现在页面中。</p>\n<h3 id=\"类式组件\"><a href=\"#类式组件\" class=\"headerlink\" title=\"类式组件\"></a>类式组件</h3><p>类的基本知识复习：</p>\n<p>1.类中的构造器不是必须要写的，要对实例进行一些初始化的操作，如添加指定属性时才写。</p>\n<p>2.如果A类继承了B类，且A类中写了构造器，那么A类构造器中的super是必须要调用的。</p>\n<p>3.类中所定义的方法，都放在了类的原型对象上，供实例去使用。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_类的基本知识<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> &gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t总结：</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t1.类中的构造器不是必须要写的，要对实例进行一些初始化的操作，如添加指定属性时才写。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t2.如果A类继承了B类，且A类中写了构造器，那么A类构造器中的super是必须要调用的。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t3.类中所定义的方法，都放在了类的原型对象上，供实例去使用。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t*/</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建一个Person类</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//构造器方法</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name,age</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//构造器中的this是谁？—— 类的实例对象</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.name = name</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.age = age</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//一般方法</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">speak</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//speak方法放在了哪里？——类的原型对象上，供实例使用</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//通过Person实例调用speak时，speak中的this就是Person实例</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">`我叫<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.name&#125;</span>，我年龄是<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.age&#125;</span>`</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建一个Student类，继承于Person类</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Student</span> <span class=\"keyword\">extends</span> <span class=\"title\">Person</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name,age,grade</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">super</span>(name,age)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.grade = grade</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.school = <span class=\"string\">&#x27;尚硅谷&#x27;</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//重写从父类继承过来的方法</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">speak</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">`我叫<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.name&#125;</span>，我年龄是<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.age&#125;</span>,我读的是<span class=\"subst\">$&#123;<span class=\"built_in\">this</span>.grade&#125;</span>年级`</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.study()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">study</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//study方法放在了哪里？——类的原型对象上，供实例使用</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//通过Student实例调用study时，study中的this就是Student实例</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;我很努力的学习&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Car</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">name,price</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.name = name</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.price = price</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// this.wheel = 4</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//类中可以直接写赋值语句,如下代码的含义是：给Car的实例对象添加一个属性，名为a，值为1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\ta = <span class=\"number\">1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\twheel = <span class=\"number\">4</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">static</span> demo = <span class=\"number\">100</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> c1 = <span class=\"keyword\">new</span> Car(<span class=\"string\">&#x27;奔驰c63&#x27;</span>,<span class=\"number\">199</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"built_in\">console</span>.log(c1);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"built_in\">console</span>.log(Car.demo);</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>类式组件：</p>\n<blockquote>\n<p>执行了ReactDOM.render(<code>&lt;MyComponent/&gt;</code>…….之后，发生了什么？<br>        1.React解析组件标签，找到了MyComponent组件。<br>        2.发现组件是使用类定义的，随后new出来该类的实例，并通过该实例调用到原型上的render方法。<br>        3.将render返回的虚拟DOM转为真实DOM，随后呈现在页面中。</p>\n</blockquote>\n<p><code>render中的this是谁？—— MyComponent的实例对象 &lt;=&gt; MyComponent组件实例对象</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>2_类式组件<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建类式组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyComponent</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//render是放在哪里的？—— MyComponent的原型对象上，供实例使用。</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//render中的this是谁？—— MyComponent的实例对象 &lt;=&gt; MyComponent组件实例对象。</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;render中的this:&#x27;</span>,<span class=\"built_in\">this</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>我是用类定义的组件(适用于【复杂组件】的定义)<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">MyComponent</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t执行了ReactDOM.render(&lt;MyComponent/&gt;.......之后，发生了什么？</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t1.React解析组件标签，找到了MyComponent组件。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t2.发现组件是使用类定义的，随后new出来该类的实例，并通过该实例调用到原型上的render方法。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t3.将render返回的虚拟DOM转为真实DOM，随后呈现在页面中。</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t*/</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"组件实例的三大核心属性-1-state\"><a href=\"#组件实例的三大核心属性-1-state\" class=\"headerlink\" title=\"组件实例的三大核心属性 1.state\"></a>组件实例的三大核心属性 1.state</h2><h3 id=\"理解\"><a href=\"#理解\" class=\"headerlink\" title=\"理解\"></a>理解</h3><ol>\n<li><p>state是组件对象最重要的属性, 值是对象(可以包含多个key-value的组合)</p>\n</li>\n<li><p>组件被称为”状态机”, 通过更新组件的state来更新对应的页面显示(重新渲染组件)</p>\n</li>\n</ol>\n<h3 id=\"强烈注意\"><a href=\"#强烈注意\" class=\"headerlink\" title=\"强烈注意\"></a>强烈注意</h3><ol>\n<li><p>组件中render方法中的this为组件实例对象</p>\n</li>\n<li><p>组件自定义的方法中this为undefined，如何解决？</p>\n<p>  (a) 强制绑定this: 通过函数对象的bind()</p>\n</li>\n</ol>\n<p>​     (b) 箭头函数</p>\n<ol start=\"3\">\n<li>状态数据，不能直接修改或更新</li>\n</ol>\n<p>state规范写法（仅供学习）：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>state<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Weather</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//构造器调用几次？ ———— 1次</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;constructor&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">super</span>(props)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.state = &#123;<span class=\"attr\">isHot</span>:<span class=\"literal\">false</span>,<span class=\"attr\">wind</span>:<span class=\"string\">&#x27;微风&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//解决changeWeather中this指向问题</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.changeWeather = <span class=\"built_in\">this</span>.changeWeather.bind(<span class=\"built_in\">this</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//render调用几次？ ———— 1+n次 1是初始化的那次 n是状态更新的次数</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;render&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//读取状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;isHot,wind&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.changeWeather&#125;</span>&gt;</span>今天天气很&#123;isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;&#125;，&#123;wind&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//changeWeather调用几次？ ———— 点几次调几次</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">changeWeather</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//changeWeather放在哪里？ ———— Weather的原型对象上，供实例使用</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//由于changeWeather是作为onClick的回调，所以不是通过实例调用的，是直接调用</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//类中的方法默认开启了局部的严格模式，所以changeWeather中的this为undefined</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;changeWeather&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//获取原来的isHot值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> isHot = <span class=\"built_in\">this</span>.state.isHot</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//严重注意：状态必须通过setState进行更新,且更新是一种合并，不是替换。</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">isHot</span>:!isHot&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"built_in\">this</span>);</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//严重注意：状态(state)不可直接更改，下面这行就是直接更改！！！</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//this.state.isHot = !isHot //这是错误的写法</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Weather</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<p>state简单写法（开发常用）：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>state简写方式<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom. .js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//1.创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Weather</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;<span class=\"attr\">isHot</span>:<span class=\"literal\">false</span>,<span class=\"attr\">wind</span>:<span class=\"string\">&#x27;微风&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;D</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;isHot,wind&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.changeWeather&#125;</span>&gt;</span>今天天气很&#123;isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;&#125;，&#123;wind&#125;<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//自定义方法————要用赋值语句的形式+箭头函数</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tchangeWeather = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> isHot = <span class=\"built_in\">this</span>.state.isHot</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">isHot</span>:!isHot&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//2.渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Weather</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件三大核心属性2-props\"><a href=\"#组件三大核心属性2-props\" class=\"headerlink\" title=\"组件三大核心属性2: props\"></a>组件三大核心属性2: props</h2><h3 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p><strong>需求</strong>:<strong>自定义用来显示一个人员信息的组件</strong></p>\n<p><em>1.</em> <strong>姓名必须指定，且为字符串类型；</strong></p>\n<p><em>2.</em> <strong>性别为字符串类型，如果性别没有指定，默认为男</strong></p>\n<p><em>3.</em> **年龄为字符串类型，且为数字类型，默认值为18 **</p>\n<p><img src=\"https://qny.aqingya.cn/img/20221021090306.png\"></p>\n<h3 id=\"理解-1\"><a href=\"#理解-1\" class=\"headerlink\" title=\"理解\"></a>理解</h3><ol>\n<li><p>每个组件对象都会有props(properties的简写)属性</p>\n</li>\n<li><p>组件标签的所有属性都保存在props中</p>\n</li>\n</ol>\n<h3 id=\"作用\"><a href=\"#作用\" class=\"headerlink\" title=\"作用\"></a>作用</h3><ol>\n<li><p>通过标签属性从组件外向组件内传递变化的数据</p>\n</li>\n<li><p>注意: 组件内部不要修改props数据</p>\n</li>\n</ol>\n<h3 id=\"编码操作\"><a href=\"#编码操作\" class=\"headerlink\" title=\"编码操作\"></a>编码操作</h3><ol>\n<li><p>内部读取某个属性值</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">this</span>.props.name</span><br></pre></td></tr></table></figure></li>\n<li><p>对props中的属性值进行类型限制和必要性限制</p>\n<p>第一种方式（React v15.5 开始已弃用）：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person.propTypes = &#123;</span><br><span class=\"line\"> <span class=\"attr\">name</span>: React.PropTypes.string.isRequired,</span><br><span class=\"line\"> <span class=\"attr\">age</span>: React.PropTypes.number</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>第二种方式（新）：使用prop-types库进限制（需要引入prop-types库）</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person.propTypes = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: PropTypes.string.isRequired,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: PropTypes.number. </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>扩展属性: 将对象的所有属性通过props传递</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Person &#123;...person&#125;/&gt;</span><br></pre></td></tr></table></figure></li>\n<li><p>默认属性值：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Person.defaultProps = &#123;</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span><br><span class=\"line\">  <span class=\"attr\">sex</span>:<span class=\"string\">&#x27;男&#x27;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>组件类的构造函数</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">super</span>(props)</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(props)<span class=\"comment\">//打印所有属性</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"案例\"><a href=\"#案例\" class=\"headerlink\" title=\"案例\"></a>案例</h3><h4 id=\"props基本使用\"><a href=\"#props基本使用\" class=\"headerlink\" title=\"props基本使用\"></a>props基本使用</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>props基本使用<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test3&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// console.log(this);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;name,age,sex&#125; = <span class=\"built_in\">this</span>.props</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> (</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>姓名：&#123;name&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>性别：&#123;sex&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>年龄：&#123;age+1&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;jerry&quot;</span> <span class=\"attr\">age</span>=<span class=\"string\">&#123;19&#125;</span>  <span class=\"attr\">sex</span>=<span class=\"string\">&quot;男&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test1&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;tom&quot;</span> <span class=\"attr\">age</span>=<span class=\"string\">&#123;18&#125;</span> <span class=\"attr\">sex</span>=<span class=\"string\">&quot;女&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test2&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> p = &#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;老刘&#x27;</span>,<span class=\"attr\">age</span>:<span class=\"number\">18</span>,<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;女&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">// console.log(&#x27;@&#x27;,...p);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">// ReactDOM.render(&lt;Person name=&#123;p.name&#125; age=&#123;p.age&#125; sex=&#123;p.sex&#125;/&gt;,document.getElementById(&#x27;test3&#x27;))</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> &#123;<span class=\"attr\">...p</span>&#125;/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test3&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"props进行限制\"><a href=\"#props进行限制\" class=\"headerlink\" title=\"props进行限制\"></a>props进行限制</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>对props进行限制<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test3&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入prop-types，用于对组件标签属性进行限制 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/prop-types.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// console.log(this);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;name,age,sex&#125; = <span class=\"built_in\">this</span>.props</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//props是只读的</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//this.props.name = &#x27;jack&#x27; //此行代码会报错，因为props是只读的</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> (</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>姓名：&#123;name&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>性别：&#123;sex&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>年龄：&#123;age+1&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//对标签属性进行类型、必要性的限制</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tPerson.propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">name</span>:PropTypes.string.isRequired, <span class=\"comment\">//限制name必传，且为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">sex</span>:PropTypes.string,<span class=\"comment\">//限制sex为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">age</span>:PropTypes.number,<span class=\"comment\">//限制age为数值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">speak</span>:PropTypes.func,<span class=\"comment\">//限制speak为函数</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//指定默认标签属性值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tPerson.defaultProps = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;男&#x27;</span>,<span class=\"comment\">//sex默认值为男</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">age</span>:<span class=\"number\">18</span> <span class=\"comment\">//age默认值为18</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&#123;100&#125;</span> <span class=\"attr\">speak</span>=<span class=\"string\">&#123;speak&#125;/</span>&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test1&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;tom&quot;</span> <span class=\"attr\">age</span>=<span class=\"string\">&#123;18&#125;</span> <span class=\"attr\">sex</span>=<span class=\"string\">&quot;女&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test2&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"keyword\">const</span> p = &#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;老刘&#x27;</span>,<span class=\"attr\">age</span>:<span class=\"number\">18</span>,<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;女&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">// console.log(&#x27;@&#x27;,...p);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">// ReactDOM.render(&lt;Person name=&#123;p.name&#125; age=&#123;p.age&#125; sex=&#123;p.sex&#125;/&gt;,document.getElementById(&#x27;test3&#x27;))</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> &#123;<span class=\"attr\">...p</span>&#125;/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test3&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">speak</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;我说话了&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"props的简写方式\"><a href=\"#props的简写方式\" class=\"headerlink\" title=\"props的简写方式\"></a>props的简写方式</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>对props进行限制<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test3&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入prop-types，用于对组件标签属性进行限制 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/prop-types.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//构造器是否接收props，是否传递给super，取决于：是否希望在构造器中通过this访问props</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// console.log(props);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">super</span>(props)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;constructor&#x27;</span>,<span class=\"built_in\">this</span>.props);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//对标签属性进行类型、必要性的限制</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">static</span> propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">name</span>:PropTypes.string.isRequired, <span class=\"comment\">//限制name必传，且为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">sex</span>:PropTypes.string,<span class=\"comment\">//限制sex为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">age</span>:PropTypes.number,<span class=\"comment\">//限制age为数值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//指定默认标签属性值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">static</span> defaultProps = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;男&#x27;</span>,<span class=\"comment\">//sex默认值为男</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">age</span>:<span class=\"number\">18</span> <span class=\"comment\">//age默认值为18</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">// console.log(this);</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;name,age,sex&#125; = <span class=\"built_in\">this</span>.props</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//props是只读的</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//this.props.name = &#x27;jack&#x27; //此行代码会报错，因为props是只读的</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> (</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>姓名：&#123;name&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>性别：&#123;sex&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>年龄：&#123;age+1&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;jerry&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test1&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"函数组件使用props\"><a href=\"#函数组件使用props\" class=\"headerlink\" title=\"函数组件使用props\"></a>函数组件使用props</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>对props进行限制<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test1&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test2&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test3&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入prop-types，用于对组件标签属性进行限制 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/prop-types.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span> (<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">const</span> &#123;name,age,sex&#125; = props</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"keyword\">return</span> (</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>姓名：&#123;name&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>性别：&#123;sex&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>年龄：&#123;age&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\tPerson.propTypes = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">name</span>:PropTypes.string.isRequired, <span class=\"comment\">//限制name必传，且为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">sex</span>:PropTypes.string,<span class=\"comment\">//限制sex为字符串</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">age</span>:PropTypes.number,<span class=\"comment\">//限制age为数值</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//指定默认标签属性值\t</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tPerson.defaultProps = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">sex</span>:<span class=\"string\">&#x27;男&#x27;</span>,<span class=\"comment\">//sex默认值为男</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"attr\">age</span>:<span class=\"number\">18</span> <span class=\"comment\">//age默认值为18</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Person</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;jerry&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test1&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件三大核心属性-3-refs与事件处理\"><a href=\"#组件三大核心属性-3-refs与事件处理\" class=\"headerlink\" title=\"组件三大核心属性 3: refs与事件处理\"></a>组件三大核心属性 3: refs与事件处理</h2><h3 id=\"效果-1\"><a href=\"#效果-1\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p><strong>需求: 自定义组件, 功能说明如下:</strong></p>\n<p> <strong>1. 点击按钮, 提示第一个输入框中的值</strong></p>\n<p> <strong>2. 当第2个输入框失去焦点时, 提示这个输入框中的值</strong></p>\n<p>![](<a href=\"https://qny.aqingya.cn/img/props_event\">https://qny.aqingya.cn/img/props_event</a> (2).gif)</p>\n<h3 id=\"理解-2\"><a href=\"#理解-2\" class=\"headerlink\" title=\"理解\"></a>理解</h3><p>组件内的标签可以定义ref属性来标识自己</p>\n<h3 id=\"编码\"><a href=\"#编码\" class=\"headerlink\" title=\"编码\"></a>编码</h3><ol>\n<li><p>字符串形式的ref</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&quot;input1&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>\n<li><p>回调形式的ref</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;(c)</span>=&gt;</span>&#123;this.input1 = c&#125;&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>createRef创建ref容器</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">myRef = React.createRef() </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.myRef&#125;/</span>&gt;</span></span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"事件处理\"><a href=\"#事件处理\" class=\"headerlink\" title=\"事件处理\"></a>事件处理</h3><ol>\n<li> 通过onXxx属性指定事件处理函数(注意大小写)</li>\n</ol>\n<p>   (1)  React使用的是自定义(合成)事件, 而不是使用的原生DOM事件</p>\n<p>   (2)  React中的事件是通过事件委托方式处理的(委托给组件最外层的元素)</p>\n<ol start=\"2\">\n<li>通过event.target得到发生事件的DOM元素对象</li>\n</ol>\n<h3 id=\"案例-1\"><a href=\"#案例-1\" class=\"headerlink\" title=\"案例\"></a>案例</h3><h4 id=\"字符串形式的ref\"><a href=\"#字符串形式的ref\" class=\"headerlink\" title=\"字符串形式的ref\"></a>字符串形式的ref</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_字符串形式的ref<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示左侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input1&#125; = <span class=\"built_in\">this</span>.refs</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input1.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示右侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData2 = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input2&#125; = <span class=\"built_in\">this</span>.refs</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input2.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&quot;input1&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;点击按钮提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showData&#125;</span>&gt;</span>点我提示左侧的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&quot;input2&quot;</span> <span class=\"attr\">onBlur</span>=<span class=\"string\">&#123;this.showData2&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;失去焦点提示数据&quot;</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span> <span class=\"attr\">a</span>=<span class=\"string\">&quot;1&quot;</span> <span class=\"attr\">b</span>=<span class=\"string\">&quot;2&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"回调函数形式的ref\"><a href=\"#回调函数形式的ref\" class=\"headerlink\" title=\"回调函数形式的ref\"></a>回调函数形式的ref</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_字符串形式的ref<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示左侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input1&#125; = <span class=\"built_in\">this</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input1.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示右侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData2 = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input2&#125; = <span class=\"built_in\">this</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input2.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;c</span> =&gt;</span> this.input1 = c &#125; type=&quot;text&quot; placeholder=&quot;点击按钮提示数据&quot;/&gt;<span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showData&#125;</span>&gt;</span>点我提示左侧的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onBlur</span>=<span class=\"string\">&#123;this.showData2&#125;</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;c</span> =&gt;</span> this.input2 = c &#125; type=&quot;text&quot; placeholder=&quot;失去焦点提示数据&quot;/&gt;<span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span> <span class=\"attr\">a</span>=<span class=\"string\">&quot;1&quot;</span> <span class=\"attr\">b</span>=<span class=\"string\">&quot;2&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"回调ref中回调执行次数的问题\"><a href=\"#回调ref中回调执行次数的问题\" class=\"headerlink\" title=\"回调ref中回调执行次数的问题\"></a>回调ref中回调执行次数的问题</h4><p>如果 <code>ref</code> 回调函数是以内联函数的方式定义的，在更新过程中它会被执行两次，第一次传入参数 <code>null</code>，然后第二次会传入参数 DOM 元素。这是因为在每次渲染时会创建一个新的函数实例，所以 React 清空旧的 ref 并且设置新的。通过将 ref 的回调函数定义成 class 的绑定函数的方式可以避免上述问题，但是大多数情况下它是无关紧要的。 <a href=\"https://react.docschina.org/docs/refs-and-the-dom.html\">传送门</a></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>3_回调ref中回调执行次数的问题<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;<span class=\"attr\">isHot</span>:<span class=\"literal\">false</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowInfo = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;input1&#125; = <span class=\"built_in\">this</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(input1.value)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tchangeWeather = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//获取原来的状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;isHot&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//更新状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">isHot</span>:!isHot&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tsaveInput = <span class=\"function\">(<span class=\"params\">c</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.input1 = c;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;@&#x27;</span>,c);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;isHot&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>今天天气很&#123;isHot ? &#x27;炎热&#x27;:&#x27;凉爽&#x27;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t&#123;/*<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;(c)</span>=&gt;</span>&#123;this.input1 = c;console.log(&#x27;@&#x27;,c);&#125;&#125; type=&quot;text&quot;/&gt;<span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span>*/&#125;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.saveInput&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span>/&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showInfo&#125;</span>&gt;</span>点我提示输入的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.changeWeather&#125;</span>&gt;</span>点我切换天气<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"createRef的使用\"><a href=\"#createRef的使用\" class=\"headerlink\" title=\"createRef的使用\"></a>createRef的使用</h4><p>React.createRef调用后可以返回一个容器，该容器可以存储被ref所标识的节点,该容器是“专人专用”的</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>4_createRef<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\tReact.createRef调用后可以返回一个容器，该容器可以存储被ref所标识的节点,该容器是“专人专用”的</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t */</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tmyRef = React.createRef()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tmyRef2 = React.createRef()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示左侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"built_in\">this</span>.myRef.current.value);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示右侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData2 = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"built_in\">this</span>.myRef2.current.value);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.myRef&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;点击按钮提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showData&#125;</span>&gt;</span>点我提示左侧的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onBlur</span>=<span class=\"string\">&#123;this.showData2&#125;</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.myRef2&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;失去焦点提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span> <span class=\"attr\">a</span>=<span class=\"string\">&quot;1&quot;</span> <span class=\"attr\">b</span>=<span class=\"string\">&quot;2&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件三大核心属性-3-refs与事件处理-1\"><a href=\"#组件三大核心属性-3-refs与事件处理-1\" class=\"headerlink\" title=\"组件三大核心属性 3: refs与事件处理\"></a>组件三大核心属性 3: refs与事件处理</h2><h3 id=\"事件处理-1\"><a href=\"#事件处理-1\" class=\"headerlink\" title=\"事件处理\"></a>事件处理</h3><p>(1). 通过onXxx属性指定事件处理函数(注意大小写)<br>        a. React使用的是自定义(合成)事件, 而不是使用的原生DOM事件 —————— 为了更好的兼容性<br>        b. React中的事件是通过事件委托方式处理的(委托给组件最外层的元素) ————————为了的高效<br>(2). 通过event.target得到发生事件的DOM元素对象 ——————————不要过度使用ref</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>事件处理<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Demo</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t(1).通过onXxx属性指定事件处理函数(注意大小写)</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\ta.React使用的是自定义(合成)事件, 而不是使用的原生DOM事件 —————— 为了更好的兼容性</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\tb.React中的事件是通过事件委托方式处理的(委托给组件最外层的元素) ————————为了的高效</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t(2).通过event.target得到发生事件的DOM元素对象 ——————————不要过度使用ref</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t */</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//创建ref容器</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tmyRef = React.createRef()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tmyRef2 = React.createRef()</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示左侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(event.target);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"built_in\">this</span>.myRef.current.value);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//展示右侧输入框的数据</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tshowData2 = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(event.target.value);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;this.myRef&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;点击按钮提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.showData&#125;</span>&gt;</span>点我提示左侧的数据<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onBlur</span>=<span class=\"string\">&#123;this.showData2&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;失去焦点提示数据&quot;</span>/&gt;</span><span class=\"symbol\">&amp;nbsp;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件到页面</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Demo</span> <span class=\"attr\">a</span>=<span class=\"string\">&quot;1&quot;</span> <span class=\"attr\">b</span>=<span class=\"string\">&quot;2&quot;</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"收集表单数据\"><a href=\"#收集表单数据\" class=\"headerlink\" title=\"收集表单数据\"></a>收集表单数据</h2><h3 id=\"效果-2\"><a href=\"#效果-2\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p>需求 定义一个包含表单的组件</p>\n<p>输入用户名密码后点击登录提示输入信息</p>\n<p>![](<a href=\"https://qny.aqingya.cn/img/%E6%94%B6%E9%9B%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE\">https://qny.aqingya.cn/img/收集表单数据</a> (2).gif)</p>\n<h3 id=\"理解-3\"><a href=\"#理解-3\" class=\"headerlink\" title=\"理解\"></a>理解</h3><p>包含表单的组件分类</p>\n<ol>\n<li><p>受控组件</p>\n</li>\n<li><p>非受控组件</p>\n</li>\n</ol>\n<h3 id=\"案例-2\"><a href=\"#案例-2\" class=\"headerlink\" title=\"案例\"></a>案例</h3><h4 id=\"受控组件\"><a href=\"#受控组件\" class=\"headerlink\" title=\"受控组件\"></a>受控组件</h4><p>总结：随取随用</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_非受控组件<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Login</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\thandleSubmit = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\tevent.preventDefault() <span class=\"comment\">//阻止表单提交</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;username,password&#125; = <span class=\"built_in\">this</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"string\">`你输入的用户名是：<span class=\"subst\">$&#123;username.value&#125;</span>,你输入的密码是：<span class=\"subst\">$&#123;password.value&#125;</span>`</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">onSubmit</span>=<span class=\"string\">&#123;this.handleSubmit&#125;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t用户名：<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;c</span> =&gt;</span> this.username = c&#125; type=&quot;text&quot; name=&quot;username&quot;/&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t密码：<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#123;c</span> =&gt;</span> this.password = c&#125; type=&quot;password&quot; name=&quot;password&quot;/&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>登录<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Login</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"非受控组件\"><a href=\"#非受控组件\" class=\"headerlink\" title=\"非受控组件\"></a>非受控组件</h4><p>总结：实时将你更新的数据 同步到statu状态中，用的时候再去取，类似vue的双向绑定。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>2_受控组件<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Login</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">username</span>:<span class=\"string\">&#x27;&#x27;</span>, <span class=\"comment\">//用户名</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"attr\">password</span>:<span class=\"string\">&#x27;&#x27;</span> <span class=\"comment\">//密码</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//保存用户名到状态中</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tsaveUsername = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">username</span>:event.target.value&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//保存密码到状态中</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tsavePassword = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">password</span>:event.target.value&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//表单提交的回调</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\thandleSubmit = <span class=\"function\">(<span class=\"params\">event</span>)=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\tevent.preventDefault() <span class=\"comment\">//阻止表单提交</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;username,password&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\talert(<span class=\"string\">`你输入的用户名是：<span class=\"subst\">$&#123;username&#125;</span>,你输入的密码是：<span class=\"subst\">$&#123;password&#125;</span>`</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">onSubmit</span>=<span class=\"string\">&#123;this.handleSubmit&#125;</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t用户名：<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onChange</span>=<span class=\"string\">&#123;this.saveUsername&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;username&quot;</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t密码：<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">onChange</span>=<span class=\"string\">&#123;this.savePassword&#125;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;password&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span>/&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>登录<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Login</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"组件的生命周期\"><a href=\"#组件的生命周期\" class=\"headerlink\" title=\"组件的生命周期\"></a>组件的生命周期</h2><h3 id=\"效果-3\"><a href=\"#效果-3\" class=\"headerlink\" title=\"效果\"></a>效果</h3><p>需求:定义组件实现以下功能：</p>\n<p> <strong>1.</strong> 让指定的文本做显示/隐藏的渐变动画</p>\n<p> <strong>2.</strong> 从完全可见，到彻底消失，耗时2S</p>\n<p> <strong>3.</strong> 点击“不活了”按钮从界面中卸载组件</p>\n<p><img src=\"https://qny.aqingya.cn/img/component.gif\"></p>\n<h3 id=\"理解-4\"><a href=\"#理解-4\" class=\"headerlink\" title=\"理解\"></a>理解</h3><ol>\n<li><p>组件从创建到死亡它会经历一些特定的阶段。</p>\n</li>\n<li><p>React组件中包含一系列勾子函数(生命周期回调函数), 会在特定的时刻调用。</p>\n</li>\n<li><p>我们在定义组件时，会在特定的生命周期回调函数中，做特定的工作。</p>\n</li>\n</ol>\n<h3 id=\"生命周期流程图-旧\"><a href=\"#生命周期流程图-旧\" class=\"headerlink\" title=\"生命周期流程图(旧)\"></a>生命周期流程图(旧)</h3><p><img src=\"https://qny.aqingya.cn/img/20221114171433.png\"></p>\n<p>生命周期的三个阶段（旧）</p>\n<p><strong>1.初始化阶段:</strong> 由ReactDOM.render()触发—初次渲染</p>\n<ol>\n<li><p>constructor()</p>\n</li>\n<li><p>componentWillMount()</p>\n</li>\n<li><p>render()    =====&gt; 必须使用的一个</p>\n</li>\n<li><p>componentDidMount()   // 常用：一般在这个钩子中做一些初始化的事，例如：开启定时器、发送网络请求、订阅消息。</p>\n</li>\n</ol>\n<p>**2.更新阶段:**由组件内部this.setSate()或父组件重新render触发</p>\n<ol>\n<li><p>shouldComponentUpdate()   // 阀门 如果不写会提供一个默认返回值为真；若写了，按自己写的为主，true为通过，false为不通过。</p>\n</li>\n<li><p>componentWillUpdate()</p>\n</li>\n<li><p>render()</p>\n</li>\n<li><p>componentDidUpdate()</p>\n</li>\n</ol>\n<p>**3.卸载组件:**由ReactDOM.unmountComponentAtNode()触发</p>\n<ol>\n<li>componentWillUnmount()    // 常用：一般在这个钩子中做一些收尾的事，例如：关闭定时器、取消订阅消息。</li>\n</ol>\n<h4 id=\"引出生命周期\"><a href=\"#引出生命周期\" class=\"headerlink\" title=\"引出生命周期\"></a>引出生命周期</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>1_引出生命周期<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//生命周期回调函数 &lt;=&gt; 生命周期钩子函数 &lt;=&gt; 生命周期函数 &lt;=&gt; 生命周期钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Life</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;<span class=\"attr\">opacity</span>:<span class=\"number\">1</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tdeath = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//卸载组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\tReactDOM.unmountComponentAtNode(<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件挂完毕</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentDidMount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;componentDidMount&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.timer = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"comment\">//获取原状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"keyword\">let</span> &#123;opacity&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"comment\">//减小0.1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\topacity -= <span class=\"number\">0.1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"keyword\">if</span>(opacity &lt;= <span class=\"number\">0</span>) opacity = <span class=\"number\">1</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"comment\">//设置新的透明度</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;opacity&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t&#125;, <span class=\"number\">200</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要卸载</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillUnmount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//清除定时器</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">clearInterval</span>(<span class=\"built_in\">this</span>.timer)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//初始化渲染、状态更新之后</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;render&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">style</span>=<span class=\"string\">&#123;&#123;opacity:this.state.opacity&#125;&#125;</span>&gt;</span>React学不会怎么办？<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.death&#125;</span>&gt;</span>不活了<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Life</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"react生命周期-旧\"><a href=\"#react生命周期-旧\" class=\"headerlink\" title=\"react生命周期(旧)\"></a>react生命周期(旧)</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>2_react生命周期(旧)<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 准备好一个“容器” --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react核心库 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入react-dom，用于支持react操作DOM --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 引入babel，用于将jsx转为js --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span>&gt;</span><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">/* </span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t1. 初始化阶段: 由ReactDOM.render()触发---初次渲染</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t1.\tconstructor()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t2.\tcomponentWillMount()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t3.\trender()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t4.\tcomponentDidMount() =====&gt; 常用</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t\t\t\t\t一般在这个钩子中做一些初始化的事，例如：开启定时器、发送网络请求、订阅消息</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t2. 更新阶段: 由组件内部this.setSate()或父组件render触发</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t1.\tshouldComponentUpdate()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t2.\tcomponentWillUpdate()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t3.\trender() =====&gt; 必须使用的一个</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t4.\tcomponentDidUpdate()</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t3. 卸载组件: 由ReactDOM.unmountComponentAtNode()触发</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t1.\tcomponentWillUnmount()  =====&gt; 常用</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t\t\t\t\t\t\t\t\t\t\t\t一般在这个钩子中做一些收尾的事，例如：关闭定时器、取消订阅消息</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"javascript\">\t\t*/</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//创建组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Count</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//构造器</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">constructor</span>(<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---constructor&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">super</span>(props)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.state = &#123;<span class=\"attr\">count</span>:<span class=\"number\">0</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//加1按钮的回调</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tadd = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//获取原状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;count&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"comment\">//更新状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">count</span>:count+<span class=\"number\">1</span>&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//卸载组件按钮的回调</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tdeath = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\tReactDOM.unmountComponentAtNode(<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//强制更新按钮的回调</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tforce = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.forceUpdate()</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要挂载的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillMount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentWillMount&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件挂载完毕的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentDidMount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentDidMount&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要卸载的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillUnmount</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentWillUnmount&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//控制组件更新的“阀门”</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">shouldComponentUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---shouldComponentUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要更新的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentWillUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件更新完毕的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentDidUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---componentDidUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;Count---render&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">const</span> &#123;count&#125; = <span class=\"built_in\">this</span>.state</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>当前求和为：&#123;count&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.add&#125;</span>&gt;</span>点我+1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.death&#125;</span>&gt;</span>卸载组件<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.force&#125;</span>&gt;</span>不更改任何状态中的数据，强制更新一下<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//父组件A</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">A</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//初始化状态</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tstate = &#123;<span class=\"attr\">carName</span>:<span class=\"string\">&#x27;奔驰&#x27;</span>&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\tchangeCar = <span class=\"function\">()=&gt;</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">this</span>.setState(&#123;<span class=\"attr\">carName</span>:<span class=\"string\">&#x27;奥拓&#x27;</span>&#125;)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>我是A组件<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">onClick</span>=<span class=\"string\">&#123;this.changeCar&#125;</span>&gt;</span>换车<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">B</span> <span class=\"attr\">carName</span>=<span class=\"string\">&#123;this.state.carName&#125;/</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"javascript\">\t\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//子组件B</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">B</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span></span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要接收新的props的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillReceiveProps</span>(<span class=\"params\">props</span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---componentWillReceiveProps&#x27;</span>,props);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//控制组件更新的“阀门”</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">shouldComponentUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---shouldComponentUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">true</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件将要更新的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentWillUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---componentWillUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"comment\">//组件更新完毕的钩子</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">componentDidUpdate</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---componentDidUpdate&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\"></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t<span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\"></span>)</span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">&#x27;B---render&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t<span class=\"keyword\">return</span>(</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t\t<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>我是B组件，接收到的车是:&#123;this.props.carName&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t\t)</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t</span></span><br><span class=\"line\"><span class=\"javascript\">\t\t<span class=\"comment\">//渲染组件</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t\tReactDOM.render(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Count</span>/&gt;</span></span>,<span class=\"built_in\">document</span>.getElementById(<span class=\"string\">&#x27;test&#x27;</span>))</span></span><br><span class=\"line\"><span class=\"javascript\">\t</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"生命周期流程图-新\"><a href=\"#生命周期流程图-新\" class=\"headerlink\" title=\"生命周期流程图(新)\"></a>生命周期流程图(新)</h3><p><img src=\"https://qny.aqingya.cn/img/20221114171726.png\"></p>\n<p>生命周期的三个阶段（新）</p>\n<p><strong>1.初始化阶段:</strong> 由ReactDOM.render()触发—初次渲染</p>\n<ol>\n<li><p>constructor()</p>\n</li>\n<li><p><strong>getDerivedStateFromProps</strong></p>\n</li>\n<li><p>render()</p>\n</li>\n<li><p>componentDidMount()</p>\n</li>\n</ol>\n<p><strong>2.更新阶段:</strong> 由组件内部this.setSate()或父组件重新render触发</p>\n<ol>\n<li><p><strong>getDerivedStateFromProps</strong></p>\n</li>\n<li><p>shouldComponentUpdate()      </p>\n</li>\n<li><p>render()</p>\n</li>\n<li><p><strong>getSnapshotBeforeUpdate</strong></p>\n</li>\n<li><p>componentDidUpdate()</p>\n</li>\n</ol>\n<p><strong>3.卸载组件:</strong> 由ReactDOM.unmountComponentAtNode()触发</p>\n<ol>\n<li>componentWillUnmount()</li>\n</ol>\n<h3 id=\"重要的勾子\"><a href=\"#重要的勾子\" class=\"headerlink\" title=\"重要的勾子\"></a>重要的勾子</h3><ol>\n<li><p>render：初始化渲染或更新渲染调用</p>\n</li>\n<li><p>componentDidMount：开启监听, 发送ajax请求</p>\n</li>\n<li><p>componentWillUnmount：做一些收尾工作, 如: 清理定时器</p>\n</li>\n</ol>\n<h3 id=\"即将废弃的勾子\"><a href=\"#即将废弃的勾子\" class=\"headerlink\" title=\"即将废弃的勾子\"></a>即将废弃的勾子</h3><ol>\n<li><p>componentWillMount</p>\n</li>\n<li><p>componentWillReceiveProps</p>\n</li>\n<li><p>componentWillUpdate</p>\n</li>\n</ol>\n<p>现在使用会出现警告，下一个大版本需要加上UNSAFE_前缀才能使用，以后可能会被彻底废弃，不建议使用。</p>\n<h2 id=\"虚拟DOM与DOM-Diffing算法\"><a href=\"#虚拟DOM与DOM-Diffing算法\" class=\"headerlink\" title=\"虚拟DOM与DOM Diffing算法\"></a>虚拟DOM与DOM Diffing算法</h2><p>基本原理图</p>\n<p><img src=\"https://qny.aqingya.cn/img/20221124101248.png\"></p>\n<h2 id=\"React应用-基于React脚手架\"><a href=\"#React应用-基于React脚手架\" class=\"headerlink\" title=\"React应用(基于React脚手架)\"></a>React应用(基于React脚手架)</h2><h3 id=\"create-react-app创建react应用\"><a href=\"#create-react-app创建react应用\" class=\"headerlink\" title=\"create-react-app创建react应用\"></a>create-react-app创建react应用</h3><h3 id=\"脚手架\"><a href=\"#脚手架\" class=\"headerlink\" title=\"脚手架\"></a>脚手架</h3><ol>\n<li>xxx脚手架: 用来帮助程序员快速创建一个基于xxx库的模板项目</li>\n</ol>\n<p>​            包含了所有需要的配置（语法检查、jsx编译、devServer…）</p>\n<p>​            下载好了所有相关的依赖</p>\n<ol start=\"2\">\n<li><p>可以直接运行一个简单效果</p>\n</li>\n<li><p>react提供了一个用于创建react项目的脚手架库: <code>create-react-app</code></p>\n</li>\n<li><p>项目的整体技术架构为:  react + webpack + es6 + eslint</p>\n</li>\n<li><p>使用脚手架开发的项目的特点: 模块化, 组件化, 工程化</p>\n</li>\n</ol>\n<h3 id=\"创建项目并启动\"><a href=\"#创建项目并启动\" class=\"headerlink\" title=\"创建项目并启动\"></a>创建项目并启动</h3><p><strong>第一步</strong>，全局安装：<code>npm i -g create-react-app</code></p>\n<p><strong>第二步</strong>，切换到想创项目的目录，使用命令：<code>create-react-app hello-react</code></p>\n<p><strong>第三步</strong>，进入项目文件夹：<code>cd hello-react</code></p>\n<p><strong>第四步</strong>，启动项目：<code>npm start</code></p>\n<h3 id=\"react脚手架项目结构\"><a href=\"#react脚手架项目结构\" class=\"headerlink\" title=\"react脚手架项目结构\"></a>react脚手架项目结构</h3><blockquote>\n<p>​    public —- 静态资源文件夹</p>\n<p>​        favicon.icon —— 网站页签图标</p>\n<p>​        <strong>index.html——–主页面</strong></p>\n<p>​        logo192.png ——- logo图</p>\n<p>​        logo512.png ——- logo图</p>\n<p>​        manifest.json —– 应用加壳的配置文件</p>\n<p>​        robots.txt ——– 爬虫协议文件</p>\n<p>src —- 源码文件夹</p>\n<p>​        App.css ——– App组件的样式</p>\n<p>​        <strong>App.js——–App组件</strong></p>\n<p>​        App.test.js —- 用于给App做测试</p>\n<p>​        index.css —— 样式</p>\n<p>​        <strong>index.js——入口文件</strong></p>\n<p>​        logo.svg ——- logo图</p>\n<p>​        reportWebVitals.js</p>\n<p>​            — 页面性能分析文件(需要web-vitals库的支持)</p>\n<p>​        setupTests.js</p>\n<p>​            —- 组件单元测试的文件(需要jest-dom库的支持)</p>\n</blockquote>\n<h1 id=\"面试题\"><a href=\"#面试题\" class=\"headerlink\" title=\"面试题\"></a>面试题</h1><p>1、React并不会真正的绑定事件到每一个具体某个DOM元素上，而是采用事件代理的模式；</p>\n","categories":[{"name":"React","path":"api/categories/React.json"}],"tags":[{"name":"React","path":"api/tags/React.json"}]}